/*!
 * Bootforce v0.0.2 ()
 * Bootforce owes much to Bootstrap "http://getbootstrap.com"
 * Licensed under the MIT license
 */

var requirejs,require,define;!function(p){var o,s,d,g,y={},v={},m={},b={},n=Object.prototype.hasOwnProperty,r=[].slice,_=/\.js$/;function w(t,e){return n.call(t,e)}function a(t,e){var n,r,i,o,s,a,u,c,l,f,h,p=e&&e.split("/"),d=m.map,g=d&&d["*"]||{};if(t){for(s=(t=t.split("/")).length-1,m.nodeIdCompat&&_.test(t[s])&&(t[s]=t[s].replace(_,"")),"."===t[0].charAt(0)&&p&&(t=p.slice(0,p.length-1).concat(t)),l=0;l<t.length;l++)if("."===(h=t[l]))t.splice(l,1),l-=1;else if(".."===h){if(0===l||1===l&&".."===t[2]||".."===t[l-1])continue;0<l&&(t.splice(l-1,2),l-=2)}t=t.join("/")}if((p||g)&&d){for(l=(n=t.split("/")).length;0<l;l-=1){if(r=n.slice(0,l).join("/"),p)for(f=p.length;0<f;f-=1)if((i=d[p.slice(0,f).join("/")])&&(i=i[r])){o=i,a=l;break}if(o)break;!u&&g&&g[r]&&(u=g[r],c=l)}!o&&u&&(o=u,a=c),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function E(e,n){return function(){var t=r.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),s.apply(p,t.concat([e,n]))}}function T(e){return function(t){y[e]=t}}function S(t){if(w(v,t)){var e=v[t];delete v[t],b[t]=!0,o.apply(p,e)}if(!w(y,t)&&!w(b,t))throw new Error("No "+t);return y[t]}function u(t){var e,n=t?t.indexOf("!"):-1;return-1<n&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function x(t){return t?u(t):[]}d=function(t,e){var n,r,i=u(t),o=i[0],s=e[1];return t=i[1],o&&(n=S(o=a(o,s))),o?t=n&&n.normalize?n.normalize(t,(r=s,function(t){return a(t,r)})):a(t,s):(o=(i=u(t=a(t,s)))[0],t=i[1],o&&(n=S(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},g={require:function(t){return E(t)},exports:function(t){var e=y[t];return void 0!==e?e:y[t]={}},module:function(t){return{id:t,uri:"",exports:y[t],config:(e=t,function(){return m&&m.config&&m.config[e]||{}})};var e}},o=function(t,e,n,r){var i,o,s,a,u,c,l,f=[],h=typeof n;if(c=x(r=r||t),"undefined"===h||"function"===h){for(e=!e.length&&n.length?["require","exports","module"]:e,u=0;u<e.length;u+=1)if("require"===(o=(a=d(e[u],c)).f))f[u]=g.require(t);else if("exports"===o)f[u]=g.exports(t),l=!0;else if("module"===o)i=f[u]=g.module(t);else if(w(y,o)||w(v,o)||w(b,o))f[u]=S(o);else{if(!a.p)throw new Error(t+" missing "+o);a.p.load(a.n,E(r,!0),T(o),{}),f[u]=y[o]}s=n?n.apply(y[t],f):void 0,t&&(i&&i.exports!==p&&i.exports!==y[t]?y[t]=i.exports:s===p&&l||(y[t]=s))}else t&&(y[t]=n)},requirejs=require=s=function(t,e,n,r,i){if("string"==typeof t)return g[t]?g[t](e):S(d(t,x(e)).f);if(!t.splice){if((m=t).deps&&s(m.deps,m.callback),!e)return;e.splice?(t=e,e=n,n=null):t=p}return e=e||function(){},"function"==typeof n&&(n=r,r=i),r?o(p,t,e,n):setTimeout(function(){o(p,t,e,n)},4),s},s.config=function(t){return s(t)},requirejs._defined=y,(define=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),w(y,t)||w(v,t)||(v[t]=[t,e,n])}).amd={jQuery:!0}}(),define("../lib/almond/almond",function(){}),function(Ja){var Pa,Ka=this||eval("this"),La=Ka.document,Ma=Ka.navigator,Na=Ka.jQuery,Oa=Ka.JSON;Pa=function(t,r){function n(t,e){return(null===t||typeof t in a)&&t===e}function o(t,e){var n;return function(){n||(n=setTimeout(function(){n=Ja,t()},e))}}function s(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function e(t,u,c,l){O.d[t]={init:function(r,i,t,e,o){var s,a;return O.w(function(){var t=O.a.c(i()),e=!c!=!t,n=!a;(n||u||e!==s)&&(n&&O.Z.oa()&&(a=O.a.la(O.e.childNodes(r),!0)),e?(n||O.e.T(r,O.a.la(a)),O.Ja(l?l(o,t):o,r)):O.e.ma(r),s=e)},null,{q:r}),{controlsDescendantBindings:!0}}},O.h.ka[t]=!1,O.e.R[t]=!0}var i,O=void 0!==t?t:{};O.b=function(t,e){for(var n=t.split("."),r=O,i=0;i<n.length-1;i++)r=r[n[i]];r[n[n.length-1]]=e},O.D=function(t,e,n){t[e]=n},O.version="3.3.0",O.b("version",O.version),O.a=function(){function f(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function t(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function e(t,e){return t.__proto__=e,t}function i(t,e,n,r){var i=t[e].match(u)||[];O.a.o(n.match(u),function(t){O.a.ga(i,t,r)}),t[e]=i.join(" ")}var n={__proto__:[]}instanceof Array,r={},o={};r[Ma&&/Firefox\/2/i.test(Ma.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],r.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),f(r,function(t,e){if(e.length)for(var n=0,r=e.length;n<r;n++)o[e[n]]=t});var s={propertychange:!0},a=La&&function(){for(var t=3,e=La.createElement("div"),n=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",n[0];);return 4<t?t:Ja}(),u=/\S+/g;return{Bb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)},m:function(t,e){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},vb:function(t,e,n){for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r))return t[r];return null},ya:function(t,e){var n=O.a.m(t,e);0<n?t.splice(n,1):0===n&&t.shift()},wb:function(t){for(var e=[],n=0,r=(t=t||[]).length;n<r;n++)O.a.m(e,t[n])<0&&e.push(t[n]);return e},Ka:function(t,e){for(var n=[],r=0,i=(t=t||[]).length;r<i;r++)n.push(e(t[r],r));return n},xa:function(t,e){for(var n=[],r=0,i=(t=t||[]).length;r<i;r++)e(t[r],r)&&n.push(t[r]);return n},ia:function(t,e){if(e instanceof Array)t.push.apply(t,e);else for(var n=0,r=e.length;n<r;n++)t.push(e[n]);return t},ga:function(t,e,n){var r=O.a.m(O.a.cb(t),e);r<0?n&&t.push(e):n||t.splice(r,1)},za:n,extend:t,Fa:e,Ga:n?e:t,A:f,pa:function(t,e){if(!t)return t;var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n],n,t));return r},Ra:function(t){for(;t.firstChild;)O.removeNode(t.firstChild)},Jb:function(t){for(var e=((t=O.a.O(t))[0]&&t[0].ownerDocument||La).createElement("div"),n=0,r=t.length;n<r;n++)e.appendChild(O.S(t[n]));return e},la:function(t,e){for(var n=0,r=t.length,i=[];n<r;n++){var o=t[n].cloneNode(!0);i.push(e?O.S(o):o)}return i},T:function(t,e){if(O.a.Ra(t),e)for(var n=0,r=e.length;n<r;n++)t.appendChild(e[n])},Qb:function(t,e){var n=t.nodeType?[t]:t;if(0<n.length){for(var r=n[0],i=r.parentNode,o=0,s=e.length;o<s;o++)i.insertBefore(e[o],r);for(o=0,s=n.length;o<s;o++)O.removeNode(n[o])}},na:function(t,e){if(t.length){for(e=8===e.nodeType&&e.parentNode||e;t.length&&t[0].parentNode!==e;)t.splice(0,1);if(1<t.length){var n=t[0],r=t[t.length-1];for(t.length=0;n!==r;)if(t.push(n),!(n=n.nextSibling))return;t.push(r)}}return t},Sb:function(t,e){a<7?t.setAttribute("selected",e):t.selected=e},ib:function(t){return null===t||t===Ja?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Dc:function(t,e){return t=t||"",!(e.length>t.length)&&t.substring(0,e.length)===e},jc:function(t,e){if(t===e)return!0;if(11===t.nodeType)return!1;if(e.contains)return e.contains(3===t.nodeType?t.parentNode:t);if(e.compareDocumentPosition)return 16==(16&e.compareDocumentPosition(t));for(;t&&t!=e;)t=t.parentNode;return!!t},Qa:function(t){return O.a.jc(t,t.ownerDocument.documentElement)},tb:function(t){return!!O.a.vb(t,O.a.Qa)},v:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},n:function(e,t,n){var r=a&&s[t];if(!r&&Na)Na(e).bind(t,n);else if(r||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var i=function(t){n.call(e,t)},o="on"+t;e.attachEvent(o,i),O.a.C.fa(e,function(){e.detachEvent(o,i)})}else e.addEventListener(t,n,!1)},qa:function(t,e){if(!t||!t.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n;if(n=!("input"!==O.a.v(t)||!t.type||"click"!=e.toLowerCase()||"checkbox"!=(n=t.type)&&"radio"!=n),Na&&!n)Na(t).trigger(e);else if("function"==typeof La.createEvent){if("function"!=typeof t.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=La.createEvent(o[e]||"HTMLEvents")).initEvent(e,!0,!0,Ka,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(n)}else if(n&&t.click)t.click();else{if(void 0===t.fireEvent)throw Error("Browser doesn't support triggering events");t.fireEvent("on"+e)}},c:function(t){return O.F(t)?t():t},cb:function(t){return O.F(t)?t.B():t},Ia:function(e,t,n){var r;t&&("object"==typeof e.classList?(r=e.classList[n?"add":"remove"],O.a.o(t.match(u),function(t){r.call(e.classList,t)})):"string"==typeof e.className.baseVal?i(e.className,"baseVal",t,n):i(e,"className",t,n))},Ha:function(t,e){var n=O.a.c(e);null!==n&&n!==Ja||(n="");var r=O.e.firstChild(t);!r||3!=r.nodeType||O.e.nextSibling(r)?O.e.T(t,[t.ownerDocument.createTextNode(n)]):r.data=n,O.a.mc(t)},Rb:function(t,e){if(t.name=e,a<=7)try{t.mergeAttributes(La.createElement("<input name='"+t.name+"'/>"),!1)}catch(t){}},mc:function(t){9<=a&&(t=1==t.nodeType?t:t.parentNode).style&&(t.style.zoom=t.style.zoom)},kc:function(t){if(a){var e=t.style.width;t.style.width=0,t.style.width=e}},Bc:function(t,e){t=O.a.c(t),e=O.a.c(e);for(var n=[],r=t;r<=e;r++)n.push(r);return n},O:function(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n]);return e},Hc:6===a,Ic:7===a,M:a,Db:function(t,e){for(var n=O.a.O(t.getElementsByTagName("input")).concat(O.a.O(t.getElementsByTagName("textarea"))),r="string"==typeof e?function(t){return t.name===e}:function(t){return e.test(t.name)},i=[],o=n.length-1;0<=o;o--)r(n[o])&&i.push(n[o]);return i},yc:function(t){return"string"==typeof t&&(t=O.a.ib(t))?Oa&&Oa.parse?Oa.parse(t):new Function("return "+t)():null},jb:function(t,e,n){if(!Oa||!Oa.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return Oa.stringify(O.a.c(t),e,n)},zc:function(t,e,n){var r=(n=n||{}).params||{},i=n.includeFields||this.Bb,o=t;if("object"==typeof t&&"form"===O.a.v(t)){o=t.action;for(var s=i.length-1;0<=s;s--)for(var a=O.a.Db(t,i[s]),u=a.length-1;0<=u;u--)r[a[u].name]=a[u].value}e=O.a.c(e);var c=La.createElement("form");for(var l in c.style.display="none",c.action=o,c.method="post",e)(t=La.createElement("input")).type="hidden",t.name=l,t.value=O.a.jb(O.a.c(e[l])),c.appendChild(t);f(r,function(t,e){var n=La.createElement("input");n.type="hidden",n.name=t,n.value=e,c.appendChild(n)}),La.body.appendChild(c),n.submitter?n.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}}(),O.b("utils",O.a),O.b("utils.arrayForEach",O.a.o),O.b("utils.arrayFirst",O.a.vb),O.b("utils.arrayFilter",O.a.xa),O.b("utils.arrayGetDistinctValues",O.a.wb),O.b("utils.arrayIndexOf",O.a.m),O.b("utils.arrayMap",O.a.Ka),O.b("utils.arrayPushAll",O.a.ia),O.b("utils.arrayRemoveItem",O.a.ya),O.b("utils.extend",O.a.extend),O.b("utils.fieldsIncludedWithJsonPost",O.a.Bb),O.b("utils.getFormFields",O.a.Db),O.b("utils.peekObservable",O.a.cb),O.b("utils.postJson",O.a.zc),O.b("utils.parseJson",O.a.yc),O.b("utils.registerEventHandler",O.a.n),O.b("utils.stringifyJson",O.a.jb),O.b("utils.range",O.a.Bc),O.b("utils.toggleDomNodeCssClass",O.a.Ia),O.b("utils.triggerEvent",O.a.qa),O.b("utils.unwrapObservable",O.a.c),O.b("utils.objectForEach",O.a.A),O.b("utils.addOrRemoveItem",O.a.ga),O.b("utils.setTextContent",O.a.Ha),O.b("unwrap",O.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if(1===arguments.length)return function(){return n.apply(e,arguments)};var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice(0);return t.push.apply(t,arguments),n.apply(e,t)}}),O.a.f=new function(){function r(t,e){var n=t[o];if(!n||"null"===n||!s[n]){if(!e)return Ja;n=t[o]="ko"+i++,s[n]={}}return s[n]}var i=0,o="__ko__"+(new Date).getTime(),s={};return{get:function(t,e){var n=r(t,!1);return n===Ja?Ja:n[e]},set:function(t,e,n){n===Ja&&r(t,!1)===Ja||(r(t,!0)[e]=n)},clear:function(t){var e=t[o];return!(!e||(delete s[e],t[o]=null))},I:function(){return i+++o}}},O.b("utils.domData",O.a.f),O.b("utils.domData.clear",O.a.f.clear),O.a.C=new function(){function r(t,e){var n=O.a.f.get(t,o);return n===Ja&&e&&(n=[],O.a.f.set(t,o,n)),n}function i(t){if(e=r(t,!1))for(var e=e.slice(0),n=0;n<e.length;n++)e[n](t);if(O.a.f.clear(t),O.a.C.cleanExternalData(t),a[t.nodeType])for(e=t.firstChild;t=e;)e=t.nextSibling,8===t.nodeType&&i(t)}var o=O.a.f.I(),s={1:!0,8:!0,9:!0},a={1:!0,9:!0};return{fa:function(t,e){if("function"!=typeof e)throw Error("Callback must be a function");r(t,!0).push(e)},Pb:function(t,e){var n=r(t,!1);n&&(O.a.ya(n,e),0==n.length&&O.a.f.set(t,o,Ja))},S:function(t){if(s[t.nodeType]&&(i(t),a[t.nodeType])){var e=[];O.a.ia(e,t.getElementsByTagName("*"));for(var n=0,r=e.length;n<r;n++)i(e[n])}return t},removeNode:function(t){O.S(t),t.parentNode&&t.parentNode.removeChild(t)},cleanExternalData:function(t){Na&&"function"==typeof Na.cleanData&&Na.cleanData([t])}}},O.S=O.a.C.S,O.removeNode=O.a.C.removeNode,O.b("cleanNode",O.S),O.b("removeNode",O.removeNode),O.b("utils.domNodeDisposal",O.a.C),O.b("utils.domNodeDisposal.addDisposeCallback",O.a.C.fa),O.b("utils.domNodeDisposal.removeDisposeCallback",O.a.C.Pb),O.a.ca=function(t,e){var n;if(Na){if(Na.parseHTML)n=Na.parseHTML(t,e)||[];else if((n=Na.clean([t],e))&&n[0]){for(var r=n[0];r.parentNode&&11!==r.parentNode.nodeType;)r=r.parentNode;r.parentNode&&r.parentNode.removeChild(r)}}else{(r=e)||(r=La),n=r.parentWindow||r.defaultView||Ka;var i=O.a.ib(t).toLowerCase(),o=(r=r.createElement("div"),"ignored<div>"+(i=i.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!i.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""])[1]+t+i[2]+"</div>");for("function"==typeof n.innerShiv?r.appendChild(n.innerShiv(o)):r.innerHTML=o;i[0]--;)r=r.lastChild;n=O.a.O(r.lastChild.childNodes)}return n},O.a.gb=function(t,e){if(O.a.Ra(t),null!==(e=O.a.c(e))&&e!==Ja)if("string"!=typeof e&&(e=e.toString()),Na)Na(t).html(e);else for(var n=O.a.ca(e,t.ownerDocument),r=0;r<n.length;r++)t.appendChild(n[r])},O.b("utils.parseHtmlFragment",O.a.ca),O.b("utils.setHtml",O.a.gb),O.H=(i={},{$a:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var e=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return i[e]=t,"\x3c!--[ko_memo:"+e+"]--\x3e"},Wb:function(t,e){var n=i[t];if(n===Ja)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return n.apply(null,e||[]),!0}finally{delete i[t]}},Xb:function(t,e){var n=[];!function t(e,n){if(e)if(8==e.nodeType)null!=(r=O.H.Lb(e.nodeValue))&&n.push({ic:e,wc:r});else if(1==e.nodeType)for(var r=0,i=e.childNodes,o=i.length;r<o;r++)t(i[r],n)}(t,n);for(var r=0,i=n.length;r<i;r++){var o=n[r].ic,s=[o];e&&O.a.ia(s,e),O.H.Wb(n[r].wc,s),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},Lb:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:null}}),O.b("memoization",O.H),O.b("memoization.memoize",O.H.$a),O.b("memoization.unmemoize",O.H.Wb),O.b("memoization.parseMemoText",O.H.Lb),O.b("memoization.unmemoizeDomNodeAndDescendants",O.H.Xb),O.Sa={throttle:function(e,n){e.throttleEvaluation=n;var r=null;return O.j({read:e,write:function(t){clearTimeout(r),r=setTimeout(function(){e(t)},n)}})},rateLimit:function(t,e){var n,r,i;"number"==typeof e?n=e:(n=e.timeout,r=e.method),i="notifyWhenChangesStop"==r?s:o,t.Za(function(t){return i(t,n)})},notify:function(t,e){t.equalityComparer="always"==e?null:n}};var a={undefined:1,boolean:1,number:1,string:1};O.b("extenders",O.Sa),O.Ub=function(t,e,n){this.da=t,this.La=e,this.hc=n,this.Gb=!1,O.D(this,"dispose",this.p)},O.Ub.prototype.p=function(){this.Gb=!0,this.hc()},O.Q=function(){O.a.Ga(this,O.Q.fn),this.G={},this.rb=1};var u={U:function(t,e,n){var r=this;n=n||"change";var i=new O.Ub(r,e?t.bind(e):t,function(){O.a.ya(r.G[n],i),r.ua&&r.ua(n)});return r.ja&&r.ja(n),r.G[n]||(r.G[n]=[]),r.G[n].push(i),i},notifySubscribers:function(t,e){if("change"===(e=e||"change")&&this.Yb(),this.Ba(e))try{O.k.xb();for(var n,r=this.G[e].slice(0),i=0;n=r[i];++i)n.Gb||n.La(t)}finally{O.k.end()}},Aa:function(){return this.rb},pc:function(t){return this.Aa()!==t},Yb:function(){++this.rb},Za:function(t){var e,n,r,i=this,o=O.F(i);i.ta||(i.ta=i.notifySubscribers,i.notifySubscribers=function(t,e){e&&"change"!==e?"beforeChange"===e?i.pb(t):i.ta(t,e):i.qb(t)});var s=t(function(){o&&r===i&&(r=i()),e=!1,i.Wa(n,r)&&i.ta(n=r)});i.qb=function(t){e=!0,r=t,s()},i.pb=function(t){e||(n=t,i.ta(t,"beforeChange"))}},Ba:function(t){return this.G[t]&&this.G[t].length},nc:function(t){if(t)return this.G[t]&&this.G[t].length||0;var n=0;return O.a.A(this.G,function(t,e){n+=e.length}),n},Wa:function(t,e){return!this.equalityComparer||!this.equalityComparer(t,e)},extend:function(t){var r=this;return t&&O.a.A(t,function(t,e){var n=O.Sa[t];"function"==typeof n&&(r=n(r,e)||r)}),r}};O.D(u,"subscribe",u.U),O.D(u,"extend",u.extend),O.D(u,"getSubscriptionsCount",u.nc),O.a.za&&O.a.Fa(u,Function.prototype),O.Q.fn=u,O.Hb=function(t){return null!=t&&"function"==typeof t.U&&"function"==typeof t.notifySubscribers},O.b("subscribable",O.Q),O.b("isSubscribable",O.Hb),O.Z=O.k=function(){function r(t){n.push(e),e=t}function i(){e=n.pop()}var e,n=[],o=0;return{xb:r,end:i,Ob:function(t){if(e){if(!O.Hb(t))throw Error("Only subscribable things can act as dependencies");e.La(t,t.ac||(t.ac=++o))}},u:function(t,e,n){try{return r(),t.apply(e,n||[])}finally{i()}},oa:function(){if(e)return e.w.oa()},Ca:function(){if(e)return e.Ca}}}(),O.b("computedContext",O.Z),O.b("computedContext.getDependenciesCount",O.Z.oa),O.b("computedContext.isInitial",O.Z.Ca),O.b("computedContext.isSleeping",O.Z.Jc),O.b("ignoreDependencies",O.Gc=O.k.u),O.r=function(t){function e(){return 0<arguments.length?(e.Wa(n,arguments[0])&&(e.X(),n=arguments[0],e.W()),this):(O.k.Ob(e),n)}var n=t;return O.Q.call(e),O.a.Ga(e,O.r.fn),e.B=function(){return n},e.W=function(){e.notifySubscribers(n)},e.X=function(){e.notifySubscribers(n,"beforeChange")},O.D(e,"peek",e.B),O.D(e,"valueHasMutated",e.W),O.D(e,"valueWillMutate",e.X),e},O.r.fn={equalityComparer:n};var y,c=O.r.Ac="__ko_proto__";O.r.fn[c]=O.r,O.a.za&&O.a.Fa(O.r.fn,O.Q.fn),O.Ta=function(t,e){return null!==t&&t!==Ja&&t[c]!==Ja&&(t[c]===e||O.Ta(t[c],e))},O.F=function(t){return O.Ta(t,O.r)},O.Da=function(t){return!!("function"==typeof t&&t[c]===O.r||"function"==typeof t&&t[c]===O.j&&t.qc)},O.b("observable",O.r),O.b("isObservable",O.F),O.b("isWriteableObservable",O.Da),O.b("isWritableObservable",O.Da),O.ba=function(t){if("object"!=typeof(t=t||[])||!("length"in t))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return t=O.r(t),O.a.Ga(t,O.ba.fn),t.extend({trackArrayChanges:!0})},O.ba.fn={remove:function(e){for(var t=this.B(),n=[],r="function"!=typeof e||O.F(e)?function(t){return t===e}:e,i=0;i<t.length;i++){var o=t[i];r(o)&&(0===n.length&&this.X(),n.push(o),t.splice(i,1),i--)}return n.length&&this.W(),n},removeAll:function(e){if(e!==Ja)return e?this.remove(function(t){return 0<=O.a.m(e,t)}):[];var t=this.B(),n=t.slice(0);return this.X(),t.splice(0,t.length),this.W(),n},destroy:function(e){var t=this.B(),n="function"!=typeof e||O.F(e)?function(t){return t===e}:e;this.X();for(var r=t.length-1;0<=r;r--)n(t[r])&&(t[r]._destroy=!0);this.W()},destroyAll:function(e){return e===Ja?this.destroy(function(){return!0}):e?this.destroy(function(t){return 0<=O.a.m(e,t)}):[]},indexOf:function(t){var e=this();return O.a.m(e,t)},replace:function(t,e){var n=this.indexOf(t);0<=n&&(this.X(),this.B()[n]=e,this.W())}},O.a.o("pop push reverse shift sort splice unshift".split(" "),function(e){O.ba.fn[e]=function(){var t=this.B();return this.X(),this.yb(t,e,arguments),t=t[e].apply(t,arguments),this.W(),t}}),O.a.o(["slice"],function(e){O.ba.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),O.a.za&&O.a.Fa(O.ba.fn,O.r.fn),O.b("observableArray",O.ba),O.Sa.trackArrayChanges=function(i){if(!i.yb){var e,f=!1,h=null,p=0,n=i.ja,r=i.ua;i.ja=function(t){n&&n.call(i,t),"arrayChange"===t&&function(){if(!f){f=!0;var n=i.notifySubscribers;i.notifySubscribers=function(t,e){return e&&"change"!==e||++p,n.apply(this,arguments)};var r=[].concat(i.B()||[]);h=null,e=i.U(function(t){var e;t=[].concat(t||[]),i.Ba("arrayChange")&&((!h||1<p)&&(h=O.a.Ma(r,t,{sparse:!0})),e=h),r=t,h=null,p=0,e&&e.length&&i.notifySubscribers(e,"arrayChange")})}}()},i.ua=function(t){r&&r.call(i,t),"arrayChange"!==t||i.Ba("arrayChange")||(e.p(),f=!1)},i.yb=function(t,e,n){function r(t,e,n){return i[i.length]={status:t,value:e,index:n}}if(f&&!p){var i=[],o=t.length,s=n.length,a=0;switch(e){case"push":a=o;case"unshift":for(e=0;e<s;e++)r("added",n[e],a+e);break;case"pop":a=o-1;case"shift":o&&r("deleted",t[a],a);break;case"splice":e=Math.min(Math.max(0,n[0]<0?o+n[0]:n[0]),o),o=1===s?o:Math.min(e+(n[1]||0),o),s=e+s-2,a=Math.max(o,s);for(var u=[],c=[],l=2;e<a;++e,++l)e<o&&c.push(r("deleted",t[e],e)),e<s&&u.push(r("added",n[l],e));O.a.Cb(c,u);break;default:return}h=i}}}},O.w=O.j=function(t,o,e){function s(t,e,n){if(m&&e===u)throw Error("A 'pure' computed must not be called recursively");(x[t]=n).sa=C++,n.ea=e.Aa()}function r(){var t,e;for(t in x)if(x.hasOwnProperty(t)&&(e=x[t]).da.pc(e.ea))return!0}function n(){!b&&x&&O.a.A(x,function(t,e){e.p&&e.p()}),x=null,b=p=!(y=!(C=0))}function a(){var t=u.throttleEvaluation;t&&0<=t?(clearTimeout(k),k=setTimeout(function(){i(!0)},t)):u.nb?u.nb():i(!0)}function i(t){if(!d&&!y){if(T&&T()){if(!g)return void S()}else g=!1;d=!0;try{var n=x,r=C,e=m?Ja:!C;O.k.xb({La:function(t,e){y||(r&&n[e]?(s(e,t,n[e]),delete n[e],--r):x[e]||s(e,t,b?{da:t}:t.U(a)))},w:u,Ca:e}),x={},C=0;try{var i=o?v.call(o):v()}finally{O.k.end(),r&&!b&&O.a.A(n,function(t,e){e.p&&e.p()}),p=!1}u.Wa(h,i)&&(b||f(h,"beforeChange"),h=i,b?u.Yb():t&&f(h)),e&&f(h,"awake")}finally{d=!1}C||S()}}function u(){if(0<arguments.length){if("function"!=typeof _)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return _.apply(o,arguments),this}return O.k.Ob(u),(p||b&&r())&&i(),h}function c(){return(p&&!C||b&&r())&&i(),h}function l(){return p||0<C}function f(t,e){u.notifySubscribers(t,e)}var h,p=!0,d=!1,g=!1,y=!1,v=t,m=!1,b=!1;if(v&&"object"==typeof v?v=(e=v).read:(e=e||{},v||(v=e.read)),"function"!=typeof v)throw Error("Pass a function that returns the value of the ko.computed");var _=e.write,w=e.disposeWhenNodeIsRemoved||e.q||null,E=e.disposeWhen||e.Pa,T=E,S=n,x={},C=0,k=null;o||(o=e.owner),O.Q.call(u),O.a.Ga(u,O.j.fn),u.B=c,u.oa=function(){return C},u.qc="function"==typeof _,u.p=function(){S()},u.$=l;var A=u.Za;return u.Za=function(t){A.call(u,t),u.nb=function(){u.pb(h),p=!0,u.qb(u)}},e.pure?(b=m=!0,u.ja=function(t){if(!y&&b&&"change"==t){if(b=!1,p||r())x=null,p=!(C=0),i();else{var n=[];O.a.A(x,function(t,e){n[e.sa]=t}),O.a.o(n,function(t,e){var n=x[t],r=n.da.U(a);r.sa=e,r.ea=n.ea,x[t]=r})}y||f(h,"awake")}},u.ua=function(t){y||"change"!=t||u.Ba("change")||(O.a.A(x,function(t,e){e.p&&(x[t]={da:e.da,sa:e.sa,ea:e.ea},e.p())}),b=!0,f(Ja,"asleep"))},u.bc=u.Aa,u.Aa=function(){return b&&(p||r())&&i(),u.bc()}):e.deferEvaluation&&(u.ja=function(t){"change"!=t&&"beforeChange"!=t||c()}),O.D(u,"peek",u.B),O.D(u,"dispose",u.p),O.D(u,"isActive",u.$),O.D(u,"getDependenciesCount",u.oa),w&&(g=!0,w.nodeType&&(T=function(){return!O.a.Qa(w)||E&&E()})),b||e.deferEvaluation||i(),w&&l()&&w.nodeType&&(S=function(){O.a.C.Pb(w,S),n()},O.a.C.fa(w,S)),u},O.sc=function(t){return O.Ta(t,O.j)},u=O.r.Ac,O.j[u]=O.r,O.j.fn={equalityComparer:n},O.j.fn[u]=O.j,O.a.za&&O.a.Fa(O.j.fn,O.Q.fn),O.b("dependentObservable",O.j),O.b("computed",O.j),O.b("isComputed",O.sc),O.Nb=function(t,e){return"function"==typeof t?O.w(t,e,{pure:!0}):((t=O.a.extend({},t)).pure=!0,O.w(t,e))},O.b("pureComputed",O.Nb),function(){function a(r,i,o){if(o=o||new t,"object"!=typeof(r=i(r))||null===r||r===Ja||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var s=r instanceof Array?[]:{};return o.save(r,s),function(t,e){if(t instanceof Array){for(var n=0;n<t.length;n++)e(n);"function"==typeof t.toJSON&&e("toJSON")}else for(n in t)e(n)}(r,function(t){var e=i(r[t]);switch(typeof e){case"boolean":case"number":case"string":case"function":s[t]=e;break;case"object":case"undefined":var n=o.get(e);s[t]=n!==Ja?n:a(e,i,o)}}),s}function t(){this.keys=[],this.mb=[]}O.Vb=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return a(t,function(t){for(var e=0;O.F(t)&&e<10;e++)t=t();return t})},O.toJSON=function(t,e,n){return t=O.Vb(t),O.a.jb(t,e,n)},t.prototype={save:function(t,e){var n=O.a.m(this.keys,t);0<=n?this.mb[n]=e:(this.keys.push(t),this.mb.push(e))},get:function(t){return 0<=(t=O.a.m(this.keys,t))?this.mb[t]:Ja}}}(),O.b("toJS",O.Vb),O.b("toJSON",O.toJSON),O.i={s:function(t){switch(O.a.v(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?O.a.f.get(t,O.d.options.ab):O.a.M<=7?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?O.i.s(t.options[t.selectedIndex]):Ja;default:return t.value}},Y:function(t,e,n){switch(O.a.v(t)){case"option":switch(typeof e){case"string":O.a.f.set(t,O.d.options.ab,Ja),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=e;break;default:O.a.f.set(t,O.d.options.ab,e),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof e?e:""}break;case"select":""!==e&&null!==e||(e=Ja);for(var r,i=-1,o=0,s=t.options.length;o<s;++o)if((r=O.i.s(t.options[o]))==e||""==r&&e===Ja){i=o;break}(n||0<=i||e===Ja&&1<t.size)&&(t.selectedIndex=i);break;default:null!==e&&e!==Ja||(e=""),t.value=e}}},O.b("selectExtensions",O.i),O.b("selectExtensions.readValue",O.i.s),O.b("selectExtensions.writeValue",O.i.Y),O.h=function(){function r(t){123===(t=O.a.ib(t)).charCodeAt(0)&&(t=t.slice(1,-1));var e,n=[],r=t.match(f),i=[],o=0;if(r){r.push(",");for(var s,a=0;s=r[a];++a){var u=s.charCodeAt(0);if(44===u){if(o<=0){n.push(e&&i.length?{key:e,value:i.join("")}:{unknown:e||i.join("")}),e=o=0,i=[];continue}}else if(58===u){if(!o&&!e&&1===i.length){e=i.pop();continue}}else 47===u&&a&&1<s.length?(u=r[a-1].match(h))&&!p[u[0]]&&((r=(t=t.substr(t.indexOf(s)+1)).match(f)).push(","),a=-1,s="/"):40===u||123===u||91===u?++o:41===u||125===u||93===u?--o:e||i.length||34!==u&&39!==u||(s=s.slice(1,-1));i.push(s)}}return n}var c=["true","false","null","undefined"],l=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,f=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),h=/[\])"'A-Za-z0-9_$]+$/,p={in:1,return:1,typeof:1},d={};return{ka:[],V:d,bb:r,Ea:function(t,e){function i(t,e){var n;if(!u){var r=O.getBindingHandler(t);if(r&&r.preprocess&&!(e=r.preprocess(e,t,i)))return;(r=d[t])&&(n=e,r=n=!(0<=O.a.m(c,n))&&null!==(r=n.match(l))&&(r[1]?"Object("+r[1]+")"+r[2]:n)),r&&s.push("'"+t+"':function(_z){"+n+"=_z}")}a&&(e="function(){return "+e+" }"),o.push("'"+t+"':"+e)}var o=[],s=[],a=(e=e||{}).valueAccessors,u=e.bindingParams,n="string"==typeof t?r(t):t;return O.a.o(n,function(t){i(t.key||t.unknown,t.value)}),s.length&&i("_ko_property_writers","{"+s.join(",")+" }"),o.join(",")},vc:function(t,e){for(var n=0;n<t.length;n++)if(t[n].key==e)return!0;return!1},ra:function(t,e,n,r,i){t&&O.F(t)?!O.Da(t)||i&&t.B()===r||t(r):(t=e.get("_ko_property_writers"))&&t[n]&&t[n](r)}}}(),O.b("expressionRewriting",O.h),O.b("expressionRewriting.bindingRewriteValidators",O.h.ka),O.b("expressionRewriting.parseObjectLiteral",O.h.bb),O.b("expressionRewriting.preProcessBindings",O.h.Ea),O.b("expressionRewriting._twoWayBindings",O.h.V),O.b("jsonExpressionRewriting",O.h),O.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",O.h.Ea),function(){function o(t){return 8==t.nodeType&&n.test(e?t.text:t.nodeValue)}function s(t){return 8==t.nodeType&&i.test(e?t.text:t.nodeValue)}function r(t,e){for(var n=t,r=1,i=[];n=n.nextSibling;){if(s(n)&&0==--r)return i;i.push(n),o(n)&&r++}if(!e)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function a(t,e){var n=r(t,e);return n?0<n.length?n[n.length-1].nextSibling:t.nextSibling:null}var e=La&&"\x3c!--test--\x3e"===La.createComment("test").text,n=e?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,i=e?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,u={ul:!0,ol:!0};O.e={R:{},childNodes:function(t){return o(t)?r(t):t.childNodes},ma:function(t){if(o(t))for(var e=0,n=(t=O.e.childNodes(t)).length;e<n;e++)O.removeNode(t[e]);else O.a.Ra(t)},T:function(t,e){if(o(t)){O.e.ma(t);for(var n=t.nextSibling,r=0,i=e.length;r<i;r++)n.parentNode.insertBefore(e[r],n)}else O.a.T(t,e)},Mb:function(t,e){o(t)?t.parentNode.insertBefore(e,t.nextSibling):t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},Fb:function(t,e,n){n?o(t)?t.parentNode.insertBefore(e,n.nextSibling):n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):O.e.Mb(t,e)},firstChild:function(t){return o(t)?!t.nextSibling||s(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return o(t)&&(t=a(t)),t.nextSibling&&s(t.nextSibling)?null:t.nextSibling},oc:o,Fc:function(t){return(t=(e?t.text:t.nodeValue).match(n))?t[1]:null},Kb:function(t){if(u[O.a.v(t)]){var e=t.firstChild;if(e)do{if(1===e.nodeType){var n,r=null;if(n=e.firstChild)do{if(r)r.push(n);else if(o(n)){var i=a(n,!0);i?n=i:r=[n]}else s(n)&&(r=[n])}while(n=n.nextSibling);if(n=r)for(r=e.nextSibling,i=0;i<n.length;i++)r?t.insertBefore(n[i],r):t.appendChild(n[i])}}while(e=e.nextSibling)}}}}(),O.b("virtualElements",O.e),O.b("virtualElements.allowedBindings",O.e.R),O.b("virtualElements.emptyNode",O.e.ma),O.b("virtualElements.insertAfter",O.e.Fb),O.b("virtualElements.prepend",O.e.Mb),O.b("virtualElements.setDomNodeChildren",O.e.T),O.L=function(){this.ec={}},O.a.extend(O.L.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind")||O.g.getComponentNameForNode(t);case 8:return O.e.oc(t);default:return!1}},getBindings:function(t,e){var n=(n=this.getBindingsString(t,e))?this.parseBindingsString(n,e,t):null;return O.g.sb(n,t,e,!1)},getBindingAccessors:function(t,e){var n=(n=this.getBindingsString(t,e))?this.parseBindingsString(n,e,t,{valueAccessors:!0}):null;return O.g.sb(n,t,e,!0)},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return O.e.Fc(t);default:return null}},parseBindingsString:function(e,t,n,r){try{var i,o=this.ec,s=e+(r&&r.valueAccessors||"");if(!(i=o[s])){var a,u="with($context){with($data||{}){return{"+O.h.Ea(e,r)+"}}}";a=new Function("$context","$element",u),i=o[s]=a}return i(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),O.L.instance=new O.L,O.b("bindingProvider",O.L),function(){function s(t){return function(){return t}}function y(t){return t()}function a(n){return O.a.pa(O.k.u(n),function(t,e){return function(){return n()[e]}})}function v(t,e){return a(this.getBindings.bind(this,t,e))}function o(t,e,n){var r,i=O.e.firstChild(e),o=O.L.instance,s=o.preprocessNode;if(s){for(;r=i;)i=O.e.nextSibling(r),s.call(o,r);i=O.e.firstChild(e)}for(;r=i;)i=O.e.nextSibling(r),u(t,r,n)}function u(t,e,n){var r=!0,i=1===e.nodeType;i&&O.e.Kb(e),(i&&n||O.L.instance.nodeHasBindings(e))&&(r=c(e,null,t,n).shouldBindDescendants),r&&!f[O.a.v(e)]&&o(t,e,!i)}function c(i,t,o,e){var s,a,r,u,c,l,n=O.a.f.get(i,m);if(!t){if(n)throw Error("You cannot apply bindings multiple times to the same element.");O.a.f.set(i,m,!0)}if(!n&&e&&O.Tb(i,o),t&&"function"!=typeof t)s=t;else{var f=O.L.instance,h=f.getBindingAccessors||v,p=O.j(function(){return(s=t?t(o,i):h.call(f,i,o))&&o.K&&o.K(),s},null,{q:i});s&&p.$()||(p=null)}if(s){var d=p?function(t){return function(){return y(p()[t])}}:function(t){return s[t]},g=function(){return O.a.pa(p?p():s,y)};g.get=function(t){return s[t]&&y(d(t))},g.has=function(t){return t in s},r=s,u=[],c={},l=[],O.a.A(r,function e(t){if(!c[t]){var n=O.getBindingHandler(t);n&&(n.after&&(l.push(t),O.a.o(n.after,function(t){if(r[t]){if(-1!==O.a.m(l,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+l.join(", "));e(t)}}),l.length--),u.push({key:t,Eb:n})),c[t]=!0}}),e=u,O.a.o(e,function(t){var e=t.Eb.init,n=t.Eb.update,r=t.key;if(8===i.nodeType&&!O.e.R[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof e&&O.k.u(function(){var t=e(i,d(r),g,o.$data,o);if(t&&t.controlsDescendantBindings){if(a!==Ja)throw Error("Multiple bindings ("+a+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");a=r}}),"function"==typeof n&&O.j(function(){n(i,d(r),g,o.$data,o)},null,{q:i})}catch(t){throw t.message='Unable to process binding "'+r+": "+s[r]+'"\nMessage: '+t.message,t}})}return{shouldBindDescendants:a===Ja}}function l(t){return t&&t instanceof O.N?t:new O.N(t)}O.d={};var f={script:!0,textarea:!0};O.getBindingHandler=function(t){return O.d[t]},O.N=function(n,r,i,o){var e,s=this,a="function"==typeof n&&!O.F(n),u=O.j(function(){var t=a?n():n,e=O.a.c(t);return r?(r.K&&r.K(),O.a.extend(s,r),u&&(s.K=u)):(s.$parents=[],s.$root=e,s.ko=O),s.$rawData=t,s.$data=e,i&&(s[i]=e),o&&o(s,r,e),s.$data},null,{Pa:function(){return e&&!O.a.tb(e)},q:!0});u.$()&&((s.K=u).equalityComparer=null,e=[],u.Zb=function(t){e.push(t),O.a.C.fa(t,function(t){O.a.ya(e,t),e.length||(u.p(),s.K=u=Ja)})})},O.N.prototype.createChildContext=function(t,e,n){return new O.N(t,this,e,function(t,e){t.$parentContext=e,t.$parent=e.$data,t.$parents=(e.$parents||[]).slice(0),t.$parents.unshift(t.$parent),n&&n(t)})},O.N.prototype.extend=function(n){return new O.N(this.K||this.$data,this,null,function(t,e){t.$rawData=e.$rawData,O.a.extend(t,"function"==typeof n?n():n)})};var m=O.a.f.I(),n=O.a.f.I();O.Tb=function(t,e){if(2!=arguments.length)return O.a.f.get(t,n);O.a.f.set(t,n,e),e.K&&e.K.Zb(t)},O.va=function(t,e,n){return 1===t.nodeType&&O.e.Kb(t),c(t,e,l(n),!0)},O.cc=function(t,e,n){return n=l(n),O.va(t,(i=n,o=t,"function"==typeof(r=e)?a(r.bind(null,i,o)):O.a.pa(r,s)),n);var r,i,o},O.Ja=function(t,e){1!==e.nodeType&&8!==e.nodeType||o(l(t),e,!0)},O.ub=function(t,e){if(!Na&&Ka.jQuery&&(Na=Ka.jQuery),e&&1!==e.nodeType&&8!==e.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");e=e||Ka.document.body,u(l(t),e,!0)},O.Oa=function(t){switch(t.nodeType){case 1:case 8:var e=O.Tb(t);if(e)return e;if(t.parentNode)return O.Oa(t.parentNode)}return Ja},O.gc=function(t){return(t=O.Oa(t))?t.$data:Ja},O.b("bindingHandlers",O.d),O.b("applyBindings",O.ub),O.b("applyBindingsToDescendants",O.Ja),O.b("applyBindingAccessorsToNode",O.va),O.b("applyBindingsToNode",O.cc),O.b("contextFor",O.Oa),O.b("dataFor",O.gc)}(),function(a){function r(r,t){var i,n,o,s=c.hasOwnProperty(r)?c[r]:a;s?s.U(t):((s=c[r]=new O.Q).U(t),o=function(t,e){var n=!(!e||!e.synchronous);l[r]={definition:t,tc:n},delete c[r],i||n?s.notifySubscribers(t):setTimeout(function(){s.notifySubscribers(t)},0)},u("getConfig",[n=r],function(e){e?u("loadComponent",[n,e],function(t){o(t,e)}):o(null,null)}),i=!0)}function u(e,n,r,i){i||(i=O.g.loaders.slice(0));var t=i.shift();if(t){var o=t[e];if(o){var s=!1;if(o.apply(t,n.concat(function(t){s?r(null):null!==t?r(t):u(e,n,r,i)}))!==a&&(s=!0,!t.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else u(e,n,r,i)}else r(null)}var c={},l={};O.g={get:function(t,e){var n=l.hasOwnProperty(t)?l[t]:a;n?n.tc?O.k.u(function(){e(n.definition)}):setTimeout(function(){e(n.definition)},0):r(t,e)},zb:function(t){delete l[t]},ob:u},O.g.loaders=[],O.b("components",O.g),O.b("components.get",O.g.get),O.b("components.clearCachedDefinition",O.g.zb)}(),function(){function i(t){switch(O.a.v(t)){case"script":return O.a.ca(t.text);case"textarea":return O.a.ca(t.value);case"template":if(o(t.content))return O.a.la(t.content.childNodes)}return O.a.la(t.childNodes)}function o(t){return Ka.DocumentFragment?t instanceof DocumentFragment:t&&11===t.nodeType}function u(t,e,n){"string"==typeof e.require?r||Ka.require?(r||Ka.require)([e.require],n):t("Uses require, but no AMD loader is present"):n(e)}function s(e){return function(t){throw Error("Component '"+e+"': "+t)}}var n={};O.g.register=function(t,e){if(!e)throw Error("Invalid configuration for "+t);if(O.g.Xa(t))throw Error("Component "+t+" is already registered");n[t]=e},O.g.Xa=function(t){return t in n},O.g.Ec=function(t){delete n[t],O.g.zb(t)},O.g.Ab={getConfig:function(t,e){e(n.hasOwnProperty(t)?n[t]:null)},loadComponent:function(e,t,n){var r=s(e);u(r,t,function(t){!function(e,t,n,r){function i(){0==--s&&r(o)}var o={},s=2,a=n.template;n=n.viewModel,a?u(t,a,function(t){O.g.ob("loadTemplate",[e,t],function(t){o.template=t,i()})}):i(),n?u(t,n,function(t){O.g.ob("loadViewModel",[e,t],function(t){o[c]=t,i()})}):i()}(e,r,t,n)})},loadTemplate:function(t,e,n){if(t=s(t),"string"==typeof e)n(O.a.ca(e));else if(e instanceof Array)n(e);else if(o(e))n(O.a.O(e.childNodes));else if(e.element)if(e=e.element,Ka.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType)n(i(e));else if("string"==typeof e){var r=La.getElementById(e);r?n(i(r)):t("Cannot find element with ID "+e)}else t("Unknown element type: "+e);else t("Unknown template value: "+e)},loadViewModel:function(t,e,n){!function t(e,n,r){if("function"==typeof n)r(function(t){return new n(t)});else if("function"==typeof n[c])r(n[c]);else if("instance"in n){var i=n.instance;r(function(){return i})}else"viewModel"in n?t(e,n.viewModel,r):e("Unknown viewModel value: "+n)}(s(t),e,n)}};var c="createViewModel";O.b("components.register",O.g.register),O.b("components.isRegistered",O.g.Xa),O.b("components.unregister",O.g.Ec),O.b("components.defaultLoader",O.g.Ab),O.g.loaders.push(O.g.Ab),O.g.$b=n}(),function(){O.g.getComponentNameForNode=function(t){return t=O.a.v(t),O.g.Xa(t)&&t},O.g.sb=function(t,e,n,r){if(1===e.nodeType){var i=O.g.getComponentNameForNode(e);if(i){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:i,params:function(n,t){if(e=n.getAttribute("params")){var e=s.parseBindingsString(e,t,n,{valueAccessors:!0,bindingParams:!0}),r=(e=O.a.pa(e,function(t){return O.w(t,null,{q:n})}),O.a.pa(e,function(e){var t=e.B();return e.$()?O.w({read:function(){return O.a.c(e())},write:O.Da(t)&&function(t){e()(t)},q:n}):t}));return r.hasOwnProperty("$raw")||(r.$raw=e),r}return{$raw:{}}}(e,n)};t.component=r?function(){return o}:o}}return t};var r,e,s=new O.L;O.a.M<9&&(O.g.register=(e=O.g.register,function(t){return La.createElement(t),e.apply(this,arguments)}),La.createDocumentFragment=(r=La.createDocumentFragment,function(){var t,e=r(),n=O.g.$b;for(t in n)n.hasOwnProperty(t)&&e.createElement(t);return e}))}(),y=0,O.d.component={init:function(l,e,t,n,f){function h(){var t=p&&p.dispose;"function"==typeof t&&t.call(p),d=null}var p,d,g=O.a.O(O.e.childNodes(l));return O.a.C.fa(l,h),O.w(function(){var a,u,t=O.a.c(e());if("string"==typeof t?a=t:(a=O.a.c(t.name),u=O.a.c(t.params)),!a)throw Error("No component name specified");var c=d=++y;O.g.get(a,function(t){if(d===c){if(h(),!t)throw Error("Unknown component '"+a+"'");!function(t,e,n){if(!(e=e.template))throw Error("Component '"+t+"' has no template");t=O.a.la(e),O.e.T(n,t)}(a,t,l);var e=(r=l,i=g,o=u,(s=(n=t).createViewModel)?s.call(n,o,{element:r,templateNodes:i}):o);t=f.createChildContext(e,void 0,function(t){t.$component=e,t.$componentTemplateNodes=g}),p=e,O.Ja(t,l)}var n,r,i,o,s})},null,{q:l}),{controlsDescendantBindings:!0}}},O.e.R.component=!0;var l={class:"className",for:"htmlFor"};O.d.attr={update:function(r,t){var e=O.a.c(t())||{};O.a.A(e,function(t,e){var n=!1===(e=O.a.c(e))||null===e||e===Ja;n&&r.removeAttribute(t),O.a.M<=8&&t in l?(t=l[t],n?r.removeAttribute(t):r[t]=e):n||r.setAttribute(t,e.toString()),"name"===t&&O.a.Rb(r,n?"":e.toString())})}},O.d.checked={after:["value","attr"],init:function(r,i,o){function t(){var t=r.checked,e=l?s():t;if(!O.Z.Ca()&&(!a||t)){var n=O.k.u(i);u?c!==e?(t&&(O.a.ga(n,e,!0),O.a.ga(n,c,!1)),c=e):O.a.ga(n,e,t):O.h.ra(n,o,"checked",e,!0)}}var s=O.Nb(function(){return o.has("checkedValue")?O.a.c(o.get("checkedValue")):o.has("value")?O.a.c(o.get("value")):r.value}),e="checkbox"==r.type,a="radio"==r.type;if(e||a){var u=e&&O.a.c(i())instanceof Array,c=u?s():Ja,l=a||u;a&&!r.name&&O.d.uniqueName.init(r,function(){return!0}),O.w(t,null,{q:r}),O.a.n(r,"click",t),O.w(function(){var t=O.a.c(i());r.checked=u?0<=O.a.m(t,s()):e?t:s()===t},null,{q:r})}}},O.h.V.checked=!0,O.d.checkedValue={update:function(t,e){t.value=O.a.c(e())}},O.d.css={update:function(n,t){var e=O.a.c(t());null!==e&&"object"==typeof e?O.a.A(e,function(t,e){e=O.a.c(e),O.a.Ia(n,t,e)}):(e=String(e||""),O.a.Ia(n,n.__ko__cssValue,!1),n.__ko__cssValue=e,O.a.Ia(n,e,!0))}},O.d.enable={update:function(t,e){var n=O.a.c(e());n&&t.disabled?t.removeAttribute("disabled"):n||t.disabled||(t.disabled=!0)}},O.d.disable={update:function(t,e){O.d.enable.update(t,function(){return!O.a.c(e())})}},O.d.event={init:function(t,o,s,a,u){var e=o()||{};O.a.A(e,function(i){"string"==typeof i&&O.a.n(t,i,function(t){var e,n=o()[i];if(n){try{var r=O.a.O(arguments);a=u.$data,r.unshift(a),e=n.apply(a,r)}finally{!0!==e&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}!1===s.get(i+"Bubble")&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},O.d.foreach={Ib:function(n){return function(){var t=n(),e=O.a.cb(t);return e&&"number"!=typeof e.length?(O.a.c(t),{foreach:e.data,as:e.as,includeDestroyed:e.includeDestroyed,afterAdd:e.afterAdd,beforeRemove:e.beforeRemove,afterRender:e.afterRender,beforeMove:e.beforeMove,afterMove:e.afterMove,templateEngine:O.P.Va}):{foreach:t,templateEngine:O.P.Va}}},init:function(t,e){return O.d.template.init(t,O.d.foreach.Ib(e))},update:function(t,e,n,r,i){return O.d.template.update(t,O.d.foreach.Ib(e),n,r,i)}},O.h.ka.foreach=!1,O.e.R.foreach=!0,O.d.hasfocus={init:function(r,i,o){function t(t){r.__ko_hasfocusUpdating=!0;var e=r.ownerDocument;if("activeElement"in e){var n;try{n=e.activeElement}catch(t){n=e.body}t=n===r}e=i(),O.h.ra(e,o,"hasfocus",t,!0),r.__ko_hasfocusLastValue=t,r.__ko_hasfocusUpdating=!1}var e=t.bind(null,!0),n=t.bind(null,!1);O.a.n(r,"focus",e),O.a.n(r,"focusin",e),O.a.n(r,"blur",n),O.a.n(r,"focusout",n)},update:function(t,e){var n=!!O.a.c(e());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===n||(n?t.focus():t.blur(),O.k.u(O.a.qa,null,[t,n?"focusin":"focusout"]))}},O.h.V.hasfocus=!0,O.d.hasFocus=O.d.hasfocus,O.h.V.hasFocus=!0,O.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){O.a.gb(t,e())}},e("if"),e("ifnot",!1,!0),e("with",!0,!1,function(t,e){return t.createChildContext(e)});var d={};O.d.options={init:function(t){if("select"!==O.a.v(t))throw Error("options binding applies only to SELECT elements");for(;0<t.length;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(r,t,i){function e(){return O.a.xa(r.options,function(t){return t.selected})}function o(t,e,n){var r=typeof e;return"function"==r?e(t):"string"==r?t[e]:n}function n(t,e){if(p&&c)O.i.Y(r,O.a.c(i.get("value")),!0);else if(h.length){var n=0<=O.a.m(h,O.i.s(e[0]));O.a.Sb(e[0],n),p&&!n&&O.k.u(O.a.qa,null,[r,"change"])}}var s=r.multiple,a=0!=r.length&&s?r.scrollTop:null,u=O.a.c(t()),c=i.get("valueAllowUnset")&&i.has("value"),l=i.get("optionsIncludeDestroyed");t={};var f,h=[];c||(s?h=O.a.Ka(e(),O.i.s):0<=r.selectedIndex&&h.push(O.i.s(r.options[r.selectedIndex]))),u&&(void 0===u.length&&(u=[u]),f=O.a.xa(u,function(t){return l||t===Ja||null===t||!O.a.c(t._destroy)}),i.has("optionsCaption")&&null!==(u=O.a.c(i.get("optionsCaption")))&&u!==Ja&&f.unshift(d));var p=!1;t.beforeRemove=function(t){r.removeChild(t)},u=n,i.has("optionsAfterRender")&&"function"==typeof i.get("optionsAfterRender")&&(u=function(t,e){n(0,e),O.k.u(i.get("optionsAfterRender"),null,[e[0],t!==d?t:Ja])}),O.a.fb(r,f,function(t,e,n){return n.length&&(h=!c&&n[0].selected?[O.i.s(n[0])]:[],p=!0),e=r.ownerDocument.createElement("option"),t===d?(O.a.Ha(e,i.get("optionsCaption")),O.i.Y(e,Ja)):(n=o(t,i.get("optionsValue"),t),O.i.Y(e,O.a.c(n)),t=o(t,i.get("optionsText"),n),O.a.Ha(e,t)),[e]},t,u),O.k.u(function(){c?O.i.Y(r,O.a.c(i.get("value")),!0):(s?h.length&&e().length<h.length:h.length&&0<=r.selectedIndex?O.i.s(r.options[r.selectedIndex])!==h[0]:h.length||0<=r.selectedIndex)&&O.a.qa(r,"change")}),O.a.kc(r),a&&20<Math.abs(a-r.scrollTop)&&(r.scrollTop=a)}},O.d.options.ab=O.a.f.I(),O.d.selectedOptions={after:["options","foreach"],init:function(n,r,i){O.a.n(n,"change",function(){var t=r(),e=[];O.a.o(n.getElementsByTagName("option"),function(t){t.selected&&e.push(O.i.s(t))}),O.h.ra(t,i,"selectedOptions",e)})},update:function(t,e){if("select"!=O.a.v(t))throw Error("values binding applies only to SELECT elements");var n=O.a.c(e());n&&"number"==typeof n.length&&O.a.o(t.getElementsByTagName("option"),function(t){var e=0<=O.a.m(n,O.i.s(t));O.a.Sb(t,e)})}},O.h.V.selectedOptions=!0,O.d.style={update:function(n,t){var e=O.a.c(t()||{});O.a.A(e,function(t,e){null!==(e=O.a.c(e))&&e!==Ja&&!1!==e||(e=""),n.style[t]=e})}},O.d.submit={init:function(r,i,t,e,o){if("function"!=typeof i())throw Error("The value for a submit binding must be a function");O.a.n(r,"submit",function(t){var e,n=i();try{e=n.call(o.$data,r)}finally{!0!==e&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},O.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){O.a.Ha(t,e())}},O.e.R.text=!0,function(){if(Ka&&Ka.navigator)var t=function(t){if(t)return parseFloat(t[1])},c=Ka.opera&&Ka.opera.version&&parseInt(Ka.opera.version()),e=Ka.navigator.userAgent,l=t(e.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),f=t(e.match(/Firefox\/([^ ]*)/));if(O.a.M<10)var r=O.a.f.I(),i=O.a.f.I(),o=function(t){var e=this.activeElement;(e=e&&O.a.f.get(e,i))&&e(t)},h=function(t,e){var n=t.ownerDocument;O.a.f.get(n,r)||(O.a.f.set(n,r,!0),O.a.n(n,"selectionchange",o)),O.a.f.set(t,i,e)};O.d.textInput={init:function(n,r,e){function t(t,e){O.a.n(n,t,e)}function i(){s||(a=n.value,s=setTimeout(o,4))}function o(){clearTimeout(s),a=s=Ja;var t=n.value;u!==t&&(u=t,O.h.ra(r(),e,"textInput",t))}var s,a,u=n.value;O.a.M<10?(t("propertychange",function(t){"value"===t.propertyName&&o()}),8==O.a.M&&(t("keyup",o),t("keydown",o)),8<=O.a.M&&(h(n,o),t("dragend",i))):(t("input",o),l<5&&"textarea"===O.a.v(n)?(t("keydown",i),t("paste",i),t("cut",i)):c<11?t("keydown",i):f<4&&(t("DOMAutoComplete",o),t("dragdrop",o),t("drop",o))),t("change",o),O.w(function t(){var e=O.a.c(r());null!==e&&e!==Ja||(e=""),a!==Ja&&e===a?setTimeout(t,4):n.value!==e&&(u=e,n.value=e)},null,{q:n})}},O.h.V.textInput=!0,O.d.textinput={preprocess:function(t,e,n){n("textInput",t)}}}(),O.d.uniqueName={init:function(t,e){if(e()){var n="ko_unique_"+ ++O.d.uniqueName.fc;O.a.Rb(t,n)}}},O.d.uniqueName.fc=0,O.d.value={after:["options","foreach"],init:function(r,i,o){if("input"!=r.tagName.toLowerCase()||"checkbox"!=r.type&&"radio"!=r.type){var t=["change"],e=o.get("valueUpdate"),n=!1,s=null;e&&("string"==typeof e&&(e=[e]),O.a.ia(t,e),t=O.a.wb(t));var a=function(){s=null,n=!1;var t=i(),e=O.i.s(r);O.h.ra(t,o,"value",e)};!O.a.M||"input"!=r.tagName.toLowerCase()||"text"!=r.type||"off"==r.autocomplete||r.form&&"off"==r.form.autocomplete||-1!=O.a.m(t,"propertychange")||(O.a.n(r,"propertychange",function(){n=!0}),O.a.n(r,"focus",function(){n=!1}),O.a.n(r,"blur",function(){n&&a()})),O.a.o(t,function(t){var e=a;O.a.Dc(t,"after")&&(e=function(){s=O.i.s(r),setTimeout(a,0)},t=t.substring(5)),O.a.n(r,t,e)});var u=function(){var t=O.a.c(i()),e=O.i.s(r);if(null!==s&&t===s)setTimeout(u,0);else if(t!==e)if("select"===O.a.v(r)){var n=o.get("valueAllowUnset");(e=function(){O.i.Y(r,t,n)})(),n||t===O.i.s(r)?setTimeout(e,0):O.k.u(O.a.qa,null,[r,"change"])}else O.i.Y(r,t)};O.w(u,null,{q:r})}else O.va(r,{checkedValue:i})},update:function(){}},O.h.V.value=!0,O.d.visible={update:function(t,e){var n=O.a.c(e()),r="none"!=t.style.display;n&&!r?t.style.display="":!n&&r&&(t.style.display="none")}},O.d.click={init:function(t,e,n,r,i){return O.d.event.init.call(this,t,function(){var t={};return t.click=e(),t},n,r,i)}},O.J=function(){},O.J.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},O.J.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},O.J.prototype.makeTemplateSource=function(t,e){if("string"==typeof t){var n=(e=e||La).getElementById(t);if(!n)throw Error("Cannot find template with ID "+t);return new O.t.l(n)}if(1==t.nodeType||8==t.nodeType)return new O.t.ha(t);throw Error("Unknown template type: "+t)},O.J.prototype.renderTemplate=function(t,e,n,r){return t=this.makeTemplateSource(t,r),this.renderTemplateSource(t,e,n,r)},O.J.prototype.isTemplateRewritten=function(t,e){return!1===this.allowTemplateRewriting||this.makeTemplateSource(t,e).data("isRewritten")},O.J.prototype.rewriteTemplate=function(t,e,n){e=e((t=this.makeTemplateSource(t,n)).text()),t.text(e),t.data("isRewritten",!0)},O.b("templateEngine",O.J),O.kb=function(){function s(t,e,n,r){t=O.h.bb(t);for(var i=O.h.ka,o=0;o<t.length;o++){var s=t[o].key;if(i.hasOwnProperty(s)){var a=i[s];if("function"==typeof a){if(s=a(t[o].value))throw Error(s)}else if(!a)throw Error("This template engine does not support the '"+s+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+O.h.Ea(t,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",r.createJavaScriptEvaluatorBlock(n)+e}var e=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{lc:function(t,e,n){e.isTemplateRewritten(t,n)||e.rewriteTemplate(t,function(t){return O.kb.xc(t,e)},n)},xc:function(t,o){return t.replace(e,function(t,e,n,r,i){return s(i,e,n,o)}).replace(n,function(t,e){return s(e,"\x3c!-- ko --\x3e","#comment",o)})},dc:function(r,i){return O.H.$a(function(t,e){var n=t.nextSibling;n&&n.nodeName.toLowerCase()===i&&O.va(n,r,e)})}}}(),O.b("__tr_ambtns",O.kb.dc),function(){O.t={},O.t.l=function(t){this.l=t},O.t.l.prototype.text=function(){var t="script"===(t=O.a.v(this.l))?"text":"textarea"===t?"value":"innerHTML";if(0==arguments.length)return this.l[t];var e=arguments[0];"innerHTML"===t?O.a.gb(this.l,e):this.l[t]=e};var e=O.a.f.I()+"_";O.t.l.prototype.data=function(t){if(1===arguments.length)return O.a.f.get(this.l,e+t);O.a.f.set(this.l,e+t,arguments[1])};var n=O.a.f.I();O.t.ha=function(t){this.l=t},O.t.ha.prototype=new O.t.l,O.t.ha.prototype.text=function(){if(0==arguments.length){var t=O.a.f.get(this.l,n)||{};return t.lb===Ja&&t.Na&&(t.lb=t.Na.innerHTML),t.lb}O.a.f.set(this.l,n,{lb:arguments[0]})},O.t.l.prototype.nodes=function(){if(0==arguments.length)return(O.a.f.get(this.l,n)||{}).Na;O.a.f.set(this.l,n,{Na:arguments[0]})},O.b("templateSources",O.t),O.b("templateSources.domElement",O.t.l),O.b("templateSources.anonymousTemplate",O.t.ha)}(),function(){function r(t,e,n){var r;for(e=O.e.nextSibling(e);t&&(r=t)!==e;)n(r,t=O.e.nextSibling(r))}function c(t,e){if(t.length){var i=t[0],o=t[t.length-1],n=i.parentNode,s=O.L.instance,a=s.preprocessNode;if(a){if(r(i,o,function(t,e){var n=t.previousSibling,r=a.call(s,t);r&&(t===i&&(i=r[0]||e),t===o&&(o=r[r.length-1]||n))}),t.length=0,!i)return;i===o?t.push(i):(t.push(i,o),O.a.na(t,n))}r(i,o,function(t){1!==t.nodeType&&8!==t.nodeType||O.ub(e,t)}),r(i,o,function(t){1!==t.nodeType&&8!==t.nodeType||O.H.Xb(t,[e])}),O.a.na(t,n)}}function u(t){return t.nodeType?t:0<t.length?t[0]:null}function l(t,e,n,r,i){i=i||{};var o=(t&&u(t)||n||{}).ownerDocument,s=i.templateEngine||h;if(O.kb.lc(n,s,o),"number"!=typeof(n=s.renderTemplate(n,r,i,o)).length||0<n.length&&"number"!=typeof n[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(o=!1,e){case"replaceChildren":O.e.T(t,n),o=!0;break;case"replaceNode":O.a.Qb(t,n),o=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}return o&&(c(n,r),i.afterRender&&O.k.u(i.afterRender,null,[n,r.$data])),n}function f(t,e,n){return O.F(t)?t():"function"==typeof t?t(e,n):t}var h;O.hb=function(t){if(t!=Ja&&!(t instanceof O.J))throw Error("templateEngine must inherit from ko.templateEngine");h=t},O.eb=function(n,r,i,o,s){if(((i=i||{}).templateEngine||h)==Ja)throw Error("Set a template engine before calling renderTemplate");if(s=s||"replaceChildren",o){var a=u(o);return O.j(function(){var t=r&&r instanceof O.N?r:new O.N(O.a.c(r)),e=f(n,t.$data,t);t=l(o,s,e,t,i),"replaceNode"==s&&(a=u(o=t))},null,{Pa:function(){return!a||!O.a.Qa(a)},q:a&&"replaceNode"==s?a.parentNode:a})}return O.H.$a(function(t){O.eb(n,r,i,t,"replaceNode")})},O.Cc=function(n,e,r,i,o){function s(t,e){c(e,u),r.afterRender&&r.afterRender(e,t),u=null}function a(t,e){return u=o.createChildContext(t,r.as,function(t){t.$index=e}),l(null,"ignoreTargetNode",f(n,t,u),u,r)}var u;return O.j(function(){var t=O.a.c(e)||[];void 0===t.length&&(t=[t]),t=O.a.xa(t,function(t){return r.includeDestroyed||t===Ja||null===t||!O.a.c(t._destroy)}),O.k.u(O.a.fb,null,[i,t,a,r,s])},null,{q:i})};var a=O.a.f.I();O.d.template={init:function(t,e){var n=O.a.c(e());if("string"==typeof n||n.name)O.e.ma(t);else{if("nodes"in n){if(n=n.nodes||[],O.F(n))throw Error('The "nodes" option must be a plain, non-observable array.')}else n=O.e.childNodes(t);n=O.a.Jb(n),new O.t.ha(t).nodes(n)}return{controlsDescendantBindings:!0}},update:function(t,e,n,r,i){var o,s=e();n=!0,r=null,"string"==typeof(e=O.a.c(s))?e={}:(s=e.name,"if"in e&&(n=O.a.c(e.if)),n&&"ifnot"in e&&(n=!O.a.c(e.ifnot)),o=O.a.c(e.data)),"foreach"in e?r=O.Cc(s||t,n&&e.foreach||[],e,t,i):n?(i="data"in e?i.createChildContext(o,e.as):i,r=O.eb(s||t,i,e,t)):O.e.ma(t),i=r,(o=O.a.f.get(t,a))&&"function"==typeof o.p&&o.p(),O.a.f.set(t,a,i&&i.$()?i:Ja)}},O.h.ka.template=function(t){return 1==(t=O.h.bb(t)).length&&t[0].unknown||O.h.vc(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},O.e.R.template=!0}(),O.b("setTemplateEngine",O.hb),O.b("renderTemplate",O.eb),O.a.Cb=function(t,e,n){var r,i,o,s,a;if(t.length&&e.length)for(r=i=0;(!n||r<n)&&(s=t[i]);++i){for(o=0;a=e[o];++o)if(s.value===a.value){s.moved=a.index,a.moved=s.index,e.splice(o,1),r=o=0;break}r+=o}},O.a.Ma=function(){function r(t,e,n,r,i){var o,s,a,u,c,l=Math.min,f=Math.max,h=[],p=t.length,d=e.length,g=d-p||1,y=p+d+1;for(o=0;o<=p;o++)for(u=a,h.push(a=[]),c=l(d,o+g),s=f(0,o-1);s<=c;s++)a[s]=s?o?t[o-1]===e[s-1]?u[s-1]:l(u[s]||y,a[s-1]||y)+1:s+1:o+1;for(l=[],f=[],g=[],o=p,s=d;o||s;)d=h[o][s]-1,s&&d===h[o][s-1]?f.push(l[l.length]={status:n,value:e[--s],index:s}):o&&d===h[o-1][s]?g.push(l[l.length]={status:r,value:t[--o],index:o}):(--s,--o,i.sparse||l.push({status:"retained",value:e[s]}));return O.a.Cb(f,g,10*p),l.reverse()}return function(t,e,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},e=e||[],(t=t||[]).length<=e.length?r(t,e,"added","deleted",n):r(e,t,"deleted","added",n)}}(),O.b("utils.compareArrays",O.a.Ma),function(){function E(e,n,r,i,o){var s=[],t=O.j(function(){var t=n(r,o,O.a.na(s,e))||[];0<s.length&&(O.a.Qb(s,t),i&&O.k.u(i,null,[r,t,o])),s.length=0,O.a.ia(s,t)},null,{q:e,Pa:function(){return!O.a.tb(s)}});return{aa:s,j:t.$()?t:Ja}}var T=O.a.f.I();O.a.fb=function(n,t,e,r,i){function o(t,e){v=c[e],d!==e&&(_[t]=v),v.Ua(d++),O.a.na(v.aa,n),h.push(v),y.push(v)}function s(e,n){if(e)for(var r=0,t=n.length;r<t;r++)n[r]&&O.a.o(n[r].aa,function(t){e(t,r,n[r].wa)})}t=t||[],r=r||{};var a,u=O.a.f.get(n,T)===Ja,c=O.a.f.get(n,T)||[],l=O.a.Ka(c,function(t){return t.wa}),f=O.a.Ma(l,t,r.dontLimitMoves),h=[],p=0,d=0,g=[],y=[];t=[];for(var v,m,b,_=[],w=(l=[],0);m=f[w];w++)switch(b=m.moved,m.status){case"deleted":b===Ja&&((v=c[p]).j&&v.j.p(),g.push.apply(g,O.a.na(v.aa,n)),r.beforeRemove&&(t[w]=v,y.push(v))),p++;break;case"retained":o(w,p++);break;case"added":b!==Ja?o(w,b):(v={wa:m.value,Ua:O.r(d++)},h.push(v),y.push(v),u||(l[w]=v))}for(s(r.beforeMove,_),O.a.o(g,r.beforeRemove?O.S:O.removeNode),w=0,u=O.e.firstChild(n);v=y[w];w++){for(v.aa||O.a.extend(v,E(n,e,v.wa,i,v.Ua)),p=0;f=v.aa[p];u=f.nextSibling,a=f,p++)f!==u&&O.e.Fb(n,f,a);!v.rc&&i&&(i(v.wa,v.aa,v.Ua),v.rc=!0)}s(r.beforeRemove,t),s(r.afterMove,_),s(r.afterAdd,l),O.a.f.set(n,T,h)}}(),O.b("utils.setDomNodeChildrenFromArrayMapping",O.a.fb),O.P=function(){this.allowTemplateRewriting=!1},O.P.prototype=new O.J,O.P.prototype.renderTemplateSource=function(t,e,n,r){return(e=O.a.M<9||!t.nodes?null:t.nodes())?O.a.O(e.cloneNode(!0).childNodes):(t=t.text(),O.a.ca(t,r))},O.P.Va=new O.P,O.hb(O.P.Va),O.b("nativeTemplateEngine",O.P),function(){O.Ya=function(){var o=this.uc=function(){if(!Na||!Na.tmpl)return 0;try{if(0<=Na.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(t){}return 1}();this.renderTemplateSource=function(t,e,n,r){if(r=r||La,n=n||{},o<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var i=t.data("precompiled");return i||(i=t.text()||"",i=Na.template(null,"{{ko_with $item.koBindingContext}}"+i+"{{/ko_with}}"),t.data("precompiled",i)),t=[e.$data],e=Na.extend({koBindingContext:e},n.templateOptions),(e=Na.tmpl(i,t,e)).appendTo(r.createElement("div")),Na.fragments={},e},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,e){La.write("<script type='text/html' id='"+t+"'>"+e+"<\/script>")},0<o&&(Na.tmpl.tag.ko_code={open:"__.push($1 || '');"},Na.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},O.Ya.prototype=new O.J;var t=new O.Ya;0<t.uc&&O.hb(t),O.b("jqueryTmplTemplateEngine",O.Ya)}()},"function"==typeof define&&define.amd?define("knockout",["exports","require"],Pa):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?Pa(module.exports||exports):Pa(Ka.ko={})}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("jsforce",[],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).jsforce=t()}}(function(){var define,module,exports;return function o(s,a,u){function c(n,t){if(!a[n]){if(!s[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(l)return l(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[n]={exports:{}};s[n][0].call(i.exports,function(t){var e=s[n][1][t];return c(e||t)},i,i.exports,o,s,a,u)}return a[n].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,e,n){var i=t("underscore"),r=(t("../promise"),function(t,e){this._report=t,this._conn=t._conn,this.id=e});r.prototype.retrieve=function(t){var e=this._conn,n=this._report,r=[e._baseUrl(),"analytics","reports",n.id,"instances",this.id].join("/");return e.request(r).thenCall(t)};var o=function(t,e){this._conn=t,this.id=e};o.prototype.describe=function(t){var e=[this._conn._baseUrl(),"analytics","reports",this.id,"describe"].join("/");return this._conn.request(e).thenCall(t)},o.prototype.explain=function(t){var e="/query/?explain="+this.id;return this._conn.request(e).thenCall(t)},o.prototype.run=o.prototype.exec=o.prototype.execute=function(t,e){t=t||{},i.isFunction(t)&&(e=t,t={});var n=[this._conn._baseUrl(),"analytics","reports",this.id].join("/");n+="?includeDetails="+(t.details?"true":"false");var r={method:t.metadata?"POST":"GET",url:n};return t.metadata&&(r.headers={"Content-Type":"application/json"},r.body=JSON.stringify(t.metadata)),this._conn.request(r).thenCall(e)},o.prototype.executeAsync=function(t,e){t=t||{},i.isFunction(t)&&(e=t,t={});var n=[this._conn._baseUrl(),"analytics","reports",this.id,"instances"].join("/");t.details&&(n+="?includeDetails=true");var r={method:"POST",url:n,body:""};return t.metadata&&(r.headers={"Content-Type":"application/json"},r.body=JSON.stringify(t.metadata)),this._conn.request(r).thenCall(e)},o.prototype.instance=function(t){return new r(this,t)},o.prototype.instances=function(t){var e=[this._conn._baseUrl(),"analytics","reports",this.id,"instances"].join("/");return this._conn.request(e).thenCall(t)};var s=function(t){this._conn=t};s.prototype.report=function(t){return new o(this._conn,t)},s.prototype.reports=function(t){var e=[this._conn._baseUrl(),"analytics","reports"].join("/");return this._conn.request(e).thenCall(t)},e.exports=s},{"../promise":24,underscore:82}],2:[function(t,e,n){var r=function(t){this._conn=t};r.prototype._baseUrl=function(){return this._conn.instanceUrl+"/services/apexrest"},r.prototype._createRequestParams=function(t,e,n){var r={method:t,url:this._baseUrl()+e};return/^(GET|DELETE)$/i.test(t)||(r.headers={"Content-Type":"application/json"}),n&&(r.body=JSON.stringify(n)),r},r.prototype.get=function(t,e){return this._conn.request(this._createRequestParams("GET",t)).thenCall(e)},r.prototype.post=function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var r=this._createRequestParams("POST",t,e);return this._conn.request(r).thenCall(n)},r.prototype.put=function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var r=this._createRequestParams("PUT",t,e);return this._conn.request(r).thenCall(n)},r.prototype.patch=function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var r=this._createRequestParams("PATCH",t,e);return this._conn.request(r).thenCall(n)},r.prototype.del=r.prototype.delete=function(t,e){return this._conn.request(this._createRequestParams("DELETE",t)).thenCall(e)},e.exports=r},{}],3:[function(p,d,t){(function(n){var t=p("inherits"),e=p("readable-stream"),i=e.Duplex,r=p("events"),c=p("underscore"),s=p("../record-stream"),o=(p("../csv"),p("../promise")),a=p("../http-api"),u=function(t,e,n,r,i){this._bulk=t,this.type=e,this.operation=n,this.options=r||{},this.id=i,this.state=this.id?"Open":"Unknown",this._batches={}};t(u,r.EventEmitter),u.prototype.info=function(t){return this._jobInfo||(this._jobInfo=this.check()),this._jobInfo.thenCall(t)},u.prototype.open=function(t){var e=this,n=this._bulk;n._logger;if(!this._jobInfo){var r=this.operation.toLowerCase();"harddelete"===r&&(r="hardDelete");var i=['<?xml version="1.0" encoding="UTF-8"?>','<jobInfo  xmlns="http://www.force.com/2009/06/asyncapi/dataload">',"<operation>"+r+"</operation>","<object>"+this.type+"</object>",this.options.extIdField?"<externalIdFieldName>"+this.options.extIdField+"</externalIdFieldName>":"",this.options.concurrencyMode?"<concurrencyMode>"+this.options.concurrencyMode+"</concurrencyMode>":"",this.options.assignmentRuleId?"<assignmentRuleId>"+this.options.assignmentRuleId+"</assignmentRuleId>":"","<contentType>CSV</contentType>","</jobInfo>"].join("");this._jobInfo=n._request({method:"POST",path:"/job",body:i,headers:{"Content-Type":"application/xml; charset=utf-8"},responseType:"application/xml"}).then(function(t){return e.emit("open",t.jobInfo),e.id=t.jobInfo.id,e.state=t.jobInfo.state,t.jobInfo},function(t){throw e.emit("error",t),t})}return this._jobInfo.thenCall(t)},u.prototype.createBatch=function(){var t=new l(this),e=this;return t.on("queue",function(){e._batches[t.id]=t}),t},u.prototype.batch=function(t){var e=this._batches[t];return e||(e=new l(this,t),this._batches[t]=e),e},u.prototype.check=function(t){var e=this,n=this._bulk,r=n._logger;return this._jobInfo=this._waitAssign().then(function(){return n._request({method:"GET",path:"/job/"+e.id,responseType:"application/xml"})}).then(function(t){return r.debug(t.jobInfo),e.id=t.jobInfo.id,e.type=t.jobInfo.object,e.operation=t.jobInfo.operation,e.state=t.jobInfo.state,t.jobInfo}),this._jobInfo.thenCall(t)},u.prototype._waitAssign=function(t){return(this.id?o.resolve({id:this.id}):this.open()).thenCall(t)},u.prototype.list=function(t){var e=this,n=this._bulk,r=n._logger;return this._waitAssign().then(function(){return n._request({method:"GET",path:"/job/"+e.id+"/batch",responseType:"application/xml"})}).then(function(t){r.debug(t.batchInfoList.batchInfo);var e=t.batchInfoList;return e=c.isArray(e.batchInfo)?e.batchInfo:[e.batchInfo]}).thenCall(t)},u.prototype.close=function(){var e=this;return this._changeState("Closed").then(function(t){return e.id=null,e.emit("close",t),t},function(t){throw e.emit("error",t),t})},u.prototype.abort=function(){var e=this;return this._changeState("Aborted").then(function(t){return e.id=null,e.emit("abort",t),t},function(t){throw e.emit("error",t),t})},u.prototype._changeState=function(e,t){var n=this,r=this._bulk,i=r._logger;return this._jobInfo=this._waitAssign().then(function(){var t=['<?xml version="1.0" encoding="UTF-8"?>','<jobInfo xmlns="http://www.force.com/2009/06/asyncapi/dataload">',"<state>"+e+"</state>","</jobInfo>"].join("");return r._request({method:"POST",path:"/job/"+n.id,body:t,headers:{"Content-Type":"application/xml; charset=utf-8"},responseType:"application/xml"})}).then(function(t){return i.debug(t.jobInfo),n.state=t.jobInfo.state,t.jobInfo}),this._jobInfo.thenCall(t)};var l=function(t,e){l.super_.call(this,{objectMode:!0}),this.job=t,this.id=e,this._bulk=t._bulk,this._deferred=o.defer(),this._setupDataStreams()};t(l,e.Writable),l.prototype._setupDataStreams=function(){var r=this,t={nullValue:"#N/A"};this._uploadStream=new s.Serializable,this._uploadDataStream=this._uploadStream.stream("csv",t),this._downloadStream=new s.Parsable,this._downloadDataStream=this._downloadStream.stream("csv",t),this.on("finish",function(){r._uploadStream.end()}),this._uploadDataStream.once("readable",function(){r.job.open().then(function(){r._uploadDataStream.pipe(r._createRequestStream())})});var n=this._dataStream=new i;n._write=function(t,e,n){r._uploadDataStream.write(t,e,n)},n.on("finish",function(){r._uploadDataStream.end()}),this._downloadDataStream.on("readable",function(){n.read(0)}),this._downloadDataStream.on("end",function(){n.push(null)}),n._read=function(t){for(var e;null!==(e=r._downloadDataStream.read());)n.push(e)}},l.prototype._createRequestStream=function(){var n=this,t=n._bulk,r=t._logger;return t._request({method:"POST",path:"/job/"+n.job.id+"/batch",headers:{"Content-Type":"text/csv"},responseType:"application/xml"},function(t,e){t?n.emit("error",t):(r.debug(e.batchInfo),n.id=e.batchInfo.id,n.emit("queue",e.batchInfo))}).stream()},l.prototype._write=function(t,e,n){t=c.clone(t),"insert"===this.job.operation?delete t.Id:"delete"===this.job.operation&&(t={Id:t.Id}),delete t.type,delete t.attributes,this._uploadStream.write(t,e,n)},l.prototype.stream=function(){return this._dataStream},l.prototype.run=l.prototype.exec=l.prototype.execute=function(t,e){var n=this;if("function"==typeof t&&(e=t,t=null),this._result)throw new Error("Batch already executed.");var r,i=o.defer();(this._result=i.promise,this._result.then(function(t){n._deferred.resolve(t)},function(t){n._deferred.reject(t)}),this.once("response",function(t){i.resolve(t)}),this.once("error",function(t){i.reject(t)}),c.isObject(t)&&c.isFunction(t.pipe))?t.pipe(this._dataStream):c.isArray(t)?(c.forEach(t,function(t){n.write(t)}),n.end()):c.isString(t)&&(r=t,this._dataStream.write(r,"utf8"),this._dataStream.end());return this.thenCall(e)},l.prototype.then=function(t,e,n){return this._deferred.promise.then(t,e,n)},l.prototype.thenCall=function(e){return c.isFunction(e)&&this.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})}),this},l.prototype.check=function(t){var e=this._bulk,n=e._logger,r=this.job.id,i=this.id;if(!r||!i)throw new Error("Batch not started.");return e._request({method:"GET",path:"/job/"+r+"/batch/"+i,responseType:"application/xml"}).then(function(t){return n.debug(t.batchInfo),t.batchInfo}).thenCall(t)},l.prototype.poll=function(n,r){var i=this,o=this.job.id,s=this.id;if(!o||!s)throw new Error("Batch not started.");var a=(new Date).getTime(),u=function(){var t=(new Date).getTime();if(a+r<t){var e=new Error("Polling time out. Job Id = "+o+" , batch Id = "+s);return e.name="PollingTimeout",void i.emit("error",e)}i.check(function(t,e){t?i.emit("error",t):"Failed"===e.state?0<parseInt(e.numberRecordsProcessed,10)?i.retrieve():i.emit("error",new Error(e.stateMessage)):"Completed"===e.state?i.retrieve():(i.emit("progress",e),setTimeout(u,n))})};setTimeout(u,n)},l.prototype.retrieve=function(t){var n=this,r=this._bulk,i=this.job.id,o=this.job,s=this.id;if(!i||!s)throw new Error("Batch not started.");return o.info().then(function(t){return r._request({method:"GET",path:"/job/"+i+"/batch/"+s+"/result"})}).then(function(t){var e;if("query"===o.operation){r._conn,t["result-list"].result;e=t["result-list"].result,e=c.map(c.isArray(e)?e:[e],function(t){return{id:t,batchId:s,jobId:i}})}else e=c.map(t,function(t){return{id:t.Id||null,success:"true"===t.Success,errors:t.Error?[t.Error]:[]}});return n.emit("response",e),e}).fail(function(t){throw n.emit("error",t),t}).thenCall(t)},l.prototype.result=function(t){var e=this.job.id,n=this.id;if(!e||!n)throw new Error("Batch not started.");var r=new s.Parsable,i=r.stream("csv");this._bulk._request({method:"GET",path:"/job/"+e+"/batch/"+n+"/result/"+t}).stream().pipe(i);return r};var f=function(){f.super_.apply(this,arguments)};t(f,a),f.prototype.beforeSend=function(t){t.headers=t.headers||{},t.headers["X-SFDC-SESSION"]=this._conn.accessToken},f.prototype.isSessionExpired=function(t){return 400===t.statusCode&&/<exceptionCode>InvalidSessionId<\/exceptionCode>/.test(t.body)},f.prototype.hasErrorInResponseBody=function(t){return!!t.error},f.prototype.parseError=function(t){return{errorCode:t.error.exceptionCode,message:t.error.exceptionMessage}};var h=function(t){this._conn=t,this._logger=t._logger};h.prototype.pollInterval=1e3,h.prototype.pollTimeout=1e4,h.prototype._request=function(t,e){var n=this._conn;t=c.clone(t);var r=[n.instanceUrl,"services/async",n.version].join("/");t.url=r+t.path;var i={responseType:t.responseType};return delete t.path,delete t.responseType,new f(this._conn,i).request(t).thenCall(e)},h.prototype.load=function(t,e,n,r,i){var o=this;if(!t||!e)throw new Error("Insufficient arguments. At least, 'type' and 'operation' are required.");c.isObject(n)&&n.constructor===Object||(i=r,r=n,n=null);var s=this.createJob(t,e,n);s.once("error",function(t){a&&a.emit("error",t)});var a=s.createBatch(),u=function(){a=null,s.close()};return a.on("response",u),a.on("error",function(t){"PollingTimeout"!==t.name&&u()}),a.on("queue",function(){a.poll(o.pollInterval,o.pollTimeout)}),a.execute(r,i)},h.prototype.query=function(t){var e=t.replace(/\([\s\S]+\)/g,"").match(/FROM\s+(\w+)/i);if(!e)throw new Error("No sobject type found in query, maybe caused by invalid SOQL.");var n=e[1],r=this,i=new s.Parsable,o=i.stream("csv");return this.load(n,"query",t).then(function(t){var e=t[0];r.job(e.jobId).batch(e.batchId).result(e.id).stream().pipe(o)}).fail(function(t){i.emit("error",t)}),i},h.prototype.createJob=function(t,e,n){return new u(this,t,e,n)},h.prototype.job=function(t){return new u(this,null,null,null,t)},d.exports=h}).call(this,p("_process"))},{"../csv":17,"../http-api":19,"../promise":24,"../record-stream":27,_process:44,events:42,inherits:53,"readable-stream":69,underscore:82}],4:[function(t,e,n){var r=t("inherits"),o=t("underscore"),s=t("../promise"),i=e.exports=function(t){this._conn=t};i.prototype._request=function(t,e){return/^(put|post|patch)$/i.test(t.method)&&o.isObject(t.body)&&(t.headers={"Content-Type":"application/json"},t.body=JSON.stringify(t.body)),t.url=this._normalizeUrl(t.url),this._conn.request(t,e)},i.prototype._normalizeUrl=function(t){return 0===t.indexOf("/chatter/")||0===t.indexOf("/connect/")?"/services/data/v"+this._conn.version+t:/^\/v[\d]+\.[\d]+\//.test(t)?"/services/data"+t:0!==t.indexOf("/services/")&&"/"===t[0]?"/services/data/v"+this._conn.version+"/chatter"+t:t},i.prototype.request=function(t,e){return new a(this,t).thenCall(e)},i.prototype.resource=function(t,e){return new u(this,t,e)},i.prototype.batch=function(t,e){var n=[],r=[];o.forEach(t,function(t){var e=s.defer();t._promise=e.promise,n.push(t.batchParams()),r.push(e)});var i={method:"POST",url:this._normalizeUrl("/connect/batch"),body:{batchRequests:n}};return this.request(i).then(function(t){return o.forEach(t.results,function(t,e){var n=r[e];400<=t.statusCode?n.reject(t.result):n.resolve(t.result)}),t}).thenCall(e)};var a=function(t,e){this._chatter=t,this._params=e,this._promise=null};a.prototype.batchParams=function(){var t=this._params,e={method:t.method,url:this._chatter._normalizeUrl(t.url)};return this._params.body&&(e.richInput=this._params.body),e},a.prototype.promise=function(){return this._promise||this._chatter._request(this._params)},a.prototype.stream=function(){return this._chatter._request(this._params).stream()},a.prototype.then=function(t,e){return this.promise().then(t,e)},a.prototype.thenCall=function(t){return o.isFunction(t)?this.promise().thenCall(t):this};var u=function(t,e,n){if(n){var r=o.map(o.keys(n),function(t){return t+"="+encodeURIComponent(n[t])}).join("&");e+=(0<e.indexOf("?")?"&":"?")+r}u.super_.call(this,t,{method:"GET",url:e}),this._url=e};r(u,a),u.prototype.create=function(t,e){return this._chatter.request({method:"POST",url:this._url,body:t}).thenCall(e)},u.prototype.retrieve=function(t){return this.thenCall(t)},u.prototype.update=function(t,e){return this._chatter.request({method:"POST",url:this._url,body:t}).thenCall(e)},u.prototype.del=u.prototype.delete=function(t){return this._chatter.request({method:"DELETE",url:this._url}).thenCall(t)}},{"../promise":24,inherits:53,underscore:82}],5:[function(g,y,t){(function(n,a){var t=g("inherits"),e=g("events"),r=g("readable-stream"),c=g("underscore"),u=g("../promise"),i=g("../soap"),o=y.exports=function(t){this._conn=t};function s(t){var e=c.clone(t);return e.success="true"===e.success,e}function l(t){var e=s(t);return e.created="true"===e.created,e}function f(t){var e=c.clone(t);return delete e.$,e}o.prototype.pollInterval=1e3,o.prototype.pollTimeout=1e4,o.prototype._invoke=function(t,e,n){return new i(this._conn,{xmlns:"http://soap.sforce.com/2006/04/metadata",endpointUrl:this._conn.instanceUrl+"/services/Soap/m/"+this._conn.version}).invoke(t,e).then(function(t){return t.result}).thenCall(n)},o.prototype.createAsync=function(e,t,n){if(30<Number(this._conn.version))throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");var r=function(t){return t["@xsi:type"]=e,t},i=c.isArray(t);t=i?c.map(t,r):r(t);var o=this._invoke("create",{metadata:t});return new h(this,o,i).thenCall(n)},o.prototype.createSync=o.prototype.create=function(e,t,n){var r=function(t){return t["@xsi:type"]=e,t};return t=c.isArray(t)?c.map(t,r):r(t),this._invoke("createMetadata",{metadata:t}).then(function(t){return c.isArray(t)?c.map(t,s):s(t)}).thenCall(n)},o.prototype.readSync=o.prototype.read=function(t,e,n){return this._invoke("readMetadata",{type:t,fullNames:e}).then(function(t){return c.isArray(t.records)?c.map(t.records,f):f(t.records)}).thenCall(n)},o.prototype.updateAsync=function(e,t,n){if(30<Number(this._conn.version))throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");var r=function(t){return t.metadata["@xsi:type"]=e,t},i=c.isArray(t);t=i?c.map(t,r):r(t);var o=this._invoke("update",{updateMetadata:t});return new h(this,o,i).thenCall(n)},o.prototype.updateSync=o.prototype.update=function(e,t,n){var r=function(t){return t["@xsi:type"]=e,t};return t=c.isArray(t)?c.map(t,r):r(t),this._invoke("updateMetadata",{metadata:t}).then(function(t){return c.isArray(t)?c.map(t,s):s(t)}).thenCall(n)},o.prototype.upsertSync=o.prototype.upsert=function(e,t,n){var r=function(t){return t["@xsi:type"]=e,t};return t=c.isArray(t)?c.map(t,r):r(t),this._invoke("upsertMetadata",{metadata:t}).then(function(t){return c.isArray(t)?c.map(t,l):l(t)}).thenCall(n)},o.prototype.deleteAsync=function(e,t,n){if(30<Number(this._conn.version))throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");var r=function(t){return c.isString(t)&&(t={fullName:t}),t["@xsi:type"]=e,t},i=c.isArray(t);t=i?c.map(t,r):r(t);var o=this._invoke("delete",{metadata:t});return new h(this,o,i).thenCall(n)},o.prototype.del=o.prototype.deleteSync=o.prototype.delete=function(t,e,n){return this._invoke("deleteMetadata",{type:t,fullNames:e}).then(function(t){return c.isArray(t)?c.map(t,s):s(t)}).thenCall(n)},o.prototype.rename=function(t,e,n,r){return this._invoke("renameMetadata",{type:t,oldFullName:e,newFullName:n}).then(function(t){return s(t)}).thenCall(r)},o.prototype.checkStatus=function(t,e){var n=c.isArray(t),r=this._invoke("checkStatus",{asyncProcessId:t});return new h(this,r,n).thenCall(e)},o.prototype.describe=function(t,e){return c.isString(t)||(e=t,t=this._conn.version),this._invoke("describeMetadata",{asOfVersion:t}).then(function(t){return t.metadataObjects=c.isArray(t.metadataObjects)?t.metadataObjects:[t.metadataObjects],t.metadataObjects=c.map(t.metadataObjects,function(t){return t.childXmlNames&&(t.childXmlNames=c.isArray(t.childXmlNames)?t.childXmlNames:[t.childXmlNames]),t.inFolder="true"===t.inFolder,t.metaFile="true"===t.metaFile,t}),t.partialSaveAllowed="true"===t.partialSaveAllowed,t.testRequired="true"===t.testRequired,t}).thenCall(e)},o.prototype.list=function(t,e,n){return c.isString(e)||(n=e,e=this._conn.version),c.isArray(t)||(t=[t]),this._invoke("listMetadata",{queries:t,asOfVersion:e},n)},o.prototype.retrieve=function(t,e){var n=this._invoke("retrieve",{request:t});return new p(this,n).thenCall(e)},o.prototype.checkRetrieveStatus=function(t,e){return this._invoke("checkRetrieveStatus",{asyncProcessId:t},e)},o.prototype.deploy=function(t,e,n){e&&!c.isFunction(e)||(n=e,e={});var r=u.defer();if(c.isObject(t)&&c.isFunction(t.pipe)){var i=[];t.on("data",function(t){i.push(t)}),t.on("end",function(){r.resolve(a.concat(i).toString("base64"))})}else if(t instanceof a)r.resolve(t.toString("base64"));else{if(!(t instanceof String||"string"==typeof t))throw"Unexpected zipInput type";r.resolve(t)}var o=this,s=r.promise.then(function(t){return o._invoke("deploy",{ZipFile:t,DeployOptions:e},n)});return new d(this,s).thenCall(n)},o.prototype.checkDeployStatus=function(t,e,n){return e=c.isObject(e)||c.isBoolean(e)?!!e:(n=e,!1),this._invoke("checkDeployStatus",{asyncProcessId:t,includeDetails:e}).then(function(t){return t.done="true"===t.done,t.success="true"===t.success,t.checkOnly="true"===t.checkOnly,t.ignoreWarnings&&(t.ignoreWarnings="true"===t.ignoreWarnings),t.rollbackOnError&&(t.rollbackOnError="true"===t.rollbackOnError),t.numberComponentErrors=Number(t.numberComponentErrors),t.numberComponentsDeployed=Number(t.numberComponentsDeployed),t.numberComponentsTotal=Number(t.numberComponentsTotal),t.numberTestErrors=Number(t.numberTestErrors),t.numberTestsCompleted=Number(t.numberTestsCompleted),t.numberTestsTotal=Number(t.numberTestsTotal),t}).thenCall(n)};var h=function(t,e,n){this._meta=t,this._results=e,this._isArray=n};t(h,e.EventEmitter),h.prototype.then=function(n,t){var r=this;return this._results.then(function(t){var e=function(t){return t.$&&"true"===t.$["xsi:nil"]?null:(t.done="true"===t.done,t)};return t=c.isArray(t)?c.map(t,e):e(t),r._isArray&&!c.isArray(t)&&(t=[t]),n(t)},t)},h.prototype.thenCall=function(e){return c.isFunction(e)?this.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})}):this},h.prototype.check=function(t){var n=this,r=this._meta;return this.then(function(t){var e=c.isArray(t)?c.map(t,function(t){return t.id}):t.id;return n._ids=e,r.checkStatus(e)}).thenCall(t)},h.prototype.poll=function(s,n){var a=this,r=(new Date).getTime(),u=function(){var t=(new Date).getTime();if(r+n<t){var e="Polling time out.";return a._ids&&(e+=" Process Id = "+a._ids),void a.emit("error",new Error(e))}a.check().then(function(t){for(var e=!0,n=c.isArray(t)?t:[t],r=0,i=n.length;r<i;r++){var o=n[r];o&&!o.done&&(a.emit("progress",o),e=!1)}e?a.emit("complete",t):setTimeout(u,s)},function(t){a.emit("error",t)})};setTimeout(u,s)},h.prototype.complete=function(t){var e=u.defer();this.on("complete",function(t){e.resolve(t)}),this.on("error",function(t){e.reject(t)});var n=this._meta;return this.poll(n.pollInterval,n.pollTimeout),e.promise.thenCall(t)};var p=function(t,e){p.super_.call(this,t,e)};t(p,h),p.prototype.complete=function(t){var e=this._meta;return p.super_.prototype.complete.call(this).then(function(t){return e.checkRetrieveStatus(t.id)}).thenCall(t)},p.prototype.stream=function(){var t=this,n=new r.Readable,e=!1;return n._read=function(){e||(e=!0,t.complete(function(t,e){t?n.emit("error",t):(n.push(new a(e.zipFile,"base64")),n.push(null))}))},n};var d=function(t,e){d.super_.call(this,t,e)};t(d,h),d.prototype.complete=function(e,t){c.isFunction(e)&&(t=e,e=!1);var n=this._meta;return d.super_.prototype.complete.call(this).then(function(t){return n.checkDeployStatus(t.id,e)}).thenCall(t)}}).call(this,g("_process"),g("buffer").Buffer)},{"../promise":24,"../soap":31,_process:44,buffer:38,events:42,inherits:53,"readable-stream":69,underscore:82}],6:[function(t,e,n){var r=t("underscore"),i=t("../soap"),o=e.exports=function(t){this._conn=t};o.prototype._invoke=function(t,e,n,r){return new i(this._conn,{xmlns:"urn:partner.soap.sforce.com",endpointUrl:this._conn.instanceUrl+"/services/Soap/u/"+this._conn.version}).invoke(t,e,{result:n}).then(function(t){return t.result}).thenCall(r)};var s={};o.prototype.convertLead=function(t,e){var n=r.isArray(t)?[s.LeadConvertResult]:s.LeadConvertResult;return this._invoke("convertLead",{leadConverts:t},n,e)},s.LeadConvertResult={success:"boolean",errors:[],leadId:"string",accountId:"string",contactId:"string",opportunityId:"string"},o.prototype.merge=function(t,e){var n=r.isArray(t)?[s.MergeResult]:s.MergeResult;return this._invoke("merge",{mergeRequests:t},n,e)},s.MergeResult={success:"boolean",errors:[],id:"string",mergedRecordIds:["string"],updatedRelatedIds:["string"]},o.prototype.emptyRecycleBin=function(t,e){return this._invoke("emptyRecycleBin",{ids:t},[s.EmptyRecycleBinResult],e)},s.EmptyRecycleBinResult={id:"string",success:"boolean",errors:[]},o.prototype.describeTabs=function(t){return this._invoke("describeTabs",{},[s.DescribeTabSetResult],t)},s.DescribeTabSetResult={label:"string",logoUrl:"string",namespace:"string",selected:"boolean",tabs:[{colors:[{theme:"string",color:"string",context:"string"}],iconUrl:"string",icons:[{theme:"string",height:"number",width:"number",url:"string",contentType:"string"}],label:"string",custom:"boolean",miniIconUrl:"string",name:"string",sobjectName:"string",url:"string"}]},o.prototype.getServerTimestamp=function(t){return this._invoke("getServerTimestamp",{},s.GetServerTimestampResult,t)},s.GetServerTimestampResult={timestamp:"string"},o.prototype.getUserInfo=function(t){return this._invoke("getUserInfo",{},s.GetUserInfoResult,t)},s.GetUserInfoResult={accessibilityMode:"boolean",currencySymbol:"string",orgAttachmentFileSizeLimit:"number",orgDefaultCurrencyIsoCode:"string",orgDisallowHtmlAttachments:"boolean",orgHasPersonAccounts:"boolean",organizationId:"string",organizationMultiCurrency:"boolean",organizationName:"string",profileId:"string",roleId:"string",sessionSecondsValid:"number",userDefaultCurrencyIsoCode:"string",userEmail:"string",userFullName:"string",userId:"string",userLanguage:"string",userLocale:"string",userName:"string",userTimeZone:"string",userType:"string",userUiSkin:"string"},o.prototype.setPassword=function(t,e,n){return this._invoke("setPassword",{userId:t,password:e},n)},o.prototype.resetPassword=function(t,e){return this._invoke("resetPassword",{userId:t},e)},e.exports=o},{"../soap":31,underscore:82}],7:[function(t,e,n){var r=t("events"),i=t("inherits"),o=t("underscore"),s=t("faye"),a=function(t,e){this._streaming=t,this.name=e};a.prototype.subscribe=function(t){return this._streaming.subscribe(this.name,t)},a.prototype.unsubscribe=function(t){return this._streaming.unsubscribe(this.name,t),this};var u=function(t,e){this._streaming=t,this._name=e};u.prototype.subscribe=function(t){return this._streaming.subscribe(this._name,t)},u.prototype.unsubscribe=function(t){return this._streaming.unsubscribe(this._name,t),this},u.prototype.push=function(n,t){var e=o.isArray(n);n=e?n:[n];var r=this._streaming._conn;return this._id||(this._id=r.sobject("StreamingChannel").findOne({Name:this._name},"Id").then(function(t){return t.Id})),this._id.then(function(t){var e="/sobjects/StreamingChannel/"+t+"/push";return r.requestPost(e,{pushEvents:n})}).then(function(t){return e?t:t[0]}).thenCall(t)};var c=function(t){this._conn=t};i(c,r.EventEmitter),c.prototype._createClient=function(){var t=[this._conn.instanceUrl,"cometd",this._conn.version].join("/"),e=new s.Client(t,{});return e.setHeader("Authorization","OAuth "+this._conn.accessToken),e},c.prototype.topic=function(t){return this._topics=this._topics||{},this._topics[t]=this._topics[t]||new a(this,t)},c.prototype.channel=function(t){return new u(this,t)},c.prototype.subscribe=function(t,e){this._fayeClient||(s.Transport.NodeHttp&&(s.Transport.NodeHttp.prototype.batching=!1),this._fayeClient=this._createClient());var n=0===t.indexOf("/")?t:"/topic/"+t;return this._fayeClient.subscribe(n,e)},c.prototype.unsubscribe=function(t,e){if(this._fayeClient){var n=0===t.indexOf("/")?t:"/topic/"+t;this._fayeClient.unsubscribe(n,e)}return this},e.exports=c},{events:42,faye:52,inherits:53,underscore:82}],8:[function(t,e,n){var r=t("underscore"),i=t("../cache"),o=function(e){this._conn=e,this._logger=e._logger;["query","queryMore","create","insert","retrieve","update","upsert","del","delete","destroy","describe","describeGlobal","sobject"].forEach(function(t){this[t]=e.constructor.prototype[t]},this),this.cache=new i;var t={key:function(t){return t?"describe."+t:"describe"}};this.describe$=this.cache.makeCacheable(this.describe,this,t),this.describe=this.cache.makeResponseCacheable(this.describe,this,t),this.describeSObject$=this.describe$,this.describeSObject=this.describe,t={key:"describeGlobal"},this.describeGlobal$=this.cache.makeCacheable(this.describeGlobal,this,t),this.describeGlobal=this.cache.makeResponseCacheable(this.describeGlobal,this,t),this.initialize()};o.prototype.initialize=function(){this.sobjects={},this.cache.clear(),this.cache.get("describeGlobal").on("value",r.bind(function(t){if(t.result){var e=r.map(t.result.sobjects,function(t){return t.name});r.each(e,this.sobject,this)}},this))},o.prototype._baseUrl=function(){return this._conn._baseUrl()+"/tooling"},o.prototype.request=function(){return this._conn.request.apply(this._conn,arguments)},o.prototype.executeAnonymous=function(t,e){var n=this._baseUrl()+"/executeAnonymous?anonymousBody="+encodeURIComponent(t);return this.request(n).thenCall(e)},o.prototype.runTestsAsynchronous=function(t,e){var n=this._baseUrl()+"/runTestsAsynchronous/?classids="+t.join(",");return this.request(n).thenCall(e)},o.prototype.completions=function(t,e){r.isString(t)||(e=t,t="apex");var n=this._baseUrl()+"/completions?type="+encodeURIComponent(t);return this.request(n).thenCall(e)},e.exports=o},{"../cache":14,underscore:82}],9:[function(t,e,n){var c=t("readable-stream").Duplex,l=t("underscore");e.exports={supported:"object"==typeof Sfdc&&void 0!==Sfdc.canvas,createRequest:function(u){return function(r,o){var s,a=new c;a._read=function(t){s&&a.push(s.body)};var i=[],t=!1;function e(t){var e={client:u.client,method:r.method,data:t};if(r.headers)for(var n in e.headers={},r.headers)"content-type"===n.toLowerCase()?e.contentType=r.headers[n]:e.headers[n]=r.headers[n];e.success=function(t){var e,i,n=(e=t.responseHeaders,i={},e.split(/\n/).forEach(function(t){var e=t.split(/\s*:\s*/),n=e[0].toLowerCase(),r=e[1];i[n]=r}),i),r=t.payload;l.isString(r)||(r=JSON.stringify(r)),s={statusCode:t.status,headers:n,body:r},o&&o(null,s,s.body),a.end()},e.failure=function(t){o&&o(t)},Sfdc.canvas.client.ajax(r.url,e)}return a._write=function(t,e,n){i.push(t.toString(e)),n()},a.on("finish",function(){t||(e(i.join("")),t=!0)}),!r.body&&""!==r.body&&/^(put|post|patch)$/i.test(r.method)||(e(r.body),t=!0),a}}}},{"readable-stream":69,underscore:82}],10:[function(t,e,n){var r=t("events"),i=t("inherits"),s=t("querystring"),o=t("underscore"),a=t("../connection"),g=t("../oauth2");function u(){var t=function(){var t;if(window.location.hash){if((t=s.parse(window.location.hash.substring(1))).access_token)return{success:!0,body:t}}else if(window.location.search&&(t=s.parse(window.location.search.substring(1))).error)return{success:!1,body:t}}(),e=localStorage.getItem("jsforce_state");if(t&&e&&t.body.state===e){localStorage.removeItem("jsforce_state");var n=e.split("."),r=n[0],i=n[1],o=new l(r);return t.success?(o._storeTokens(t.body),location.hash=""):o._storeError(t.body),"popup"===i&&window.close(),!0}}var c=0,l=function(t){this._prefix=t||"jsforce"+c++,this.connection=null};i(l,r.EventEmitter),l.prototype.init=function(t){if(!u()){this.config=t,this.connection=new a(t);var e=this._getTokens();if(e){this.connection.initialize(e);var n=this;setTimeout(function(){n.emit("connect",n.connection)},10)}}},l.prototype.login=function(t,e){o.isFunction(t)&&(e=t,t={}),t=t||{},e=e||function(){},o.extend(t,this.config);this._prompt(t,e)},l.prototype._prompt=function(t,n){var r=this,e=new g(t),i=Math.random().toString(36).substring(2),o=[this._prefix,"popup",i].join(".");localStorage.setItem("jsforce_state",o);var s,a,u,c,l,f=e.getAuthorizationUrl({response_type:"token",scope:t.scope,state:o}),h=t.size||{},p=(s=f,a=h.width||912,u=h.height||513,c=screen.width/2-a/2,l=screen.height/2-u/2,window.open(s,null,"location=yes,toolbar=no,status=no,menubar=no,width="+a+",height="+u+",top="+l+",left="+c));if(!p)return o=[this._prefix,"redirect",i].join("."),localStorage.setItem("jsforce_state",o),f=e.getAuthorizationUrl({response_type:"token",scope:t.scope,state:o}),void(location.href=f);r._removeTokens();var d=setInterval(function(){try{if(!p||p.closed){clearInterval(d);var t=r._getTokens();if(t)r.connection.initialize(t),r.emit("connect",r.connection),n(null,{status:"connect"});else{var e=r._getError();e?n(new Error(e.error+": "+e.error_description)):n(null,{status:"cancel"})}}}catch(t){}},1e3)},l.prototype.isLoggedIn=function(){return!(!this.connection||!this.connection.accessToken)},l.prototype.logout=function(){this.connection.logout(),this._removeTokens(),this.emit("disconnect")},l.prototype._getTokens=function(){var t=new RegExp("(^|;\\s*)"+this._prefix+"_loggedin=true(;|$)");if(document.cookie.match(t)){var e=Number(localStorage.getItem(this._prefix+"_issued_at"));if(Date.now()<e+72e5){var n,r=localStorage.getItem(this._prefix+"_id");if(r){var i=r.split("/");n={id:i.pop(),organizationId:i.pop(),url:r}}return{accessToken:localStorage.getItem(this._prefix+"_access_token"),instanceUrl:localStorage.getItem(this._prefix+"_instance_url"),userInfo:n}}}return null},l.prototype._storeTokens=function(t){localStorage.setItem(this._prefix+"_access_token",t.access_token),localStorage.setItem(this._prefix+"_instance_url",t.instance_url),localStorage.setItem(this._prefix+"_issued_at",t.issued_at),localStorage.setItem(this._prefix+"_id",t.id),document.cookie=this._prefix+"_loggedin=true;"},l.prototype._removeTokens=function(){localStorage.removeItem(this._prefix+"_access_token"),localStorage.removeItem(this._prefix+"_instance_url"),localStorage.removeItem(this._prefix+"_issued_at"),localStorage.removeItem(this._prefix+"_id"),document.cookie=this._prefix+"_loggedin="},l.prototype._getError=function(){try{var t=JSON.parse(localStorage.getItem(this._prefix+"_error"));return localStorage.removeItem(this._prefix+"_error"),t}catch(t){}},l.prototype._storeError=function(t){localStorage.setItem(this._prefix+"_error",JSON.stringify(t))},e.exports=new l,e.exports.Client=l},{"../connection":15,"../oauth2":22,events:42,inherits:53,querystring:47,underscore:82}],11:[function(t,e,n){"use strict";var o,s=t("../jsforce");try{o=t("../core-require")}catch(t){}s.browser=t("./client"),s.modules=s.modules||{},s.require=function(e){try{return o(e)}catch(t){if("jsforce"===e||"./jsforce"===e)return s;if("./"===e.substring(0,2)){var n=e.substring(2).split("/"),r=n.pop();n.push(r.replace(/(^|\-)([a-zA-Z])/g,function(t,e,n){return n.toUpperCase()}));for(var i=s.modules;i&&0<n.length;)i=i[n.shift()];return i}}},e.exports=s},{"../core-require":16,"../jsforce":20,"./client":10}],12:[function(t,e,n){var l=0;e.exports={supported:"undefined"!=typeof window,createRequest:function(u,c){return u=u||"callback",c=c||1e4,function(t,e){if("GET"!==t.method.toUpperCase())return e(new Error("JSONP only supports GET request."));var n="_jsforce_jsonpCallback_"+ ++l,r=window,i=t.url;i+=0<i.indexOf("?")?"&":"?",i+=u+"="+n;var o=document.createElement("script");o.type="text/javascript",o.src=i,document.documentElement.appendChild(o);var s=setTimeout(function(){a(),e(new Error("JSONP call time out."))},c);r[n]=function(t){a(),e(null,{statusCode:200,headers:{"content-type":"application/json"},body:JSON.stringify(t)})};var a=function(){clearTimeout(s),document.documentElement.removeChild(o),delete r[n]}}}}},{}],13:[function(t,e,n){"use strict";var u=t("readable-stream").Duplex,c=t("underscore");e.exports=function(t,r){var i,o=new XMLHttpRequest;if(o.open(t.method,t.url),t.headers)for(var e in t.headers)o.setRequestHeader(e,t.headers[e]);o.setRequestHeader("Accept","*/*");var s=new u;s._read=function(t){i&&s.push(i.body)};var a=[],n=!1;return s._write=function(t,e,n){a.push(t.toString("buffer"===e?"binary":e)),n()},s.on("finish",function(){n||(o.send(a.join("")),n=!0)}),!t.body&&""!==t.body&&/^(put|post|patch)$/i.test(t.method)||(o.send(t.body),n=!0),o.onreadystatechange=function(){if(4===o.readyState){var t=(n=(o.getAllResponseHeaders()||"").split(/[\r\n]+/),c.map(n,function(t){return t.split(/\s*:/)[0].toLowerCase()})),e={};c.forEach(t,function(t){t&&(e[t]=o.getResponseHeader(t))}),(i={statusCode:o.status,headers:e,body:o.response}).statusCode||(i.statusCode=400,i.body="Access Declined"),r&&r(null,i,i.body),s.end()}var n},s}},{"readable-stream":69,underscore:82}],14:[function(t,e,n){var r=t("events"),i=t("inherits"),l=t("underscore")._,o=function(){this.fetching=!1};i(o,r.EventEmitter),o.prototype.get=function(t){if(!t)return this._value;this.once("value",t),l.isUndefined(this._value)||this.emit("value",this._value)},o.prototype.set=function(t){this._value=t,this.emit("value",this._value)},o.prototype.clear=function(){this.fetching=!1,delete this._value};var s=function(){this._entries={}};function f(t,e){return e=Array.prototype.slice.apply(e),t+"("+l.map(e,function(t){return JSON.stringify(t)}).join(",")+")"}s.prototype.get=function(t){if(t&&this._entries[t])return this._entries[t];var e=new o;return this._entries[t]=e},s.prototype.clear=function(t){for(var e in this._entries)t&&0!==e.indexOf(t)||this._entries[e].clear()},s.prototype.makeResponseCacheable=function(s,a,u){var c=this;return u=u||{},function(){var t=Array.prototype.slice.apply(arguments),n=t.pop();l.isFunction(n)||(t.push(n),n=null);var e,r,i=l.isString(u.key)?u.key:l.isFunction(u.key)?u.key.apply(a,t):f(u.namespace,t),o=c.get(i);o.fetching=!0,n&&t.push(function(t,e){o.set({error:t,result:e}),n(t,e)});try{e=s.apply(a||this,t)}catch(t){r=t}if(e&&l.isFunction(e.then))return n?e:e.then(function(t){return o.set({error:void 0,result:t}),t},function(t){throw o.set({error:t,result:void 0}),t});if(o.set({error:r,result:e}),r)throw r;return e}},s.prototype.makeCacheable=function(o,s,a){var u=this;a=a||{};var t=function(){var t=Array.prototype.slice.apply(arguments),e=t.pop();l.isFunction(e)||t.push(e);var n=l.isString(a.key)?a.key:l.isFunction(a.key)?a.key.apply(s,t):f(a.namespace,t),r=u.get(n);if(!l.isFunction(e)){var i=r.get();if(!i)throw new Error("Function call result is not cached yet.");if(i.error)throw i.error;return i.result}r.get(function(t){e(t.error,t.result)}),r.fetching||(r.fetching=!0,t.push(function(t,e){r.set({error:t,result:e})}),o.apply(s||this,t))};return t.clear=function(){var t=l.isString(a.key)?a.key:l.isFunction(a.key)?a.key.apply(s,arguments):f(a.namespace,arguments);u.clear(t)},t},e.exports=s},{events:42,inherits:53,underscore:82}],15:[function(w,E,t){(function(r){var t=w("events"),e=w("inherits"),u=w("underscore")._,c=w("./promise"),p=w("./logger"),d=w("./oauth2"),i=w("./query"),n=w("./sobject"),o=w("./quick-action"),g=w("./http-api"),y=w("./transport"),v=w("./cache"),m="https://login.salesforce.com",s="",b="34.0",a=E.exports=function(t){var e=w("./api/bulk"),n=w("./api/streaming"),r=w("./api/tooling"),i=w("./api/analytics"),o=w("./api/chatter"),s=w("./api/apex"),a=w("./api/metadata"),u=w("./api/soap"),c=w("./process");t=t||{},this._logger=new p(t.logLevel);var l=t.oauth2||{loginUrl:t.loginUrl,clientId:t.clientId,clientSecret:t.clientSecret,redirectUri:t.redirectUri};this.oauth2=l=l instanceof d?l:new d(l),this.loginUrl=t.loginUrl||l.loginUrl||m,this.version=t.version||b,this.maxRequest=t.maxRequest||this.maxRequest||10,this._transport=t.proxyUrl?new y.ProxyTransport(t.proxyUrl):new y,this.callOptions=t.callOptions,n&&(this.streaming=new n(this)),e&&(this.bulk=new e(this)),r&&(this.tooling=new r(this)),i&&(this.analytics=new i(this)),o&&(this.chatter=new o(this)),a&&(this.metadata=new a(this)),u&&(this.soap=new u(this)),s&&(this.apex=new s(this)),this.process=new c(this),this.cache=new v;var f=t.refreshFn;!f&&this.oauth2.clientId&&this.oauth2.clientSecret&&(f=_),f&&(this._refreshDelegate=new g.SessionRefreshDelegate(this,f));var h={key:function(t){return t?"describe."+t:"describe"}};this.describe$=this.cache.makeCacheable(this.describe,this,h),this.describe=this.cache.makeResponseCacheable(this.describe,this,h),this.describeSObject$=this.describe$,this.describeSObject=this.describe,h={key:"describeGlobal"},this.describeGlobal$=this.cache.makeCacheable(this.describeGlobal,this,h),this.describeGlobal=this.cache.makeResponseCacheable(this.describeGlobal,this,h),this.initialize(t)};function _(r,i){r.oauth2.refreshToken(r.refreshToken,function(t,e){if(t)return i(t);var n=f(e.id);r.initialize({instanceUrl:e.instance_url,accessToken:e.access_token,userInfo:n}),i(null,e.access_token,e)})}function l(t){function e(t){return t<10?"0"+t:t}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"+00:00"}function f(t){var e=t.split("/");return{id:e.pop(),organizationId:e.pop(),url:t}}function h(t){return t&&String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}e(a,t.EventEmitter),a.prototype.initialize=function(t){if(!t.instanceUrl&&t.serverUrl&&(t.instanceUrl=t.serverUrl.split("/").slice(0,3).join("/")),this.instanceUrl=t.instanceUrl||t.serverUrl||this.instanceUrl||s,this.accessToken=t.sessionId||t.accessToken||this.accessToken,this.refreshToken=t.refreshToken||this.refreshToken,this.refreshToken&&!this._refreshDelegate)throw new Error("Refresh token is specified without oauth2 client information or refresh function");this.signedRequest=t.signedRequest&&function(t){if(u.isString(t)){if("{"===t[0])return JSON.parse(t);var e=t.split(".").pop(),n=new r(e,"base64").toString("utf-8");return JSON.parse(n)}return t}(t.signedRequest),this.signedRequest&&(this.accessToken=this.signedRequest.client.oauthToken),t.userInfo&&(this.userInfo=t.userInfo),this.limitInfo={},this.sobjects={},this.cache.clear(),this.cache.get("describeGlobal").on("value",u.bind(function(t){if(t.result){var e=u.map(t.result.sobjects,function(t){return t.name});u.each(e,this.sobject,this)}},this)),this.tooling&&this.tooling.initialize(),this._sessionType=t.sessionId?"soap":"oauth2"},a.prototype._baseUrl=function(){return[this.instanceUrl,"services/data","v"+this.version].join("/")},a.prototype._normalizeUrl=function(t){return"/"===t[0]?0===t.indexOf("/services/")?this.instanceUrl+t:this._baseUrl()+t:t},a.prototype.request=function(t,e,n){"function"==typeof e&&(n=e,e=null),e=e||{};var r=this;u.isString(t)&&(t={method:"GET",url:t}),t.url=this._normalizeUrl(t.url);var i=new g(this,e);return i.on("response",function(t){if(t.headers&&t.headers["sforce-limit-info"]){var e=t.headers["sforce-limit-info"].match(/api\-usage=(\d+)\/(\d+)/);e&&(r.limitInfo={apiUsage:{used:parseInt(e[1],10),limit:parseInt(e[2],10)}})}}),i.request(t).thenCall(n)},a.prototype.requestGet=function(t,e,n){var r={method:"GET",url:t};return this.request(r,e,n)},a.prototype.requestPost=function(t,e,n,r){var i={method:"POST",url:t,body:JSON.stringify(e),headers:{"content-type":"application/json"}};return this.request(i,n,r)},a.prototype.requestPut=function(t,e,n,r){var i={method:"PUT",url:t,body:JSON.stringify(e),headers:{"content-type":"application/json"}};return this.request(i,n,r)},a.prototype.requestPatch=function(t,e,n,r){var i={method:"PATCH",url:t,body:JSON.stringify(e),headers:{"content-type":"application/json"}};return this.request(i,n,r)},a.prototype.requestDelete=function(t,e,n){var r={method:"DELETE",url:t};return this.request(r,e,n)},a.prototype.query=function(t,e){var n=new i(this,t);return e&&n.run(e),n},a.prototype.queryAll=function(t,e){var n=new i(this,t);return n.scanAll(!0),e&&n.run(e),n},a.prototype.queryMore=function(t,e){var n=new i(this,null,t);return e&&n.run(e),n},a.prototype.retrieve=function(n,t,e,r){"function"==typeof e&&(r=e,e={});var i=this,o=u.isArray(t);return(t=o?t:[t]).length>i.maxRequest?c.reject(new Error("Exceeded max limit of concurrent call")).thenCall(r):c.all(u.map(t,function(t){if(!t)return c.reject(new Error("Invalid record ID. Specify valid record ID value")).thenCall(r);var e=[i._baseUrl(),"sobjects",n,t].join("/");return i.request(e)})).then(function(t){return!o&&u.isArray(t)?t[0]:t}).thenCall(r)},a.prototype.insert=a.prototype.create=function(r,t,i,e){u.isString(r)||(e=i,i=t,t=r,r=null),"function"==typeof i&&(e=i,i={}),i=i||{};var o=this,n=u.isArray(t);return(t=n?t:[t]).length>o.maxRequest?c.reject(new Error("Exceeded max limit of concurrent call")).thenCall(e):c.all(u.map(t,function(t){var e=r||t.attributes&&t.attributes.type||t.type;if(!e)throw new Error("No SObject Type defined in record");delete(t=u.clone(t)).Id,delete t.type,delete t.attributes;var n=[o._baseUrl(),"sobjects",e].join("/");return o.request({method:"POST",url:n,body:JSON.stringify(t),headers:u.defaults(i.headers||{},{"Content-Type":"application/json"})})})).then(function(t){return!n&&u.isArray(t)?t[0]:t}).thenCall(e)},a.prototype.update=function(i,t,o,e){u.isString(i)||(e=o,o=t,t=i,i=null),"function"==typeof o&&(e=o,o={}),o=o||{};var s=this,n=u.isArray(t);return(t=n?t:[t]).length>s.maxRequest?c.reject(new Error("Exceeded max limit of concurrent call")).thenCall(e):c.all(u.map(t,function(t){var e=t.Id;if(!e)throw new Error("Record id is not found in record.");var n=i||t.attributes&&t.attributes.type||t.type;if(!n)throw new Error("No SObject Type defined in record");delete(t=u.clone(t)).Id,delete t.type,delete t.attributes;var r=[s._baseUrl(),"sobjects",n,e].join("/");return s.request({method:"PATCH",url:r,body:JSON.stringify(t),headers:u.defaults(o.headers||{},{"Content-Type":"application/json"})},{noContentResponse:{id:e,success:!0,errors:[]}})})).then(function(t){return!n&&u.isArray(t)?t[0]:t}).thenCall(e)},a.prototype.upsert=function(i,t,o,s,e){u.isString(i)||(e=s,s=o,o=t,t=i,i=null),"function"==typeof s&&(e=s,s={}),s=s||{};var a=this,n=u.isArray(t);return(t=n?t:[t]).length>a.maxRequest?c.reject(new Error("Exceeded max limit of concurrent call")).thenCall(e):c.all(u.map(t,function(t){var e=i||t.attributes&&t.attributes.type||t.type,n=t[o];if(!n)return c.reject(new Error("External ID is not defined in the record"));delete(t=u.clone(t))[o],delete t.type,delete t.attributes;var r=[a._baseUrl(),"sobjects",e,o,n].join("/");return a.request({method:"PATCH",url:r,body:JSON.stringify(t),headers:u.defaults(s.headers||{},{"Content-Type":"application/json"})},{noContentResponse:{success:!0,errors:[]}})})).then(function(t){return!n&&u.isArray(t)?t[0]:t}).thenCall(e)},a.prototype.delete=a.prototype.del=a.prototype.destroy=function(n,t,r,e){"function"==typeof r&&(e=r,r={}),r=r||{};var i=this,o=u.isArray(t);return(t=o?t:[t]).length>i.maxRequest?c.reject(new Error("Exceeded max limit of concurrent call")).thenCall(e):c.all(u.map(t,function(t){var e=[i._baseUrl(),"sobjects",n,t].join("/");return i.request({method:"DELETE",url:e,headers:r.headers||null},{noContentResponse:{id:t,success:!0,errors:[]}})})).then(function(t){return!o&&u.isArray(t)?t[0]:t}).thenCall(e)},a.prototype.search=function(t,e){var n=this._baseUrl()+"/search?q="+encodeURIComponent(t);return this.request(n).thenCall(e)},a.prototype.describe=a.prototype.describeSObject=function(t,e){var n=[this._baseUrl(),"sobjects",t,"describe"].join("/");return this.request(n).thenCall(e)},a.prototype.describeGlobal=function(t){var e=this._baseUrl()+"/sobjects";return this.request(e).thenCall(t)},a.prototype.sobject=function(t){return this.sobjects=this.sobjects||{},this.sobjects[t]=this.sobjects[t]||new n(this,t)},a.prototype.identity=function(t){var n=this,e=this.userInfo&&this.userInfo.url;return c.resolve(e?{identity:e}:this.request(this._baseUrl())).then(function(t){var e=t.identity;return e+="?format=json&oauth_token="+encodeURIComponent(n.accessToken),n.request(e,null,{jsonp:"callback"})}).then(function(t){return n.userInfo={id:t.user_id,organizationId:t.organization_id,url:t.id},t}).thenCall(t)},a.prototype.authorize=function(t,e){var n=this,r=this._logger;return this.oauth2.requestToken(t).then(function(t){r.debug("OAuth2 token response = "+JSON.stringify(t));var e=f(t.id);return n.initialize({instanceUrl:t.instance_url,accessToken:t.access_token,refreshToken:t.refresh_token,userInfo:e}),r.debug("<login> completed. user id = "+e.id+", org id = "+e.organizationId),e}).thenCall(e)},a.prototype.login=function(t,e,n){var r,i;return this._refreshDelegate=new g.SessionRefreshDelegate(this,(r=t,i=e,function(e,n){e.login(r,i,function(t){if(t)return n(t);n(null,e.accessToken)})})),this.oauth2&&this.oauth2.clientId&&this.oauth2.clientSecret?this.loginByOAuth2(t,e,n):this.loginBySoap(t,e,n)},a.prototype.loginByOAuth2=function(t,e,n){var r=this,i=this._logger;return this.oauth2.authenticate(t,e).then(function(t){i.debug("OAuth2 token response = "+JSON.stringify(t));var e=f(t.id);return r.initialize({instanceUrl:t.instance_url,accessToken:t.access_token,userInfo:e}),i.debug("<login> completed. user id = "+e.id+", org id = "+e.organizationId),e}).thenCall(n)},a.prototype.loginBySoap=function(t,e,n){var c=this,l=this._logger,r=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header/>","<se:Body>",'<login xmlns="urn:partner.soap.sforce.com">',"<username>"+h(t)+"</username>","<password>"+h(e)+"</password>","</login>","</se:Body>","</se:Envelope>"].join(""),f=[this.loginUrl,"services/Soap/u",this.version].join("/");return this._transport.httpRequest({method:"POST",url:f,body:r,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then(function(t){var e;if(400<=t.statusCode){var n=(e=t.body.match(/<faultstring>([^<]+)<\/faultstring>/))&&e[1];throw new Error(n||t.body)}l.debug("SOAP response = "+t.body);var r=(e=t.body.match(/<serverUrl>([^<]+)<\/serverUrl>/))&&e[1],i=(e=t.body.match(/<sessionId>([^<]+)<\/sessionId>/))&&e[1],o=(e=t.body.match(/<userId>([^<]+)<\/userId>/))&&e[1],s=(e=t.body.match(/<organizationId>([^<]+)<\/organizationId>/))&&e[1],a=f.split("/").slice(0,3).join("/"),u={id:o,organizationId:s,url:a+="/id/"+s+"/"+o};return c.initialize({serverUrl:r.split("/").slice(0,3).join("/"),sessionId:i,userInfo:u}),l.debug("<login> completed. user id = "+o+", org id = "+s),u}).thenCall(n)},a.prototype.logout=function(t){return"oauth2"===this._sessionType?this.logoutByOAuth2(t):this.logoutBySoap(t)},a.prototype.logoutByOAuth2=function(t){var e=this;this._logger;return this.oauth2.revokeToken(this.accessToken).then(function(){e.accessToken=null,e.userInfo=null,e.refreshToken=null,e.instanceUrl=null,e.cache.clear()}).thenCall(t)},a.prototype.logoutBySoap=function(t){var r=this,i=this._logger,e=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header>",'<SessionHeader xmlns="urn:partner.soap.sforce.com">',"<sessionId>"+h(this.accessToken)+"</sessionId>","</SessionHeader>","</se:Header>","<se:Body>",'<logout xmlns="urn:partner.soap.sforce.com"/>',"</se:Body>","</se:Envelope>"].join("");return this._transport.httpRequest({method:"POST",url:[this.instanceUrl,"services/Soap/u",this.version].join("/"),body:e,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then(function(t){if(i.debug("SOAP statusCode = "+t.statusCode+", response = "+t.body),400<=t.statusCode){var e=t.body.match(/<faultstring>([^<]+)<\/faultstring>/),n=e&&e[1];throw new Error(n||t.body)}r.accessToken=null,r.userInfo=null,r.refreshToken=null,r.instanceUrl=null,r.cache.clear()}).thenCall(t)},a.prototype.recent=function(t,e,n){var r;return u.isString(t)||(n=e,e=t,t=void 0),u.isNumber(e)||(n=e,e=void 0),t?(r=[this._baseUrl(),"sobjects",t].join("/"),this.request(r).then(function(t){return e?t.recentItems.slice(0,e):t.recentItems}).thenCall(n)):(r=this._baseUrl()+"/recent",e&&(r+="?limit="+e),this.request(r).thenCall(n))},a.prototype.updated=function(t,e,n,r){var i=[this._baseUrl(),"sobjects",t,"updated"].join("/");return"string"==typeof e&&(e=new Date(e)),e instanceof Date&&(e=l(e)),e&&(i+="?start="+encodeURIComponent(e)),"string"==typeof n&&(n=new Date(n)),n instanceof Date&&(n=l(n)),n&&(i+="&end="+encodeURIComponent(n)),this.request(i).thenCall(r)},a.prototype.deleted=function(t,e,n,r){var i=[this._baseUrl(),"sobjects",t,"deleted"].join("/");return"string"==typeof e&&(e=new Date(e)),e instanceof Date&&(e=l(e)),e&&(i+="?start="+encodeURIComponent(e)),"string"==typeof n&&(n=new Date(n)),n instanceof Date&&(n=l(n)),n&&(i+="&end="+encodeURIComponent(n)),this.request(i).thenCall(r)},a.prototype.tabs=function(t){var e=[this._baseUrl(),"tabs"].join("/");return this.request(e).thenCall(t)},a.prototype.limits=function(t){var e=[this._baseUrl(),"limits"].join("/");return this.request(e).thenCall(t)},a.prototype.theme=function(t){var e=[this._baseUrl(),"theme"].join("/");return this.request(e).thenCall(t)},a.prototype.quickActions=function(t){return this.request("/quickActions").thenCall(t)},a.prototype.quickAction=function(t){return new o(this,"/quickActions/"+t)}}).call(this,w("buffer").Buffer)},{"./api/analytics":1,"./api/apex":2,"./api/bulk":3,"./api/chatter":4,"./api/metadata":5,"./api/soap":6,"./api/streaming":7,"./api/tooling":8,"./cache":14,"./http-api":19,"./logger":21,"./oauth2":22,"./process":23,"./promise":24,"./query":25,"./quick-action":26,"./sobject":32,"./transport":34,buffer:38,events:42,inherits:53,underscore:82}],16:[function(e,t,n){t.exports=function(t){return e(t)},e("events"),e("inherits"),e("underscore"),e("./promise"),e("./logger"),e("./oauth2"),e("./query"),e("./sobject"),e("./quick-action"),e("./http-api"),e("./transport"),e("./cache"),e("./process"),e("./date"),e("xml2js"),e("./csv"),e("../package.json"),e("./connection"),e("./record-stream"),e("./registry/file-registry"),e("querystring"),e("promise/lib/es6-extensions"),e("readable-stream"),e("./soql-builder"),e("through2"),e("./record"),e("request"),e("./browser/canvas"),e("./browser/jsonp")},{"../package.json":35,"./browser/canvas":9,"./browser/jsonp":12,"./cache":14,"./connection":15,"./csv":17,"./date":18,"./http-api":19,"./logger":21,"./oauth2":22,"./process":23,"./promise":24,"./query":25,"./quick-action":26,"./record":28,"./record-stream":27,"./registry/file-registry":29,"./sobject":32,"./soql-builder":33,"./transport":34,events:42,inherits:53,"promise/lib/es6-extensions":55,querystring:47,"readable-stream":69,request:13,through2:81,underscore:82,xml2js:85}],17:[function(t,e,n){"use strict";var a=t("underscore");t("./date");function i(t,e){e=e||{};var r={};return a.forEach(t,function(t){for(var e in t){var n=t[e];!t.hasOwnProperty(e)||null!==n&&"object"==typeof n||(r[e]=!0)}}),a.keys(r)}function o(n,t,r){r=r||{};var i=[];return a.forEach(t,function(t){var e=n[t];null===e&&void 0!==r.nullValue&&(e=r.nullValue),void 0===e&&(e=null),i.push(e)}),s(i)}function s(t){return a.map(t,r).join(",")}function r(t){return null==t&&(t=""),(0<=(t=String(t)).indexOf('"')||0<=t.indexOf(",")||/[\n\r]/.test(t))&&(t='"'+t.replace(/"/g,'""')+'"'),t}var u=function(t){this.text=t,this.cursor=0};u.prototype={nextToken:function(){var t,e=!1,n=this.text.charAt(this.cursor);if(""===n||"\r"===n||"\n"===n)return null;if('"'===n&&(e=!0),e){for(var r=this.cursor;r++,!((r=this.text.indexOf('"',r))<0||'"'!==this.text.charAt(r+1));)r++;if(0<=r){var i=this.text.charAt(r+1);t=this.text.substring(this.cursor,r+1),this.cursor=r+(","===i?2:1)}else t=this.text.substring(this.cursor),this.cursor=this.text.length;return t.replace(/""/g,'"').replace(/^"/,"").replace(/"$/,"")}var o=this.text.indexOf(",",this.cursor),s=this.text.indexOf("\r",this.cursor),a=this.text.indexOf("\n",this.cursor);o=o<0?this.text.length+1:o,s=s<0?this.text.length+1:s,a=a<0?this.text.length+1:a;var u=Math.min(o,s,a,this.text.length);return t=this.text.substring(this.cursor,u),o===(this.cursor=u)&&this.cursor++,t},nextLine:function(){for(var t=this.text.charAt(this.cursor);"\r"===t||"\n"===t;t=this.text.charAt(++this.cursor));return this.cursor!==this.text.length}},e.exports={toCSV:function(t,e,n){n=n||{},e||(e=i(t,n));var r=a.map(t,function(t){return o(t,e,n)});return s(e)+"\n"+r.join("\n")},extractHeaders:i,recordToCSV:o,arrayToCSV:s,parseCSV:function(t){var e,n=new u(t),r=[];if(n.nextLine())for(e=n.nextToken();!a.isUndefined(e)&&!a.isNull(e);)r.push(e),e=n.nextToken();for(var i=[];n.nextLine();){var o={};e=n.nextToken();for(var s=0;!a.isUndefined(e)&&!a.isNull(e);)o[r[s++]]=e,e=n.nextToken();i.push(o)}return i}}},{"./date":18,underscore:82}],18:[function(t,e,n){"use strict";var u=t("underscore")._,c=e.exports=function(t){this._literal=t};function l(t){return(t<10?"0":"")+t}c.prototype.toString=c.prototype.toJSON=function(){return this._literal},c.toDateLiteral=function(t){u.isNumber(t)?t=new Date(t):u.isString(t)&&(t=c.parseDate(t));var e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),i=[e,l(n),l(r)].join("-");return new c(i)},c.toDateTimeLiteral=function(t){u.isNumber(t)?t=new Date(t):u.isString(t)&&(t=c.parseDate(t));var e=t.getUTCFullYear(),n=t.getUTCMonth()+1,r=t.getUTCDate(),i=t.getUTCHours(),o=t.getUTCMinutes(),s=t.getUTCSeconds(),a=[e,l(n),l(r)].join("-")+"T"+[l(i),l(o),l(s)].join(":")+"Z";return new c(a)},c.parseDate=function(t){var e=new Date,n=t.match(/^([\d]{4})-?([\d]{2})-?([\d]{2})(T([\d]{2}):?([\d]{2}):?([\d]{2})(.([\d]{3}))?(Z|([\+\-])([\d]{2}):?([\d]{2})))?$/);if(n){if(e=new Date(0),n[4]){if(e.setUTCFullYear(parseInt(n[1],10)),e.setUTCDate(parseInt(n[3],10)),e.setUTCMonth(parseInt(n[2],10)-1),e.setUTCHours(parseInt(n[5],10)),e.setUTCMinutes(parseInt(n[6],10)),e.setUTCSeconds(parseInt(n[7],10)),e.setUTCMilliseconds(parseInt(n[9]||"0",10)),n[10]&&"Z"!==n[10]){var r=60*parseInt(n[12],10)+parseInt(n[13],10);e.setTime(("+"===n[11]?-1:1)*r*60*1e3+e.getTime())}}else e.setFullYear(parseInt(n[1],10)),e.setDate(parseInt(n[3],10)),e.setMonth(parseInt(n[2],10)-1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0);return e}throw new Error("Invalid date format is specified : "+t)};var r={YESTERDAY:1,TODAY:1,TOMORROW:1,LAST_WEEK:1,THIS_WEEK:1,NEXT_WEEK:1,LAST_MONTH:1,THIS_MONTH:1,NEXT_MONTH:1,LAST_90_DAYS:1,NEXT_90_DAYS:1,LAST_N_DAYS:2,NEXT_N_DAYS:2,NEXT_N_WEEKS:2,LAST_N_WEEKS:2,NEXT_N_MONTHS:2,LAST_N_MONTHS:2,THIS_QUARTER:1,LAST_QUARTER:1,NEXT_QUARTER:1,NEXT_N_QUARTERS:2,LAST_N_QUARTERS:2,THIS_YEAR:1,LAST_YEAR:1,NEXT_YEAR:1,NEXT_N_YEARS:2,LAST_N_YEARS:2,THIS_FISCAL_QUARTER:1,LAST_FISCAL_QUARTER:1,NEXT_FISCAL_QUARTER:1,NEXT_N_FISCAL_QUARTERS:2,LAST_N_FISCAL_QUARTERS:2,THIS_FISCAL_YEAR:1,LAST_FISCAL_YEAR:1,NEXT_FISCAL_YEAR:1,NEXT_N_FISCAL_YEARS:2,LAST_N_FISCAL_YEARS:2};for(var i in r){var o=r[i];c[i]=1===o?new c(i):s(i)}function s(e){return function(t){return new c(e+":"+t)}}},{underscore:82}],19:[function(e,t,n){"use strict";var r=e("inherits"),i=e("events"),o=e("underscore"),l=e("./promise"),s=function(e,t){t=t||{},this._conn=e,this.on("resume",function(t){e.emit("resume",t)}),this._responseType=t.responseType,this._transport=t.transport||e._transport,this._noContentResponse=t.noContentResponse};function a(t){return JSON.parse(t)}function u(t){var n={};if(e("xml2js").parseString(t,{explicitArray:!1},function(t,e){n={error:t,result:e}}),n.error)throw n.error;return n.result}function c(t){return e("./csv").parseCSV(t)}function f(t){return t}r(s,i.EventEmitter),s.prototype.request=function(n,t){var r=this,e=this._conn,i=e._logger,o=this.getRefreshDelegate(),s=e.instanceUrl,a=l.defer(),u=function(t){t?a.reject(t):(s!==e.instanceUrl&&(n.url=n.url.replace(s,e.instanceUrl)),r.request(n).then(function(t){a.resolve(t)},function(t){a.reject(t)}))};if(o&&o._refreshing)return o.once("resume",u),a.promise.thenCall(t);r.beforeSend(n),r.emit("request",n),i.debug("<request> method="+n.method+", url="+n.url);var c=Date.now();return this._transport.httpRequest(n).then(function(t){var e=Date.now();if(i.debug("elappsed time : "+(e-c)+"msec"),i.debug("<response> status="+t.statusCode+", url="+n.url),r.emit("response",t),r.isSessionExpired(t)&&o)return o.refresh(c,u),a.promise;if(r.isErrorResponse(t))throw r.getError(t);return r.getResponseBody(t)},function(t){var e=Date.now();throw i.debug("elappsed time : "+(e-c)+"msec"),i.error(t),t}).thenCall(t)},s.prototype.getRefreshDelegate=function(){return this._conn._refreshDelegate},s.prototype.beforeSend=function(t){if(t.headers=t.headers||{},this._conn.accessToken&&(t.headers.Authorization="Bearer "+this._conn.accessToken),this._conn.callOptions){var e=[];for(var n in this._conn.callOptions)e.push(n+"="+this._conn.callOptions[n]);t.headers["Sforce-Call-Options"]=e.join(", ")}},s.prototype.getResponseContentType=function(t){return this._responseType||t.headers&&t.headers["content-type"]},s.prototype.parseResponseBody=function(e){var t=this.getResponseContentType(e),n=/^(text|application)\/xml(;|$)/.test(t)?u:/^application\/json(;|$)/.test(t)?a:/^text\/csv(;|$)/.test(t)?c:f;try{return n(e.body)}catch(t){return e.body}},s.prototype.getResponseBody=function(t){if(204===t.statusCode)return this._noContentResponse;var e,n=this.parseResponseBody(t);if(this.hasErrorInResponseBody(n))throw e=this.getError(t,n);if(300===t.statusCode)throw(e=new Error("Multiple records found")).name="MULTIPLE_CHOICES",e.content=n,e;return n},s.prototype.isSessionExpired=function(t){return 401===t.statusCode},s.prototype.isErrorResponse=function(t){return 400<=t.statusCode},s.prototype.hasErrorInResponseBody=function(t){return!1},s.prototype.parseError=function(t){var e=t;return o.isArray(e)?e[0]:e},s.prototype.getError=function(t,e){var n;try{n=this.parseError(e||this.parseResponseBody(t))}catch(t){}n=o.isObject(n)&&o.isString(n.message)?n:{errorCode:"ERROR_HTTP_"+t.statusCode,message:t.body};var r=new Error(n.message);for(var i in r.name=n.errorCode,n)r[i]=n[i];return r};var h=function(t,e){this._conn=t,this._refreshFn=e,this._refreshing=!1};r(h,i.EventEmitter),h.prototype.refresh=function(t,e){if(this._lastRefreshedAt>t)return e();var r=this,i=this._conn,o=i._logger;return r.once("resume",e),r._refreshing?void 0:(o.debug("<refresh token>"),r._refreshing=!0,r._refreshFn(i,function(t,e,n){t||(o.debug("Connection refresh completed. Refreshed access token = "+e),i.accessToken=e,i.emit("refresh",e,n)),r._lastRefreshedAt=Date.now(),r._refreshing=!1,r.emit("resume",t)}))},s.SessionRefreshDelegate=h,t.exports=s},{"./csv":17,"./promise":24,events:42,inherits:53,underscore:82,xml2js:85}],20:[function(t,e,n){var r=t("../package.json");n.VERSION=r.version,n.Connection=t("./connection"),n.OAuth2=t("./oauth2"),n.Date=n.SfDate=t("./date"),n.RecordStream=t("./record-stream"),n.Promise=t("./promise");var i=t("./registry/file-registry");n.registry=new i},{"../package.json":35,"./connection":15,"./date":18,"./oauth2":22,"./promise":24,"./record-stream":27,"./registry/file-registry":29}],21:[function(t,e,n){"use strict";var r=e.exports=function(t){"string"==typeof t&&(t=i[t]),t||(t=i.INFO),this._logLevel=t},i=r.LogLevels={DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5};for(var o in r.prototype.log=function(t,e){this._logLevel<=t&&(t<i.ERROR?console.log(e):console.error(e))},i)r.prototype[o.toLowerCase()]=s(i[o]);function s(e){return function(t){this.log(e,t)}}},{}],22:[function(t,e,n){var r=t("querystring"),i=t("underscore"),o=t("./transport"),s="https://login.salesforce.com",a=e.exports=function(t){t.authzServiceUrl&&t.tokenServiceUrl?(this.loginUrl=t.authzServiceUrl.split("/").slice(0,3).join("/"),this.authzServiceUrl=t.authzServiceUrl,this.tokenServiceUrl=t.tokenServiceUrl,this.revokeServiceUrl=t.revokeServiceUrl):(this.loginUrl=t.loginUrl||s,this.authzServiceUrl=this.loginUrl+"/services/oauth2/authorize",this.tokenServiceUrl=this.loginUrl+"/services/oauth2/token",this.revokeServiceUrl=this.loginUrl+"/services/oauth2/revoke"),this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.redirectUri=t.redirectUri,this._transport=t.proxyUrl?new o.ProxyTransport(t.proxyUrl):new o};i.extend(a.prototype,{getAuthorizationUrl:function(t){return t=i.extend({response_type:"code",client_id:this.clientId,redirect_uri:this.redirectUri},t||{}),this.authzServiceUrl+(0<=this.authzServiceUrl.indexOf("?")?"&":"?")+r.stringify(t)},refreshToken:function(t,e){return this._postParams({grant_type:"refresh_token",refresh_token:t,client_id:this.clientId,client_secret:this.clientSecret},e)},requestToken:function(t,e){return this._postParams({grant_type:"authorization_code",code:t,client_id:this.clientId,client_secret:this.clientSecret,redirect_uri:this.redirectUri},e)},authenticate:function(t,e,n){return this._postParams({grant_type:"password",username:t,password:e,client_id:this.clientId,client_secret:this.clientSecret,redirect_uri:this.redirectUri},n)},revokeToken:function(t,e){return this._transport.httpRequest({method:"POST",url:this.revokeServiceUrl,body:r.stringify({token:t}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then(function(t){if(400<=t.statusCode){var e=r.parse(t.body);e&&e.error||(e={error:"ERROR_HTTP_"+t.statusCode,error_description:t.body});var n=new Error(e.error_description);throw n.name=e.error,n}}).thenCall(e)},_postParams:function(t,e){return this._transport.httpRequest({method:"POST",url:this.tokenServiceUrl,body:r.stringify(t),headers:{"content-type":"application/x-www-form-urlencoded"}}).then(function(t){var e;try{e=JSON.parse(t.body)}catch(t){}if(400<=t.statusCode){e=e||{error:"ERROR_HTTP_"+t.statusCode,error_description:t.body};var n=new Error(e.error_description);throw n.name=e.error,n}return e}).thenCall(e)}})},{"./transport":34,querystring:47,underscore:82}],23:[function(t,e,n){var s=t("underscore"),r=(t("./promise"),t("./connection"),e.exports=function(t){this.rule=new r(t),this.approval=new i(t)},function(t){this._conn=t});r.prototype.list=function(t){return this._conn.request("/process/rules").then(function(t){return t.rules}).thenCall(t)},r.prototype.trigger=function(t,e){return t=s.isArray(t)?t:[t],this._conn.request({method:"POST",url:"/process/rules/",body:JSON.stringify({contextIds:t}),headers:{"content-type":"application/json"}}).thenCall(e)};var i=function(t){this._conn=t};i.prototype.list=function(t){return this._conn.request("/process/approvals").then(function(t){return t.approvals}).thenCall(t)},i.prototype.request=function(t,e){return t=t.map(function(t){return t._request?t._request:t}),this._conn.request({method:"POST",url:"/process/approvals",headers:{"content-type":"application/json"},body:JSON.stringify({requests:t})}).thenCall(e)},i.prototype._createRequest=function(t,e,n,r,i){"function"==typeof n&&(i=n,n=r=null),"function"==typeof r&&(i=r,r=null),r=r||{};var o={actionType:t,contextId:e,comments:n};return s.extend(o,r),new a(this,o).thenCall(i)},i.prototype.submit=function(t,e,n,r){return this._createRequest("Submit",t,e,n,r)},i.prototype.approve=function(t,e,n,r){return this._createRequest("Approve",t,e,n,r)},i.prototype.reject=function(t,e,n,r){return this._createRequest("Reject",t,e,n,r)};var a=function(t,e){this._process=t,this._request=e};a.prototype.then=function(t,e){this._promise||(this._promise=this._process.request([this]).then(function(t){return t[0]})),this._promise.then(t,e)},a.prototype.thenCall=function(e){return e?this.then(function(t){e(null,t)},function(t){e(t)}):this}},{"./connection":15,"./promise":24,underscore:82}],24:[function(i,o,t){(function(n){var t=i("underscore"),e=i("promise/lib/es6-extensions");e.prototype.thenCall=function(e){return t.isFunction(e)&&this.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})}),this},e.prototype.fail=e.prototype.catch,e.defer=function(){return new r};var r=function(){var n=this;this.promise=new e(function(t,e){n.resolve=t,n.reject=e})};o.exports=e}).call(this,i("_process"))},{_process:44,"promise/lib/es6-extensions":55,underscore:82}],25:[function(o,s,t){(function(n){var t=o("inherits"),e=(o("events"),o("readable-stream")),c=o("underscore"),l=o("./promise"),r=(o("./date"),o("./soql-builder")),a=o("./record-stream"),i=s.exports=function(t,e,n){i.super_.call(this,{objectMode:!0}),this._conn=t,e&&(c.isString(e)?this._soql=e:(this._config=e,this.select(e.fields),e.includes&&this.include(e.includes))),n&&0<=n.indexOf("/")&&(n=n.split("/").pop()),this._locator=n,this._executed=!1,this._finished=!1,this._chaining=!1,this._deferred=l.defer()};t(i,e.Readable),i.prototype.select=function(t){if(this._soql)throw Error("Cannot set select fields for the query which has already built SOQL.");if(t=t||"*",c.isString(t))t=t.split(/\s*,\s*/);else if(c.isObject(t)&&!c.isArray(t)){var e=[];for(var n in t)t[n]&&e.push(n);t=e}return this._config.fields=t,this},i.prototype.where=function(t){if(this._soql)throw Error("Cannot set where conditions for the query which has already built SOQL.");return this._config.conditions=t,this},i.prototype.limit=function(t){if(this._soql)throw Error("Cannot set limit for the query which has already built SOQL.");return this._config.limit=t,this},i.prototype.skip=i.prototype.offset=function(t){if(this._soql)throw Error("Cannot set skip/offset for the query which has already built SOQL.");return this._config.offset=t,this},i.prototype.sort=i.prototype.orderby=function(t,e){if(this._soql)throw Error("Cannot set sort for the query which has already built SOQL.");return c.isString(t)&&c.isString(e)&&(t=[[t,e]]),this._config.sort=t,this},i.prototype.include=function(t,e,n,r){if(this._soql)throw Error("Cannot include child relationship into the query which has already built SOQL.");if(!c.isObject(t)){var i={table:t,conditions:e,fields:n,limit:r&&r.limit,offset:r&&(r.offset||r.skip)};this._config.includes=this._config.includes||[],this._config.includes.push(i);var o=new h(this._conn,this,i);return this._children=this._children||[],this._children.push(o),o}var s=t;for(var a in s){var u=s[a];this.include(a,u.conditions,u.fields,u)}},i.prototype._maxFetch=1e4,i.prototype.maxFetch=function(t){return this._maxFetch=t,this},i.prototype._autoFetch=!1,i.prototype.autoFetch=function(t){return this._autoFetch=t,this},i.prototype._scanAll=!1,i.prototype.scanAll=function(t){return this._scanAll=t,this};var f=i.ResponseTargets={};["QueryResult","Records","SingleRecord","Count"].forEach(function(t){f[t]=t}),i.prototype._responseTarget=f.QueryResult,i.prototype.setResponseTarget=function(t){return t in f&&(this._responseTarget=t),this},i.prototype.run=i.prototype.exec=i.prototype.execute=function(n,r){var i=this,o=this._conn._logger,s=this._deferred;if(this._executed)return s.reject(new Error("re-executing already executed query")),this;if(this._finished)return s.reject(new Error("executing already closed query")),this;"function"==typeof n&&(r=n,n={}),n={responseTarget:(n=n||{}).responseTarget||i._responseTarget,autoFetch:n.autoFetch||i._autoFetch,maxFetch:n.maxFetch||i._maxFetch,scanAll:n.scanAll||i._scanAll};var e=function(e,t){if(c.isFunction(r))try{t=r(e,t),e=null}catch(t){e=t}e?s.reject(e):s.resolve(t)};return this.once("response",function(t){e(null,t)}),this.once("error",function(t){e(t)}),this.once("fetch",function(){if(n.responseTarget===f.Records&&(i._chaining||r)){o.debug("--- collecting all fetched records ---");var e=[],t=function(t){e.push(t)};i.on("record",t),i.once("end",function(){i.removeListener("record",t),i.emit("response",e,i)})}}),this._executed=!0,o.debug(">>> Query start >>>"),this._execute(n).then(function(){o.debug("*** Query finished ***")}).fail(function(t){o.debug("--- Query error ---"),i.emit("error",t)}),this},i.prototype._execute=function(o){var s=this,e=this._conn._logger,a=o.responseTarget,u=o.autoFetch,c=o.maxFetch,n=o.scanAll;return l.resolve(s._locator?s._conn._baseUrl()+"/query/"+s._locator:s.toSOQL().then(function(t){return s.totalFetched=0,e.debug("SOQL = "+t),s._conn._baseUrl()+"/"+(n?"queryAll":"query")+"?q="+encodeURIComponent(t)})).then(function(t){return s._conn.request(t)}).then(function(t){var e;switch(s.emit("fetch"),s.totalSize=t.totalSize,a){case f.SingleRecord:e=t.records&&0<t.records.length?t.records[0]:null;break;case f.Records:e=t.records;break;case f.Count:e=t.totalSize;break;default:e=t}a!==f.Records&&s.emit("response",e,s);for(var n=0,r=t.records.length;n<r;n++){if(s.totalFetched>=c){s._finished=!0;break}var i=t.records[n];s.push(i),s.emit("record",i,s.totalFetched++,s)}return t.nextRecordsUrl&&(s._locator=t.nextRecordsUrl.split("/").pop()),s._finished=s._finished||t.done||!u,s._finished?s.push(null):s._execute(o),e})},i.prototype._read=function(t){this._finished||this._executed||this.execute({autoFetch:!0})},i.prototype.on=function(t,e){if("record"===t){var n=this;this.on("readable",function(){for(;null!==n.read(););})}return i.super_.prototype.on.call(this,t,e)},i.prototype.addListener=i.prototype.on,i.prototype._expandFields=function(){if(this._soql)return l.reject(new Error("Cannot expand fields for the query which has already built SOQL."));var r,t,n=this,a=n._conn._logger,e=this._conn,i=this._config.table,o=this._config.fields||[];return a.debug("_expandFields: table = "+i+", fields = "+o.join(", ")),l.all([l.resolve(n._parent?(r=i,t=n._parent._config.table,a.debug('finding table for relation "'+r+'" in "'+t+'"...'),u(t).then(function(t){var e=r.toUpperCase(),n=c.find(t.childRelationships,function(t){return(t.relationshipName||"").toUpperCase()===e});return n?n.childSObject:l.reject(new Error("No child relationship found: "+r))})):i).then(function(e){return l.all(c.map(o,function(t){return function i(o,t){a.debug('expanding field "'+t+'" in "'+o+'"...');var s=t.split(".");return"*"===s[s.length-1]?u(o).then(function(t){if(a.debug("table "+o+"has been described"),1<s.length){var e=s.shift(),n=c.find(t.fields,function(t){return t.relationshipName&&t.relationshipName.toUpperCase()===e.toUpperCase()});if(n){var r=1===n.referenceTo.length?n.referenceTo[0]:"Name";return i(r,s.join(".")).then(function(t){return c.map(t,function(t){return e+"."+t})})}return[]}return c.map(t.fields,function(t){return t.name})}):l.resolve([t])}(e,t)})).then(function(t){n._config.fields=c.flatten(t)})}),l.all(c.map(n._children||[],function(t){return t._expandFields()}))]);function u(t){a.debug("describe cache: "+t);var n=l.defer();return e.describe$(t,function(t,e){a.debug("... done."),t?n.reject(t):n.resolve(e)}),n.promise}},i.prototype.explain=function(t){var n=this,r=this._conn._logger;return n.toSOQL().then(function(t){r.debug("SOQL = "+t);var e="/query/?explain="+encodeURIComponent(t);return n._conn.request(e)}).thenCall(t)},i.prototype.toSOQL=function(t){var e=this;return l.resolve(e._soql||e._expandFields().then(function(){return r.createSOQL(e._config)})).thenCall(t)},i.prototype.stream=a.Serializable.prototype.stream,i.prototype.map=a.prototype.map,i.prototype.filter=a.prototype.map,i.prototype.delete=i.prototype.del=i.prototype.destroy=function(t,e){if("function"==typeof t&&(e=t,t=null),!(t=t||this._config&&this._config.table))throw new Error("SOQL based query needs SObject type information to bulk delete.");var n=this._conn.sobject(t).deleteBulk(),r=l.defer(),i=function(t){"ClientInputError"===t.name?r.resolve([]):r.reject(t)};return this.on("error",i).pipe(n).on("response",function(t){r.resolve(t)}).on("error",i),r.promise.thenCall(e)},i.prototype.update=function(t,e,n){if("function"==typeof e&&(n=e,e=null),!(e=e||this._config&&this._config.table))throw new Error("SOQL based query needs SObject type information to bulk update.");var r=c.isFunction(t)?a.map(t):a.recordMapStream(t),i=this._conn.sobject(e).updateBulk(),o=l.defer(),s=function(t){"ClientInputError"===t.name?o.resolve([]):o.reject(t)};return this.on("error",s).pipe(r).on("error",s).pipe(i).on("response",function(t){o.resolve(t)}).on("error",s),o.promise.thenCall(n)},i.prototype.then=function(t,e){return this._chaining=!0,this._finished||this._executed||this.execute(),this._deferred.promise.then.apply(this._deferred.promise,arguments)},i.prototype.thenCall=function(e){return c.isFunction(e)&&this.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})}),this};var h=function(t,e,n){h.super_.call(this,t,n),this._parent=e};t(h,i),h.prototype.include=function(){throw new Error("Not allowed to include another subquery in subquery.")},h.prototype.end=function(){return this._parent},h.prototype.run=h.prototype.exec=h.prototype.execute=function(){return this._parent.execute.apply(this._parent,arguments)}}).call(this,o("_process"))},{"./date":18,"./promise":24,"./record-stream":27,"./soql-builder":33,_process:44,events:42,inherits:53,"readable-stream":69,underscore:82}],26:[function(t,e,n){var r=e.exports=function(t,e){this._conn=t,this._path=e};r.prototype.describe=function(t){var e=this._path+"/describe";return this._conn.request(e).thenCall(t)},r.prototype.defaultValues=function(t,e){"function"==typeof t&&(e=t,t=null);var n=this._path+"/defaultValues";return t&&(n+="/"+t),this._conn.request(n).thenCall(e)},r.prototype.execute=function(t,e,n){var r={contextId:t,record:e};return this._conn.requestPost(this._path,r).thenCall(n)}},{}],27:[function(t,e,n){t("events");var r=t("readable-stream"),i=(r.Duplex,r.Transform),o=r.PassThrough,s=t("through2"),a=t("inherits"),u=t("underscore"),c=t("./csv"),l=e.exports=function(){l.super_.call(this,{objectMode:!0})};a(l,i),l.prototype._transform=function(t,e,n){this.emit("record",t),this.push(t),n()},l.prototype.map=function(t){return this.pipe(l.map(t))},l.prototype.filter=function(t){return this.pipe(l.filter(t))};var f=l.Serializable=function(){f.super_.call(this),this._dataStream=null};a(f,l),f.prototype.stream=function(t,e){var n=d[t=t||"csv"];if(!n)throw new Error("Converting ["+t+"] data stream is not supported.");return this._dataStream||(this._dataStream=new o,this.pipe(n.serialize(e)).pipe(this._dataStream)),this._dataStream};var h=l.Parsable=function(){h.super_.call(this),this._dataStream=null};a(h,l),h.prototype.stream=function(t,e){var n=d[t=t||"csv"];if(!n)throw new Error("Converting ["+t+"] data stream is not supported.");return this._dataStream||(this._dataStream=new o,this._parserStream=n.parse(e),this._parserStream.pipe(this).pipe(new o({objectMode:!0}))),this._dataStream},h.prototype.on=function(t,e){return"readable"!==t&&"record"!==t||this._dataStream.pipe(this._parserStream),h.super_.prototype.on.call(this,t,e)},h.prototype.addListener=h.prototype.on,l.map=function(i){var t=new l.Serializable;return t._transform=function(t,e,n){var r=i(t)||t;this.push(r),n()},t},l.recordMapStream=function(r,i){return l.map(function(t){var e={Id:t.Id};for(var n in r)e[n]=i?r[n]:o(r[n],t);return e});function o(t,r){if(u.isString(t)){var e=/^\$\{(\w+)\}$/.exec(t);return e?r[e[1]]:t.replace(/\$\{(\w+)\}/g,function(t,e){var n=r[e];return u.isNull(n)||u.isUndefined(n)?"":String(n)})}return t}},l.filter=function(r){var t=new l.Serializable;return t._transform=function(t,e,n){r(t)&&this.push(t),n()},t};var p={serialize:function(r){var i=!1,o=(r=r||{}).headers;return s({writableObjectMode:!0},function(t,e,n){i||(o||(o=c.extractHeaders([t])),this.push(c.arrayToCSV(o)+"\n","utf8"),i=!0),this.push(c.recordToCSV(t,o,{nullValue:r.nullValue})+"\n","utf8"),n()})},parse:function(){var i=[];return s({readableObjectMode:!0},function(t,e,n){i.push(t),n()},function(t){var e=i.map(function(t){return t.toString("utf8")}).join(""),n=c.parseCSV(e),r=this;n.forEach(function(t){r.push(t)}),this.push(null),t()})}},d=l.DataStreamConverters={csv:p}},{"./csv":17,events:42,inherits:53,"readable-stream":69,through2:81,underscore:82}],28:[function(t,e,n){var r=t("underscore")._,i=e.exports=function(t,e,n){this._conn=t,this.type=e,this.id=n};i.prototype.retrieve=function(t,e){return"function"==typeof t&&(e=t,t={}),this._conn.retrieve(this.type,this.id,t,e)},i.prototype.update=function(t,e,n){return"function"==typeof e&&(n=e,e={}),(t=r.clone(t)).Id=this.id,this._conn.update(this.type,t,e,n)},i.prototype.delete=i.prototype.del=i.prototype.destroy=function(t,e){return"function"==typeof t&&(e=t,t={}),this._conn.destroy(this.type,this.id,t,e)},i.prototype.blob=function(t){var e=[this._conn._baseUrl(),"sobjects",this.type,this.id,t].join("/");return this._conn.request(e).stream()}},{underscore:82}],29:[function(s,a,t){(function(t){var e=s("inherits"),r=s("fs"),i=s("path"),n=s("./registry"),o=function(t){o.super_.call(this),this._configFilePath=t||this._getDefaultConfigFilePath();try{var e=r.readFileSync(this._configFilePath,"utf-8");this._registryConfig=JSON.parse(e)}catch(t){}};e(o,n),o.prototype._getDefaultConfigFilePath=function(){return t.env["win32"===t.platform?"USERPROFILE":"HOME"]+"/.jsforce"+"/config.json"},o.prototype._saveConfig=function(){var e=JSON.stringify(this._registryConfig,null,4);try{r.writeFileSync(this._configFilePath,e),r.chmodSync(this._configFilePath,"600")}catch(t){var n=i.dirname(this._configFilePath);r.mkdirSync(n),r.chmodSync(n,"700"),r.writeFileSync(this._configFilePath,e),r.chmodSync(this._configFilePath,"600")}},a.exports=o}).call(this,s("_process"))},{"./registry":30,_process:44,fs:36,inherits:53,path:43}],30:[function(t,e,n){var i=t("underscore"),r=t("../connection"),o=function(t){this._registryConfig={}};o.prototype._saveConfig=function(){throw new Error("_saveConfig must be implemented in subclass")},o.prototype._getClients=function(){return this._registryConfig.clients||(this._registryConfig.clients={})},o.prototype._getConnections=function(){return this._registryConfig.connections||(this._registryConfig.connections={})},o.prototype.getConnectionNames=function(){return Object.keys(this._getConnections())},o.prototype.getConnection=function(t){return new r(this.getConnectionConfig(t))},o.prototype.getConnectionConfig=function(t){t||(t=this._registryConfig.default);var e=this._getConnections()[t];return e&&((e=i.clone(e)).client&&(e.oauth2=i.clone(this.getClient(e.client))),delete e.client),e},o.prototype.saveConnectionConfig=function(t,e){var n=this._getConnections();if((e=i.clone(e)).oauth2){var r=this._findClientName(e.oauth2);r&&(e.client=r),delete e.oauth2}n[t]=e,this._saveConfig()},o.prototype._findClientName=function(t){var e=this._getClients();for(var n in e){var r=e[n];if(r.clientId===t.clientId&&(r.loginUrl||"https://login.salesforce.com")===t.loginUrl)return n}return null},o.prototype.setDefaultConnection=function(t){this._registryConfig.default=t,this._saveConfig()},o.prototype.removeConnectionConfig=function(t){delete this._getConnections()[t],this._saveConfig()},o.prototype.getClient=function(t){var e=this._getClients()[t];return e&&i.clone(e)},o.prototype.getClientNames=function(){return Object.keys(this._getClients())},o.prototype.registerClient=function(t,e){this._getClients()[t]=e,this._saveConfig()},e.exports=o},{"../connection":15,underscore:82}],31:[function(t,e,n){var r=t("inherits"),s=t("underscore"),i=(t("xml2js"),t("./http-api")),o=e.exports=function(t,e){o.super_.apply(this,arguments),this._endpointUrl=e.endpointUrl,this._xmlns=e.xmlns||"urn:partner.soap.sforce.com"};function a(t,e){var n=e.shift();if(n){for(var r in t)if(n.test(r))return a(t[r],e);return null}return t}function u(e,t){if(s.isObject(e)&&(t=e,e=null),s.isArray(t))return s.map(t,function(t){return u(e,t)}).join("");var n=[],r=[];if(s.isObject(t)){for(var i in t){var o=t[i];"@"===i[0]?(i=i.substring(1),n.push(i+'="'+o+'"')):r.push(u(i,o))}t=r.join("")}else t=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");return(e?"<"+e+(0<n.length?" "+n.join(" "):"")+">":"")+t+(e?"</"+e+">":"")}r(o,i),o.prototype.invoke=function(t,e,n,r){"function"==typeof n&&(r=n,n=null);var i={};return i[t]=e,this.request({method:"POST",url:this._endpointUrl,headers:{"Content-Type":"text/xml",SOAPAction:'""'},message:i}).then(function(t){return n?function e(t,n){{if(s.isArray(t))return t.map(function(t){return e(t,n&&n[0])});if(s.isObject(t)){if(t.$&&"true"===t.$["xsi:nil"])return null;if(s.isArray(n))return[e(t,n[0])];var r={};for(var i in t)r[i]=e(t[i],n&&n[i]);return r}if(s.isArray(n))return[e(t,n[0])];if(s.isObject(n))return{};switch(n){case"string":return String(t);case"number":return Number(t);case"boolean":return"true"===t;default:return t}}}(t,n):t}).thenCall(r)},o.prototype.beforeSend=function(t){t.body=this._createEnvelope(t.message)},o.prototype.isSessionExpired=function(t){return 500===t.statusCode&&/<faultcode>[a-zA-Z]+:INVALID_SESSION_ID<\/faultcode>/.test(t.body)},o.prototype.parseError=function(t){var e=a(t,[/:Envelope$/,/:Body$/,/:Fault$/]);return{errorCode:e.faultcode,message:e.faultstring}},o.prototype.getResponseBody=function(t){return a(o.super_.prototype.getResponseBody.call(this,t),[/:Envelope$/,/:Body$/,/.+/])},o.prototype._createEnvelope=function(t){var e={},n=this._conn;return n.accessToken&&(e.SessionHeader={sessionId:this._conn.accessToken}),n.callOptions&&(e.CallOptions=n.callOptions),['<?xml version="1.0" encoding="UTF-8"?>','<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"',' xmlns:xsd="http://www.w3.org/2001/XMLSchema"',' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">','<soapenv:Header xmlns="'+this._xmlns+'">',u(e),"</soapenv:Header>",'<soapenv:Body xmlns="'+this._xmlns+'">',u(t),"</soapenv:Body>","</soapenv:Envelope>"].join("")}},{"./http-api":19,inherits:53,underscore:82,xml2js:85}],32:[function(t,e,n){var o=t("underscore"),r=t("./record"),s=t("./query"),i=(t("./cache"),t("./quick-action")),a=e.exports=function(t,e){this._conn=t,this.type=e;var n={key:"describe."+this.type};this.describe$=t.cache.makeCacheable(this.describe,this,n),this.describe=t.cache.makeResponseCacheable(this.describe,this,n),n={key:"layouts."+this.type},this.layouts$=t.cache.makeCacheable(this.layouts,this,n),this.layouts=t.cache.makeResponseCacheable(this.layouts,this,n),n={key:"compactLayouts."+this.type},this.compactLayouts$=t.cache.makeCacheable(this.compactLayouts,this,n),this.compactLayouts=t.cache.makeResponseCacheable(this.compactLayouts,this,n),n={key:"approvalLayouts."+this.type},this.approvalLayouts$=t.cache.makeCacheable(this.approvalLayouts,this,n),this.approvalLayouts=t.cache.makeResponseCacheable(this.approvalLayouts,this,n)};a.prototype.insert=a.prototype.create=function(t,e,n){return"function"==typeof e&&(n=e,e={}),this._conn.create(this.type,t,e,n)},a.prototype.retrieve=function(t,e,n){return"function"==typeof e&&(n=e,e={}),this._conn.retrieve(this.type,t,e,n)},a.prototype.update=function(t,e,n){return"function"==typeof e&&(n=e,e={}),this._conn.update(this.type,t,e,n)},a.prototype.upsert=function(t,e,n,r){return"function"==typeof n&&(r=n,n={}),this._conn.upsert(this.type,t,e,n,r)},a.prototype.delete=a.prototype.del=a.prototype.destroy=function(t,e,n){return"function"==typeof e&&(n=e,e={}),this._conn.destroy(this.type,t,e,n)},a.prototype.describe=function(t){return this._conn.describe(this.type,t)},a.prototype.record=function(t){return new r(this._conn,this.type,t)},a.prototype.find=function(t,e,n,r){"function"==typeof t?(r=t,t={},n=e=null):"function"==typeof e?(r=e,n=e=null):"function"==typeof n&&(r=n,n=null);var i={fields:e,includes:(n=n||{}).includes,table:this.type,conditions:t,limit:n.limit,offset:n.offset||n.skip},o=new s(this._conn,i);return o.setResponseTarget(s.ResponseTargets.Records),r&&o.run(r),o},a.prototype.findOne=function(t,e,n,r){"function"==typeof t?(r=t,t={},n=e=null):"function"==typeof e?(r=e,n=e=null):"function"==typeof n&&(r=n,n=null),n=o.extend(n||{},{limit:1});var i=this.find(t,e,n);return i.setResponseTarget(s.ResponseTargets.SingleRecord),r&&i.run(r),i},a.prototype.select=function(t,e){return this.find(null,t,null,e)},a.prototype.count=function(t,e){"function"==typeof t&&(e=t,t={});var n=this.find(t,{"count()":!0});return n.setResponseTarget("Count"),e&&n.run(e),n},a.prototype.bulkload=function(t,e,n,r){return this._conn.bulk.load(this.type,t,e,n,r)},a.prototype.insertBulk=a.prototype.createBulk=function(t,e){return this.bulkload("insert",t,e)},a.prototype.updateBulk=function(t,e){return this.bulkload("update",t,e)},a.prototype.upsertBulk=function(t,e,n){return this.bulkload("upsert",{extIdField:e},t,n)},a.prototype.deleteBulk=a.prototype.destroyBulk=function(t,e){return this.bulkload("delete",t,e)},a.prototype.deleteHardBulk=a.prototype.destroyHardBulk=function(t,e){return this.bulkload("hardDelete",t,e)},a.prototype.recent=function(t){return this._conn.recent(this.type,t)},a.prototype.updated=function(t,e,n){return this._conn.updated(this.type,t,e,n)},a.prototype.deleted=function(t,e,n){return this._conn.deleted(this.type,t,e,n)},a.prototype.layouts=function(t,e){"function"==typeof t&&(e=t,t=null);var n="/sobjects/"+this.type+"/describe/"+(t?"namedLayouts/"+t:"layouts");return this._conn.request(n,e)},a.prototype.compactLayouts=function(t){var e="/sobjects/"+this.type+"/describe/compactLayouts";return this._conn.request(e,t)},a.prototype.approvalLayouts=function(t){var e="/sobjects/"+this.type+"/describe/approvalLayouts";return this._conn.request(e,t)},a.prototype.listviews=function(t){var e=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews";return this._conn.request(e,t)},a.prototype.listview=function(t){return new u(this._conn,this.type,t)},a.prototype.quickActions=function(t){return this._conn.request("/sobjects/"+this.type+"/quickActions").thenCall(t)},a.prototype.quickAction=function(t){return new i(this._conn,"/sobjects/"+this.type+"/quickActions/"+t)};var u=function(t,e,n){this._conn=t,this.type=e,this.id=n};u.prototype.results=function(t){var e=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/results";return this._conn.request(e,t)},u.prototype.describe=function(t){var e=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/describe";return this._conn.request(e,t)},u.prototype.explain=function(t){var e="/query/?explain="+this.id;return this._conn.request(e,t)}},{"./cache":14,"./query":25,"./quick-action":26,"./record":28,underscore:82}],33:[function(t,e,n){var a=t("underscore"),r=t("./date");function s(t){var e,n,r=["SELECT ",(e=t.fields,n=t.includes,n=a.map(a.values(n||{}),function(t){return"("+s(t)+")"}),(e||["Id"]).concat(n).join(", "))," FROM ",t.table].join(""),i=function r(i,o,s){if(a.isString(i))return i;i=i||[];o=o||"AND";s=s||0;i=f(i)?i.map(function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return 1<e.length?e:e[0]}):a.keys(i).map(function(t){return{key:t,value:i[t]}});i=i.map(function(t){var e,n=s+1;switch(t.key){case"$or":case"$and":case"$not":return"NOT"!==o&&1===i.length&&(n=s),e="$or"===t.key?"OR":"$and"===t.key?"AND":"NOT",r(t.value,e,n);default:return c(t.key,t.value)}}).filter(function(t){return t});var t;return"NOT"===o?((t=0<s)?"(":"")+"NOT "+i[0]+(t?")":""):((t=0<s&&1<i.length)?"(":"")+i.join(" "+o+" ")+(t?")":"")}(t.conditions);i&&(r+=" WHERE "+i);var o=function(n){if(n=n||[],a.isString(n)){if(/,|\s+(asc|desc)\s*$/.test(n))return n;n=n.split(/\s+/).map(function(t){var e="ASC",n=t[0];return"-"===n?(e="DESC",t=t.substring(1)):"+"===n&&(t=t.substring(1)),[t,e]})}else f(n)||(n=a.keys(n).map(function(t){var e=n[t];return[t,e]}));return n.map(function(t){var e=t[0],n=t[1];switch(String(n)){case"DESC":case"desc":case"descending":case"-":case"-1":n="DESC";break;default:n="ASC"}return e+" "+n}).join(", ")}(t.sort);return o&&(r+=" ORDER BY "+o),t.limit&&(r+=" LIMIT "+t.limit),t.offset&&(r+=" OFFSET "+t.offset),r}var u={"=":"=",$eq:"=","!=":"!=",$ne:"!=",">":">",$gt:">","<":"<",$lt:"<",">=":">=",$gte:">=","<=":"<=",$lte:"<=",$like:"LIKE",$nlike:"NOT LIKE",$in:"IN",$nin:"NOT IN",$exists:"EXISTS"};function c(t,e){var n="$eq";if(a.isArray(e))n="$in";else if(a.isObject(e)){for(var r in e)if("$"===r[0]){e=e[n=r];break}}var i=u[n];if(!i||a.isUndefined(e))return null;var o=l(e);if(a.isUndefined(o))return null;switch(i){case"NOT LIKE":return"("+["NOT",t,"LIKE",o].join(" ")+")";case"EXISTS":return[t,e?"!=":"=","null"].join(" ");default:return[t,i,o].join(" ")}}function l(t){return f(t)?0<t.length?"("+t.map(l).join(", ")+")":void 0:t instanceof r?t.toString():a.isString(t)?"'"+String(t||"").replace(/'/g,"\\'")+"'":a.isNumber(t)?t.toString():a.isNull(t)?"null":t}function f(t){return a.isObject(t)&&a.isFunction(t.pop)}n.createSOQL=s},{"./date":18,underscore:82}],34:[function(f,h,t){(function(t){var o,e=f("inherits"),s=f("./promise"),a=f("request"),u=f("./browser/canvas"),c=f("./browser/jsonp");if(a.defaults){var n={followAllRedirects:!0};t.env.HTTP_PROXY&&(n.proxy=t.env.HTTP_PROXY),parseInt(t.env.HTTP_TIMEOUT)&&(n.timeout=parseInt(t.env.HTTP_TIMEOUT)),a=a.defaults(n)}if("undefined"==typeof window)o=t.env.LOCATION_BASE_URL||"";else{var r=function(t){var e=/(\w+)\.(visual\.force|salesforce)\.com$/.exec(t);e&&(t=e[1]+".salesforce.com");return t}(window.location.host);o=r?"https://"+r:""}var i=h.exports=function(){};i.prototype.httpRequest=function(t,e,n){var r,i=s.defer(),o=a;n&&n.jsonp&&c.supported?o=c.createRequest(n.jsonp):n&&n.signedRequest&&u.supported&&(o=u.createRequest(n.signedRequest));return function t(e,n){var r=e.then;return e.then=function(){return n(),t(r.apply(e,arguments),n)},e.stream=n,e}(i.promise,function(){return r||(r=o(t,function(t,e){t?i.reject(t):i.resolve(e)})),r}).thenCall(e)};var l=i.ProxyTransport=function(t){this._proxyUrl=t};e(l,i),l.prototype.httpRequest=function(t,e){var n=t.url;0===n.indexOf("/")&&(n=o+n);var r={method:t.method,url:this._proxyUrl+"?"+Date.now()+"."+(""+Math.random()).substring(2),headers:{"salesforceproxy-endpoint":n}};if((t.body||""===t.body)&&(r.body=t.body),t.headers)for(var i in t.headers)r.headers[i]=t.headers[i];return l.super_.prototype.httpRequest.call(this,r,e)}}).call(this,f("_process"))},{"./browser/canvas":9,"./browser/jsonp":12,"./promise":24,_process:44,inherits:53,request:13}],35:[function(t,e,n){e.exports={author:"Shinichi Tomita <shinichi.tomita@gmail.com>",name:"jsforce",description:"Salesforce API Library for JavaScript",keywords:["salesforce","salesforce.com","sfdc","force.com","database.com"],homepage:"http://github.com/jsforce/jsforce",version:"1.5.1",repository:{type:"git",url:"git://github.com/jsforce/jsforce.git"},license:"MIT",licenses:[{type:"MIT",url:"http://github.com/jsforce/jsforce/raw/master/LICENSE"}],main:"./lib/jsforce",scripts:{test:"./test/bin/run-test"},directories:{test:"test/"},files:["README.md","bower.json","Gruntfile.js","LICENSE","package.json","bin","build","lib","test"],engines:{node:">=0.10.0"},bin:{jsforce:"./bin/jsforce"},dependencies:{"co-prompt":"^1.0.0","coffee-script":"^1.8.0",commander:"^2.6.0",faye:"^1.1.0",inherits:"^2.0.1",open:"0.0.5",promise:"^6.1.0","readable-stream":"^2.0.2",request:"^2.51.0",through2:"^1.1.1",underscore:"^1.7.0",xml2js:"^0.4.4"},devDependencies:{archiver:"^0.14.4",async:"^0.9.0",browserify:"^11.0.1",dotenv:"^0.4.0",envfile:"^1.0.0",envify:"^3.4.0","espower-loader":"^0.7.1",espowerify:"^0.10.1",grunt:"^0.4.5","grunt-browserify":"^4.0.0","grunt-contrib-clean":"^0.6.0","grunt-contrib-copy":"^0.5.0","grunt-contrib-uglify":"^0.5.1","grunt-contrib-watch":"^0.6.1","grunt-extract-required":"0.0.6","grunt-jsdoc":"^0.5.6","grunt-string-replace":"^1.0.0","intelli-espower-loader":"^0.2.0",mocha:"^1.21.4","power-assert":"^0.7.2","require-swapper":"^0.1.5",webdriverio:"^2.4.3"},browser:{request:"./lib/browser/request.js"}}},{}],36:[function(t,e,n){},{}],37:[function(t,e,n){arguments[4][36][0].apply(n,arguments)},{dup:36}],38:[function(t,e,n){var r=t("base64-js"),o=t("ieee754"),s=t("is-array");n.Buffer=u,n.SlowBuffer=function t(e,n){if(!(this instanceof t))return new t(e,n);var r=new u(e,n);delete r.parent;return r},n.INSPECT_MAX_BYTES=50,u.poolSize=8192;var i={};function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t){return this instanceof u?(this.length=0,this.parent=void 0,"number"==typeof t?function(t,e){if(t=l(t,e<0?0:0|f(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;n++)t[n]=0;return t}(this,t):"string"==typeof t?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");var r=0|h(e,n);return(t=l(t,r)).write(e,n),t}(this,t,1<arguments.length?arguments[1]:"utf8"):function(t,e){if(u.isBuffer(e))return n=t,r=e,i=0|f(r.length),n=l(n,i),r.copy(n,0,0,i),n;var n,r,i;if(s(e))return function(t,e){var n=0|f(e.length);t=l(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return c(t,e);if(e instanceof ArrayBuffer)return function(t,e){t=u.TYPED_ARRAY_SUPPORT?(e.byteLength,u._augment(new Uint8Array(e))):c(t,new Uint8Array(e));return t}(t,e)}return e.length?function(t,e){var n=0|f(e.length);t=l(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}(t,e):function(t,e){var n,r=0;"Buffer"===e.type&&s(e.data)&&(n=e.data,r=0|f(n.length)),t=l(t,r);for(var i=0;i<r;i+=1)t[i]=255&n[i];return t}(t,e)}(this,t)):1<arguments.length?new u(t,arguments[1]):new u(t)}function c(t,e){var n=0|f(e.length);t=l(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function l(t,e){return u.TYPED_ARRAY_SUPPORT?t=u._augment(new Uint8Array(e)):(t.length=e,t._isBuffer=!0),0!==e&&e<=u.poolSize>>>1&&(t.parent=i),t}function f(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function h(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(r)return N(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?i<(r=Number(r))&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new Error("Invalid hex string");o/2<r&&(r=o/2);for(var s=0;s<r;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function v(t,e,n,r){return D(function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function p(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function d(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;o<n;o++)t[o]<=127?(r+=R(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+R(i)}function g(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(127&t[i]);return r}function m(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}function b(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=e;o<n;o++)i+=I(t[o]);return i}function _(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function w(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function E(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(i<e||e<o)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range")}function T(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function S(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function x(t,e,n,r,i,o){if(i<e||e<o)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function C(t,e,n,r,i){return i||x(t,e,n,4,34028234663852886e22,-34028234663852886e22),o.write(t,e,n,r,23,4),n+4}function k(t,e,n,r,i){return i||x(t,e,n,8,17976931348623157e292,-17976931348623157e292),o.write(t,e,n,r,52,8),n+8}u.TYPED_ARRAY_SUPPORT=function(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o&&t[i]===e[i];)++i;return i!==o&&(n=t[i],r=e[i]),n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!s(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new u(0);var n;if(void 0===e)for(n=e=0;n<t.length;n++)e+=t[n].length;var r=new u(e),i=0;for(n=0;n<t.length;n++){var o=t[n];o.copy(r,i),i+=o.length}return r},u.byteLength=h,u.prototype.length=void 0,u.prototype.parent=void 0,u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?d(this,0,t):function(t,e,n){var r=!1;if(t||(t="utf8"),(e|=0)<0&&(e=0),(n=void 0===n||n===1/0?this.length:0|n)>this.length&&(n=this.length),n<=e)return"";for(;;)switch(t){case"hex":return b(this,e,n);case"utf8":case"utf-8":return d(this,e,n);case"ascii":return g(this,e,n);case"binary":return m(this,e,n);case"base64":return p(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:u.compare(this,t)},u.prototype.indexOf=function(t,e){if(2147483647<e?e=2147483647:e<-2147483648&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(e<0&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(u.isBuffer(t))return n(this,t,e);if("number"==typeof t)return u.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):n(this,[t],e);function n(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}throw new TypeError("val must be string, number or Buffer")},u.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},u.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=e,e=0|n,n=i}var o=this.length-e;if((void 0===n||o<n)&&(n=o),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var s,a,u,c,l,f,h,p,d,g=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return p=e,d=n,D(N(t,(h=this).length-p),h,p,d);case"ascii":return v(this,t,e,n);case"binary":return v(this,t,e,n);case"base64":return c=this,l=e,f=n,D(j(t),c,l,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a=e,u=n,D(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,(s=this).length-a),s,a,u);default:if(g)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),g=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)n=u._augment(this.subarray(t,e));else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;o++)n[o]=this[o+t]}return n.length&&(n.parent=this.parent||this),n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||w(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||w(t,e,this.length);for(var r=this[t+--e],i=1;0<e&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||w(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||w(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||w(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||w(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||w(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||w(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||w(t,e,this.length);for(var r=e,i=1,o=this[t+--r];0<r&&(i*=256);)o+=this[t+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||w(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||w(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||w(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||w(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||w(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||w(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||w(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||w(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||w(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||E(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||E(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;0<=--i&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):T(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):S(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):S(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);E(this,t,e,n,i-1,-i)}var o=0,s=1,a=t<0?1:0;for(this[e]=255&t;++o<n&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);E(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=t<0?1:0;for(this[e+o]=255&t;0<=--o&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):T(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):S(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||E(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):S(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return C(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return C(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return k(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return k(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;0<=i;i--)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;i++)t[i+e]=this[i+n];else t._set(this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),n<e)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(e<0||e>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;r<n;r++)this[r]=t;else{var i=N(t.toString()),o=i.length;for(r=e;r<n;r++)this[r]=i[r%o]}return this}},u.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new TypeError("Buffer.toArrayBuffer not supported in this browser");if(u.TYPED_ARRAY_SUPPORT)return new u(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;e<n;e+=1)t[e]=this[e];return t.buffer};var A=u.prototype;u._augment=function(t){return t.constructor=u,t._isBuffer=!0,t._set=t.set,t.get=A.get,t.set=A.set,t.write=A.write,t.toString=A.toString,t.toLocaleString=A.toString,t.toJSON=A.toJSON,t.equals=A.equals,t.compare=A.compare,t.indexOf=A.indexOf,t.copy=A.copy,t.slice=A.slice,t.readUIntLE=A.readUIntLE,t.readUIntBE=A.readUIntBE,t.readUInt8=A.readUInt8,t.readUInt16LE=A.readUInt16LE,t.readUInt16BE=A.readUInt16BE,t.readUInt32LE=A.readUInt32LE,t.readUInt32BE=A.readUInt32BE,t.readIntLE=A.readIntLE,t.readIntBE=A.readIntBE,t.readInt8=A.readInt8,t.readInt16LE=A.readInt16LE,t.readInt16BE=A.readInt16BE,t.readInt32LE=A.readInt32LE,t.readInt32BE=A.readInt32BE,t.readFloatLE=A.readFloatLE,t.readFloatBE=A.readFloatBE,t.readDoubleLE=A.readDoubleLE,t.readDoubleBE=A.readDoubleBE,t.writeUInt8=A.writeUInt8,t.writeUIntLE=A.writeUIntLE,t.writeUIntBE=A.writeUIntBE,t.writeUInt16LE=A.writeUInt16LE,t.writeUInt16BE=A.writeUInt16BE,t.writeUInt32LE=A.writeUInt32LE,t.writeUInt32BE=A.writeUInt32BE,t.writeIntLE=A.writeIntLE,t.writeIntBE=A.writeIntBE,t.writeInt8=A.writeInt8,t.writeInt16LE=A.writeInt16LE,t.writeInt16BE=A.writeInt16BE,t.writeInt32LE=A.writeInt32LE,t.writeInt32BE=A.writeInt32BE,t.writeFloatLE=A.writeFloatLE,t.writeFloatBE=A.writeFloatBE,t.writeDoubleLE=A.writeDoubleLE,t.writeDoubleBE=A.writeDoubleBE,t.fill=A.fill,t.inspect=A.inspect,t.toArrayBuffer=A.toArrayBuffer,t};var O=/[^+\/0-9A-Za-z-_]/g;function I(t){return t<16?"0"+t.toString(16):t.toString(16)}function N(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;s++){if(55295<(n=t.charCodeAt(s))&&n<57344){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(-1<(e-=3)&&o.push(239,191,189),i=null);if(n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<2097152))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(t){return r.toByteArray(function(t){var e;if((t=(e=t,e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(O,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function D(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function R(t){try{return decodeURIComponent(t)}catch(t){return String.fromCharCode(65533)}}},{"base64-js":39,ieee754:40,"is-array":41}],39:[function(t,e,n){!function(t){"use strict";var l="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),i="0".charCodeAt(0),o="a".charCodeAt(0),s="A".charCodeAt(0),a="-".charCodeAt(0),u="_".charCodeAt(0);function f(t){var e=t.charCodeAt(0);return e===n||e===a?62:e===r||e===u?63:e<i?-1:e<i+10?e-i+26+26:e<s+26?e-s:e<o+26?e-o+26:void 0}t.toByteArray=function(t){var e,n,r,i,o,s;if(0<t.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var a=t.length;o="="===t.charAt(a-2)?2:"="===t.charAt(a-1)?1:0,s=new l(3*t.length/4-o),r=0<o?t.length-4:t.length;var u=0;function c(t){s[u++]=t}for(n=e=0;e<r;e+=4,n+=3)c((16711680&(i=f(t.charAt(e))<<18|f(t.charAt(e+1))<<12|f(t.charAt(e+2))<<6|f(t.charAt(e+3))))>>16),c((65280&i)>>8),c(255&i);return 2===o?c(255&(i=f(t.charAt(e))<<2|f(t.charAt(e+1))>>4)):1===o&&(c((i=f(t.charAt(e))<<10|f(t.charAt(e+1))<<4|f(t.charAt(e+2))>>2)>>8&255),c(255&i)),s},t.fromByteArray=function(t){var e,n,r,i,o=t.length%3,s="";function a(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)}for(e=0,r=t.length-o;e<r;e+=3)n=(t[e]<<16)+(t[e+1]<<8)+t[e+2],s+=a((i=n)>>18&63)+a(i>>12&63)+a(i>>6&63)+a(63&i);switch(o){case 1:s+=a((n=t[t.length-1])>>2),s+=a(n<<4&63),s+="==";break;case 2:s+=a((n=(t[t.length-2]<<8)+t[t.length-1])>>10),s+=a(n>>4&63),s+=a(n<<2&63),s+="="}return s}}(void 0===n?this.base64js={}:n)},{}],40:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;0<l;o=256*o+t[e+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;0<l;s=256*s+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),2<=(e+=1<=s+f?h/u:h*Math.pow(2,1-f))*u&&(s++,u/=2),l<=s+f?(a=0,s=l):1<=s+f?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));8<=i;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;0<c;t[n+p]=255&s,p+=d,s/=256,c-=8);t[n+p-d]|=128*g}},{}],41:[function(t,e,n){var r=Array.isArray,i=Object.prototype.toString;e.exports=r||function(t){return!!t&&"[object Array]"==i.call(t)}},{}],42:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(t){return"function"==typeof t}function u(t){return"object"==typeof t&&null!==t}function c(t){return void 0===t}((e.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,i,o,s;if(this._events||(this._events={}),"error"===t&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(c(n=this._events[t]))return!1;if(a(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];n.apply(this,i)}else if(u(n)){for(r=arguments.length,i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];for(r=(s=n.slice()).length,o=0;o<r;o++)s[o].apply(this,i)}return!0},r.prototype.on=r.prototype.addListener=function(t,e){var n;if(!a(e))throw TypeError("listener must be a function");(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,a(e.listener)?e.listener:e),this._events[t]?u(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,u(this._events[t])&&!this._events[t].warned)&&((n=c(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()));return this},r.prototype.once=function(t,e){if(!a(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var n,r,i,o;if(!a(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(n=this._events[t]).length,r=-1,n===e||a(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(u(n)){for(o=i;0<o--;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(a(n=this._events[t]))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?a(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){return t._events&&t._events[e]?a(t._events[e])?1:t._events[e].length:0}},{}],43:[function(t,e,c){(function(i){function o(t,e){for(var n=0,r=t.length-1;0<=r;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(t){return e.exec(t).slice(1)};function a(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}c.resolve=function(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){var r=0<=n?arguments[n]:i.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,e="/"===r.charAt(0))}return(e?"/":"")+(t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},c.normalize=function(t){var e=c.isAbsolute(t),n="/"===r(t,-1);return(t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},c.isAbsolute=function(t){return"/"===t.charAt(0)},c.join=function(){var t=Array.prototype.slice.call(arguments,0);return c.normalize(a(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},c.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;0<=n&&""===t[n];n--);return n<e?[]:t.slice(e,n-e+1)}t=c.resolve(t).substr(1),e=c.resolve(e).substr(1);for(var r=n(t.split("/")),i=n(e.split("/")),o=Math.min(r.length,i.length),s=o,a=0;a<o;a++)if(r[a]!==i[a]){s=a;break}var u=[];for(a=s;a<r.length;a++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},c.sep="/",c.delimiter=":",c.dirname=function(t){var e=s(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},c.basename=function(t,e){var n=s(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},c.extname=function(t){return s(t)[3]};var r="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:44}],44:[function(t,e,n){var r,i=e.exports={},o=[],s=!1,a=-1;function u(){s=!1,r.length?o=r.concat(o):a=-1,o.length&&c()}function c(){if(!s){var t=setTimeout(u);s=!0;for(var e=o.length;e;){for(r=o,o=[];++a<e;)r[a].run();a=-1,e=o.length}r=null,s=!1,clearTimeout(t)}}function l(t,e){this.fun=t,this.array=e}function f(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];o.push(new l(t,e)),1!==o.length||s||setTimeout(c,0)},l.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],45:[function(t,e,n){e.exports=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a,u,c=t.length;0<s&&s<c&&(c=s);for(var l=0;l<c;++l){var f,h,p,d,g=t[l].replace(o,"%20"),y=g.indexOf(n);h=0<=y?(f=g.substr(0,y),g.substr(y+1)):(f=g,""),p=decodeURIComponent(f),d=decodeURIComponent(h),a=i,u=p,Object.prototype.hasOwnProperty.call(a,u)?v(i[p])?i[p].push(d):i[p]=[i[p],d]:i[p]=d}return i};var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],46:[function(t,e,n){var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(n,r,i,t){return r=r||"&",i=i||"=",null===n&&(n=void 0),"object"==typeof n?a(u(n),function(t){var e=encodeURIComponent(o(t))+i;return s(n[t])?a(n[t],function(t){return e+encodeURIComponent(o(t))}).join(r):e+encodeURIComponent(o(n[t]))}).join(r):t?encodeURIComponent(o(t))+i+encodeURIComponent(o(n)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var u=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],47:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":45,"./encode":46}],48:[function(t,e,n){e.exports=r;var l=t("events").EventEmitter;function r(){l.call(this)}t("inherits")(r,l),r.Readable=t("readable-stream/readable.js"),r.Writable=t("readable-stream/writable.js"),r.Duplex=t("readable-stream/duplex.js"),r.Transform=t("readable-stream/transform.js"),r.PassThrough=t("readable-stream/passthrough.js"),(r.Stream=r).prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(t){if(c(),0===l.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",a),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},{events:42,inherits:53,"readable-stream/duplex.js":57,"readable-stream/passthrough.js":68,"readable-stream/readable.js":69,"readable-stream/transform.js":70,"readable-stream/writable.js":71}],49:[function(t,e,n){var r=t("buffer").Buffer,i=r.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var o=n.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(t){if(t&&!i(t))throw new Error("Unknown encoding: "+t)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=u;break;default:return void(this.write=s)}this.charBuffer=new r(6),this.charReceived=0,this.charLength=0};function s(t){return t.toString(this.encoding)}function a(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function u(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(t=t.slice(n,t.length),!(55296<=(i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))&&i<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived);var i;r=(e+=t.toString(this.encoding,0,r)).length-1;if(55296<=(i=e.charCodeAt(r))&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,r)}return e},o.prototype.detectIncompleteChar=function(t){for(var e=3<=t.length?3:t.length;0<e;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},o.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},{buffer:38}],50:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],51:[function(h,t,k){(function(r,i){var a=/%[sdj%]/g;k.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(t).replace(a,function(t){if("%%"===t)return"%";if(i<=n)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<i;s=r[++n])m(s)||!l(s)?o+=" "+s:o+=" "+u(s);return o},k.deprecate=function(t,e){if(w(i.process))return function(){return k.deprecate(t,e).apply(this,arguments)};if(!0===r.noDeprecation)return t;var n=!1;return function(){if(!n){if(r.throwDeprecation)throw new Error(e);r.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}};var t,o={};function u(t,e){var n={seen:[],stylize:c};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),v(e)?n.showHidden=e:e&&k._extend(n,e),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),p(n,t,n.depth)}function s(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function c(t,e){return t}function p(e,n,r){if(e.customInspect&&n&&x(n.inspect)&&n.inspect!==k.inspect&&(!n.constructor||n.constructor.prototype!==n)){var t=n.inspect(r,e);return _(t)||(t=p(e,t,r)),t}var i=function(t,e){if(w(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(b(e))return t.stylize(""+e,"number");if(v(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(e,n);if(i)return i;var o,s=Object.keys(n),a=(o={},s.forEach(function(t,e){o[t]=!0}),o);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),S(n)&&(0<=s.indexOf("message")||0<=s.indexOf("description")))return d(n);if(0===s.length){if(x(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(E(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(T(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return d(n)}var c,l="",f=!1,h=["{","}"];(y(n)&&(f=!0,h=["[","]"]),x(n))&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return E(n)&&(l=" "+RegExp.prototype.toString.call(n)),T(n)&&(l=" "+Date.prototype.toUTCString.call(n)),S(n)&&(l=" "+d(n)),0!==s.length||f&&0!=n.length?r<0?E(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=f?function(e,n,r,i,t){for(var o=[],s=0,a=n.length;s<a;++s)C(n,String(s))?o.push(g(e,n,r,i,String(s),!0)):o.push("");return t.forEach(function(t){t.match(/^\d+$/)||o.push(g(e,n,r,i,t,!0))}),o}(e,n,r,a,s):s.map(function(t){return g(e,n,r,a,t,f)}),e.seen.pop(),function(t,e,n){if(60<t.reduce(function(t,e){return 0,0<=e.indexOf("\n")&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0))return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,l,h)):h[0]+l+h[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function g(t,e,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),C(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?-1<(a=m(n)?p(t,u.value,null):p(t,u.value,n-1)).indexOf("\n")&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),w(s)){if(o&&i.match(/^\d+$/))return a;s=(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(s,"string"))}return s+": "+a}function y(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function b(t){return"number"==typeof t}function _(t){return"string"==typeof t}function w(t){return void 0===t}function E(t){return l(t)&&"[object RegExp]"===e(t)}function l(t){return"object"==typeof t&&null!==t}function T(t){return l(t)&&"[object Date]"===e(t)}function S(t){return l(t)&&("[object Error]"===e(t)||t instanceof Error)}function x(t){return"function"==typeof t}function e(t){return Object.prototype.toString.call(t)}function n(t){return t<10?"0"+t.toString(10):t.toString(10)}k.debuglog=function(e){if(w(t)&&(t=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(t)){var n=r.pid;o[e]=function(){var t=k.format.apply(k,arguments);console.error("%s %d: %s",e,n,t)}}else o[e]=function(){};return o[e]},(k.inspect=u).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},k.isArray=y,k.isBoolean=v,k.isNull=m,k.isNullOrUndefined=function(t){return null==t},k.isNumber=b,k.isString=_,k.isSymbol=function(t){return"symbol"==typeof t},k.isUndefined=w,k.isRegExp=E,k.isObject=l,k.isDate=T,k.isError=S,k.isFunction=x,k.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},k.isBuffer=h("./support/isBuffer");var f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}k.log=function(){var t,e;console.log("%s - %s",(t=new Date,e=[n(t.getHours()),n(t.getMinutes()),n(t.getSeconds())].join(":"),[t.getDate(),f[t.getMonth()],e].join(" ")),k.format.apply(k,arguments))},k.inherits=h("inherits"),k._extend=function(t,e){if(!e||!l(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":50,_process:44,inherits:53}],52:[function(require,module,exports){(function(process,global){!function(){"use strict";var Faye={VERSION:"1.1.2",BAYEUX_VERSION:"1.0",ID_LENGTH:160,JSONP_CALLBACK:"jsonpcallback",CONNECTION_TYPES:["long-polling","cross-origin-long-polling","callback-polling","websocket","eventsource","in-process"],MANDATORY_CONNECTION_TYPES:["long-polling","callback-polling","in-process"],ENV:"undefined"!=typeof window?window:global,extend:function(t,e,n){if(!e)return t;for(var r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)&&!1===n||t[r]!==e[r]&&(t[r]=e[r]));return t},random:function(t){t=t||this.ID_LENGTH;for(var e=Math.ceil(t*Math.log(2)/Math.log(36)),n=csprng(t,36);n.length<e;)n="0"+n;return n},validateOptions:function(t,e){for(var n in t)if(this.indexOf(e,n)<0)throw new Error("Unrecognized option: "+n)},clientIdFromMessages:function(t){var e=this.filter([].concat(t),function(t){return"/meta/connect"===t.channel});return e[0]&&e[0].clientId},copyObject:function(t){var e,n,r;if(t instanceof Array){for(e=[],n=t.length;n--;)e[n]=Faye.copyObject(t[n]);return e}if("object"!=typeof t)return t;for(r in e=null===t?null:{},t)e[r]=Faye.copyObject(t[r]);return e},commonElement:function(t,e){for(var n=0,r=t.length;n<r;n++)if(-1!==this.indexOf(e,t[n]))return t[n];return null},indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},map:function(t,e,n){if(t.map)return t.map(e,n);var r=[];if(t instanceof Array)for(var i=0,o=t.length;i<o;i++)r.push(e.call(n||null,t[i],i));else for(var s in t)t.hasOwnProperty(s)&&r.push(e.call(n||null,s,t[s]));return r},filter:function(t,e,n){if(t.filter)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n||null,t[i],i)&&r.push(t[i]);return r},asyncEach:function(t,e,n,r){var i=t.length,o=-1,s=0,a=!1,u=function(){if(s-=1,(o+=1)===i)return n&&n.call(r);e(t[o],c)},c=function(){s+=1,function(){if(!a){for(a=!0;0<s;)u();a=!1}}()};c()},toJSON:function(t){return this.stringify?this.stringify(t,function(t,e){return this[t]instanceof Array?this[t]:e}):JSON.stringify(t)}},Pja,Qja;void 0!==module?module.exports=Faye:"undefined"!=typeof window&&(window.Faye=Faye),Faye.Class=function(t,e){"function"!=typeof t&&(e=t,t=Object);var n=function(){return this.initialize&&this.initialize.apply(this,arguments)||this},r=function(){};return r.prototype=t.prototype,n.prototype=new r,Faye.extend(n.prototype,e),n},Pja=Faye.EventEmitter=function(){},Qja="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},Pja.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||Qja(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(Qja(e)){n=Array.prototype.slice.call(arguments,1);for(var r=e.slice(),i=0,o=r.length;i<o;i++)r[i].apply(this,n);return!0}return!1},Pja.prototype.addListener=function(t,e){if("function"!=typeof e)throw new Error("addListener only takes instances of Function");return this._events||(this._events={}),this.emit("newListener",t,e),this._events[t]?Qja(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,this},Pja.prototype.on=Pja.prototype.addListener,Pja.prototype.once=function(e,n){var r=this;return r.on(e,function t(){r.removeListener(e,t),n.apply(this,arguments)}),this},Pja.prototype.removeListener=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var n=this._events[t];if(Qja(n)){var r=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}(n,e);if(r<0)return this;n.splice(r,1),0==n.length&&delete this._events[t]}else this._events[t]===e&&delete this._events[t];return this},Pja.prototype.removeAllListeners=function(t){return 0===arguments.length?this._events={}:t&&this._events&&this._events[t]&&(this._events[t]=null),this},Pja.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),Qja(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},Faye.Namespace=Faye.Class({initialize:function(){this._used={}},exists:function(t){return this._used.hasOwnProperty(t)},generate:function(){for(var t=Faye.random();this._used.hasOwnProperty(t);)t=Faye.random();return this._used[t]=t},release:function(t){delete this._used[t]}}),function(){var r,e=setTimeout;r="function"==typeof setImmediate?function(t){setImmediate(t)}:"object"==typeof process&&process.nextTick?function(t){process.nextTick(t)}:function(t){e(t,0)};var i=function(t){return t},o=function(t){throw t},s=function(t){if(this._state=0,this._onFulfilled=[],this._onRejected=[],"function"==typeof t){var e=this;t(function(t){f(e,t)},function(t){p(e,t)})}};s.prototype.then=function(t,e){var n=new s;return a(this,t,n),u(this,e,n),n};var a=function(t,e,n){"function"!=typeof e&&(e=i);var r=function(t){c(e,t,n)};0===t._state?t._onFulfilled.push(r):1===t._state&&r(t._value)},u=function(t,e,n){"function"!=typeof e&&(e=o);var r=function(t){c(e,t,n)};0===t._state?t._onRejected.push(r):2===t._state&&r(t._reason)},c=function(t,e,n){r(function(){l(t,e,n)})},l=function(t,e,n){var r;try{r=t(e)}catch(t){return p(n,t)}r===n?p(n,new TypeError("Recursive promise chain detected")):f(n,r)},f=s.fulfill=s.resolve=function(e,t){var n,r,i=!1;try{if(n=typeof t,"function"!=typeof(r=null!==t&&("function"===n||"object"===n)&&t.then))return h(e,t);r.call(t,function(t){i^(i=!0)&&f(e,t)},function(t){i^(i=!0)&&p(e,t)})}catch(t){if(!(i^(i=!0)))return;p(e,t)}},h=function(t,e){if(0===t._state){t._state=1,t._value=e,t._onRejected=[];for(var n,r=t._onFulfilled;n=r.shift();)n(e)}},p=s.reject=function(t,e){if(0===t._state){t._state=2,t._reason=e,t._onFulfilled=[];for(var n,r=t._onRejected;n=r.shift();)n(e)}};s.all=function(e){return new s(function(n,r){var t,i=[],o=e.length;if(0===o)return n(i);for(t=0;t<o;t++)!function(t,e){s.fulfilled(t).then(function(t){i[e]=t,0==--o&&n(i)},r)}(e[t],t)})},s.defer=r,s.deferred=s.pending=function(){var n={};return n.promise=new s(function(t,e){n.fulfill=n.resolve=t,n.reject=e}),n},s.fulfilled=s.resolved=function(n){return new s(function(t,e){t(n)})},s.rejected=function(n){return new s(function(t,e){e(n)})},void 0===Faye?module.exports=s:Faye.Promise=s}(),Faye.Set=Faye.Class({initialize:function(){this._index={}},add:function(t){var e=void 0!==t.id?t.id:t;return!this._index.hasOwnProperty(e)&&(this._index[e]=t,!0)},forEach:function(t,e){for(var n in this._index)this._index.hasOwnProperty(n)&&t.call(e,this._index[n])},isEmpty:function(){for(var t in this._index)if(this._index.hasOwnProperty(t))return!1;return!0},member:function(t){for(var e in this._index)if(this._index[e]===t)return!0;return!1},remove:function(t){var e=void 0!==t.id?t.id:t,n=this._index[e];return delete this._index[e],n},toArray:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}}),Faye.URI={isURI:function(t){return t&&t.protocol&&t.host&&t.path},isSameOrigin:function(t){var e=Faye.ENV.location;return t.protocol===e.protocol&&t.hostname===e.hostname&&t.port===e.port},parse:function(n){if("string"!=typeof n)return n;var t,e,r,i,o,s,a={},u=function(e,t){n=n.replace(t,function(t){return a[e]=t,""}),a[e]=a[e]||""};for(u("protocol",/^[a-z]+\:/i),u("host",/^\/\/[^\/\?#]+/),/^\//.test(n)||a.host||(n=Faye.ENV.location.pathname.replace(/[^\/]*$/,"")+n),u("pathname",/^[^\?#]*/),u("search",/^\?[^#]*/),u("hash",/^#.*/),a.protocol=a.protocol||Faye.ENV.location.protocol,a.host?(a.host=a.host.substr(2),t=a.host.split(":"),a.hostname=t[0],a.port=t[1]||""):(a.host=Faye.ENV.location.host,a.hostname=Faye.ENV.location.hostname,a.port=Faye.ENV.location.port),a.pathname=a.pathname||"/",a.path=a.pathname+a.search,s={},i=0,o=(r=(e=a.search.replace(/^\?/,""))?e.split("&"):[]).length;i<o;i++)t=r[i].split("="),s[decodeURIComponent(t[0]||"")]=decodeURIComponent(t[1]||"");return a.query=s,a.href=this.stringify(a),a},stringify:function(t){var e=t.protocol+"//"+t.hostname;return t.port&&(e+=":"+t.port),e+=t.pathname+this.queryString(t.query)+(t.hash||"")},queryString:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return 0===e.length?"":"?"+e.join("&")}},Faye.Error=Faye.Class({initialize:function(t,e,n){this.code=t,this.params=Array.prototype.slice.call(e),this.message=n},toString:function(){return this.code+":"+this.params.join(",")+":"+this.message}}),Faye.Error.parse=function(t){if(t=t||"",!Faye.Grammar.ERROR.test(t))return new this(null,[],t);var e=t.split(":");return new this(parseInt(e[0]),e[1].split(","),t=e[2])},Faye.Error.versionMismatch=function(){return new this(300,arguments,"Version mismatch").toString()},Faye.Error.conntypeMismatch=function(){return new this(301,arguments,"Connection types not supported").toString()},Faye.Error.extMismatch=function(){return new this(302,arguments,"Extension mismatch").toString()},Faye.Error.badRequest=function(){return new this(400,arguments,"Bad request").toString()},Faye.Error.clientUnknown=function(){return new this(401,arguments,"Unknown client").toString()},Faye.Error.parameterMissing=function(){return new this(402,arguments,"Missing required parameter").toString()},Faye.Error.channelForbidden=function(){return new this(403,arguments,"Forbidden channel").toString()},Faye.Error.channelUnknown=function(){return new this(404,arguments,"Unknown channel").toString()},Faye.Error.channelInvalid=function(){return new this(405,arguments,"Invalid channel").toString()},Faye.Error.extUnknown=function(){return new this(406,arguments,"Unknown extension").toString()},Faye.Error.publishFailed=function(){return new this(407,arguments,"Failed to publish").toString()},Faye.Error.serverError=function(){return new this(500,arguments,"Internal server error").toString()},Faye.Deferrable={then:function(t,e){var n=this;return this._promise||(this._promise=new Faye.Promise(function(t,e){n._fulfill=t,n._reject=e})),0===arguments.length?this._promise:this._promise.then(t,e)},callback:function(e,n){return this.then(function(t){e.call(n,t)})},errback:function(e,n){return this.then(null,function(t){e.call(n,t)})},timeout:function(t,e){this.then();var n=this;this._timer=Faye.ENV.setTimeout(function(){n._reject(e)},1e3*t)},setDeferredStatus:function(t,e){this._timer&&Faye.ENV.clearTimeout(this._timer),this.then(),"succeeded"===t?this._fulfill(e):"failed"===t?this._reject(e):delete this._promise}},Faye.Publisher={countListeners:function(t){return this.listeners(t).length},bind:function(t,e,n){var r=Array.prototype.slice,i=function(){e.apply(n,r.call(arguments))};return this._listeners=this._listeners||[],this._listeners.push([t,e,n,i]),this.on(t,i)},unbind:function(t,e,n){this._listeners=this._listeners||[];for(var r,i=this._listeners.length;i--;)(r=this._listeners[i])[0]===t&&(!e||r[1]===e&&r[2]===n)&&(this._listeners.splice(i,1),this.removeListener(t,r[3]))}},Faye.extend(Faye.Publisher,Faye.EventEmitter.prototype),Faye.Publisher.trigger=Faye.Publisher.emit,Faye.Timeouts={addTimeout:function(t,e,n,r){if(this._timeouts=this._timeouts||{},!this._timeouts.hasOwnProperty(t)){var i=this;this._timeouts[t]=Faye.ENV.setTimeout(function(){delete i._timeouts[t],n.call(r)},1e3*e)}},removeTimeout:function(t){this._timeouts=this._timeouts||{};var e=this._timeouts[t];e&&(Faye.ENV.clearTimeout(e),delete this._timeouts[t])},removeAllTimeouts:function(){for(var t in this._timeouts=this._timeouts||{},this._timeouts)this.removeTimeout(t)}},Faye.Logging={LOG_LEVELS:{fatal:4,error:3,warn:2,info:1,debug:0},writeLog:function(t,e){if(Faye.logger){var n=Array.prototype.slice.apply(t),r="[Faye",i=this.className,o=n.shift().replace(/\?/g,function(){try{return Faye.toJSON(n.shift())}catch(t){return"[Object]"}});for(var s in Faye)i||"function"==typeof Faye[s]&&this instanceof Faye[s]&&(i=s);i&&(r+="."+i),r+="] ","function"==typeof Faye.logger[e]?Faye.logger[e](r+o):"function"==typeof Faye.logger&&Faye.logger(r+o)}}},function(){for(var t in Faye.Logging.LOG_LEVELS)!function(t){Faye.Logging[t]=function(){this.writeLog(arguments,t)}}(t)}(),Faye.Grammar={CHANNEL_NAME:/^\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*$/,CHANNEL_PATTERN:/^(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*\/\*{1,2}$/,ERROR:/^([0-9][0-9][0-9]:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*(,(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)*:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*|[0-9][0-9][0-9]::(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)$/,VERSION:/^([0-9])+(\.(([a-z]|[A-Z])|[0-9])(((([a-z]|[A-Z])|[0-9])|\-|\_))*)*$/},Faye.Extensible={addExtension:function(t){this._extensions=this._extensions||[],this._extensions.push(t),t.added&&t.added(this)},removeExtension:function(t){if(this._extensions)for(var e=this._extensions.length;e--;)this._extensions[e]===t&&(this._extensions.splice(e,1),t.removed&&t.removed(this))},pipeThroughExtensions:function(r,t,i,o,s){if(this.debug("Passing through ? extensions: ?",r,t),!this._extensions)return o.call(s,t);var a=this._extensions.slice(),u=function(t){if(!t)return o.call(s,t);var e=a.shift();if(!e)return o.call(s,t);var n=e[r];if(!n)return u(t);3<=n.length?e[r](t,i,u):e[r](t,u)};u(t)}},Faye.extend(Faye.Extensible,Faye.Logging),Faye.Channel=Faye.Class({initialize:function(t){this.id=this.name=t},push:function(t){this.trigger("message",t)},isUnused:function(){return 0===this.countListeners("message")}}),Faye.extend(Faye.Channel.prototype,Faye.Publisher),Faye.extend(Faye.Channel,{HANDSHAKE:"/meta/handshake",CONNECT:"/meta/connect",SUBSCRIBE:"/meta/subscribe",UNSUBSCRIBE:"/meta/unsubscribe",DISCONNECT:"/meta/disconnect",META:"meta",SERVICE:"service",expand:function(t){var e=this.parse(t),n=["/**",t],r=e.slice();r[r.length-1]="*",n.push(this.unparse(r));for(var i=1,o=e.length;i<o;i++)(r=e.slice(0,i)).push("**"),n.push(this.unparse(r));return n},isValid:function(t){return Faye.Grammar.CHANNEL_NAME.test(t)||Faye.Grammar.CHANNEL_PATTERN.test(t)},parse:function(t){return this.isValid(t)?t.split("/").slice(1):null},unparse:function(t){return"/"+t.join("/")},isMeta:function(t){var e=this.parse(t);return e?e[0]===this.META:null},isService:function(t){var e=this.parse(t);return e?e[0]===this.SERVICE:null},isSubscribable:function(t){return this.isValid(t)?!this.isMeta(t)&&!this.isService(t):null},Set:Faye.Class({initialize:function(){this._channels={}},getKeys:function(){var t=[];for(var e in this._channels)t.push(e);return t},remove:function(t){delete this._channels[t]},hasSubscription:function(t){return this._channels.hasOwnProperty(t)},subscribe:function(t,e,n){for(var r,i=0,o=t.length;i<o;i++){r=t[i];var s=this._channels[r]=this._channels[r]||new Faye.Channel(r);e&&s.bind("message",e,n)}},unsubscribe:function(t,e,n){var r=this._channels[t];return!!r&&(r.unbind("message",e,n),!!r.isUnused()&&(this.remove(t),!0))},distributeMessage:function(t){for(var e=Faye.Channel.expand(t.channel),n=0,r=e.length;n<r;n++){var i=this._channels[e[n]];i&&i.trigger("message",t.data)}}})}),Faye.Publication=Faye.Class(Faye.Deferrable),Faye.Subscription=Faye.Class({initialize:function(t,e,n,r){this._client=t,this._channels=e,this._callback=n,this._context=r,this._cancelled=!1},cancel:function(){this._cancelled||(this._client.unsubscribe(this._channels,this._callback,this._context),this._cancelled=!0)},unsubscribe:function(){this.cancel()}}),Faye.extend(Faye.Subscription.prototype,Faye.Deferrable),Faye.Client=Faye.Class({UNCONNECTED:1,CONNECTING:2,CONNECTED:3,DISCONNECTED:4,HANDSHAKE:"handshake",RETRY:"retry",NONE:"none",CONNECTION_TIMEOUT:60,DEFAULT_ENDPOINT:"/bayeux",INTERVAL:0,initialize:function(t,e){this.info("New client created for ?",t),e=e||{},Faye.validateOptions(e,["interval","timeout","endpoints","proxy","retry","scheduler","websocketExtensions","tls","ca"]),this._endpoint=t||this.DEFAULT_ENDPOINT,this._channels=new Faye.Channel.Set,this._dispatcher=new Faye.Dispatcher(this,this._endpoint,e),this._messageId=0,this._state=this.UNCONNECTED,this._responseCallbacks={},this._advice={reconnect:this.RETRY,interval:1e3*(e.interval||this.INTERVAL),timeout:1e3*(e.timeout||this.CONNECTION_TIMEOUT)},this._dispatcher.timeout=this._advice.timeout/1e3,this._dispatcher.bind("message",this._receiveMessage,this),Faye.Event&&void 0!==Faye.ENV.onbeforeunload&&Faye.Event.on(Faye.ENV,"beforeunload",function(){Faye.indexOf(this._dispatcher._disabled,"autodisconnect")<0&&this.disconnect()},this)},addWebsocketExtension:function(t){return this._dispatcher.addWebsocketExtension(t)},disable:function(t){return this._dispatcher.disable(t)},setHeader:function(t,e){return this._dispatcher.setHeader(t,e)},handshake:function(e,n){if(this._advice.reconnect!==this.NONE&&this._state===this.UNCONNECTED){this._state=this.CONNECTING;var r=this;this.info("Initiating handshake with ?",Faye.URI.stringify(this._endpoint)),this._dispatcher.selectTransport(Faye.MANDATORY_CONNECTION_TYPES),this._sendMessage({channel:Faye.Channel.HANDSHAKE,version:Faye.BAYEUX_VERSION,supportedConnectionTypes:this._dispatcher.getConnectionTypes()},{},function(t){t.successful?(this._state=this.CONNECTED,this._dispatcher.clientId=t.clientId,this._dispatcher.selectTransport(t.supportedConnectionTypes),this.info("Handshake successful: ?",this._dispatcher.clientId),this.subscribe(this._channels.getKeys(),!0),e&&Faye.Promise.defer(function(){e.call(n)})):(this.info("Handshake unsuccessful"),Faye.ENV.setTimeout(function(){r.handshake(e,n)},1e3*this._dispatcher.retry),this._state=this.UNCONNECTED)},this)}},connect:function(t,e){if(this._advice.reconnect!==this.NONE&&this._state!==this.DISCONNECTED){if(this._state===this.UNCONNECTED)return this.handshake(function(){this.connect(t,e)},this);this.callback(t,e),this._state===this.CONNECTED&&(this.info("Calling deferred actions for ?",this._dispatcher.clientId),this.setDeferredStatus("succeeded"),this.setDeferredStatus("unknown"),this._connectRequest||(this._connectRequest=!0,this.info("Initiating connection for ?",this._dispatcher.clientId),this._sendMessage({channel:Faye.Channel.CONNECT,clientId:this._dispatcher.clientId,connectionType:this._dispatcher.connectionType},{},this._cycleConnection,this)))}},disconnect:function(){if(this._state===this.CONNECTED){this._state=this.DISCONNECTED,this.info("Disconnecting ?",this._dispatcher.clientId);var e=new Faye.Publication;return this._sendMessage({channel:Faye.Channel.DISCONNECT,clientId:this._dispatcher.clientId},{},function(t){t.successful?(this._dispatcher.close(),e.setDeferredStatus("succeeded")):e.setDeferredStatus("failed",Faye.Error.parse(t.error))},this),this.info("Clearing channel listeners for ?",this._dispatcher.clientId),this._channels=new Faye.Channel.Set,e}},subscribe:function(n,r,i){if(n instanceof Array)return Faye.map(n,function(t){return this.subscribe(t,r,i)},this);var o=new Faye.Subscription(this,n,r,i),t=!0===r;return this._channels.hasSubscription(n)&&!t?(this._channels.subscribe([n],r,i),o.setDeferredStatus("succeeded")):this.connect(function(){this.info("Client ? attempting to subscribe to ?",this._dispatcher.clientId,n),t||this._channels.subscribe([n],r,i),this._sendMessage({channel:Faye.Channel.SUBSCRIBE,clientId:this._dispatcher.clientId,subscription:n},{},function(t){if(!t.successful)return o.setDeferredStatus("failed",Faye.Error.parse(t.error)),this._channels.unsubscribe(n,r,i);var e=[].concat(t.subscription);this.info("Subscription acknowledged for ? to ?",this._dispatcher.clientId,e),o.setDeferredStatus("succeeded")},this)},this),o},unsubscribe:function(t,e,n){if(t instanceof Array)return Faye.map(t,function(t){return this.unsubscribe(t,e,n)},this);this._channels.unsubscribe(t,e,n)&&this.connect(function(){this.info("Client ? attempting to unsubscribe from ?",this._dispatcher.clientId,t),this._sendMessage({channel:Faye.Channel.UNSUBSCRIBE,clientId:this._dispatcher.clientId,subscription:t},{},function(t){if(t.successful){var e=[].concat(t.subscription);this.info("Unsubscription acknowledged for ? from ?",this._dispatcher.clientId,e)}},this)},this)},publish:function(t,e,n){Faye.validateOptions(n||{},["attempts","deadline"]);var r=new Faye.Publication;return this.connect(function(){this.info("Client ? queueing published message to ?: ?",this._dispatcher.clientId,t,e),this._sendMessage({channel:t,data:e,clientId:this._dispatcher.clientId},n,function(t){t.successful?r.setDeferredStatus("succeeded"):r.setDeferredStatus("failed",Faye.Error.parse(t.error))},this)},this),r},_sendMessage:function(t,e,n,r){t.id=this._generateMessageId();var i=this._advice.timeout?1.2*this._advice.timeout/1e3:1.2*this._dispatcher.retry;this.pipeThroughExtensions("outgoing",t,null,function(t){t&&(n&&(this._responseCallbacks[t.id]=[n,r]),this._dispatcher.sendMessage(t,i,e||{}))},this)},_generateMessageId:function(){return this._messageId+=1,this._messageId>=Math.pow(2,32)&&(this._messageId=0),this._messageId.toString(36)},_receiveMessage:function(t){var e,n=t.id;void 0!==t.successful&&(e=this._responseCallbacks[n],delete this._responseCallbacks[n]),this.pipeThroughExtensions("incoming",t,null,function(t){t&&(t.advice&&this._handleAdvice(t.advice),this._deliverMessage(t),e&&e[0].call(e[1],t))},this)},_handleAdvice:function(t){Faye.extend(this._advice,t),this._dispatcher.timeout=this._advice.timeout/1e3,this._advice.reconnect===this.HANDSHAKE&&this._state!==this.DISCONNECTED&&(this._state=this.UNCONNECTED,this._dispatcher.clientId=null,this._cycleConnection())},_deliverMessage:function(t){t.channel&&void 0!==t.data&&(this.info("Client ? calling listeners for ? with ?",this._dispatcher.clientId,t.channel,t.data),this._channels.distributeMessage(t))},_cycleConnection:function(){this._connectRequest&&(this._connectRequest=null,this.info("Closed connection for ?",this._dispatcher.clientId));var t=this;Faye.ENV.setTimeout(function(){t.connect()},this._advice.interval)}}),Faye.extend(Faye.Client.prototype,Faye.Deferrable),Faye.extend(Faye.Client.prototype,Faye.Publisher),Faye.extend(Faye.Client.prototype,Faye.Logging),Faye.extend(Faye.Client.prototype,Faye.Extensible),Faye.Dispatcher=Faye.Class({MAX_REQUEST_SIZE:2048,DEFAULT_RETRY:5,UP:1,DOWN:2,initialize:function(t,e,n){this._client=t,this.endpoint=Faye.URI.parse(e),this._alternates=n.endpoints||{},this.cookies=Faye.Cookies&&new Faye.Cookies.CookieJar,this._disabled=[],this._envelopes={},this.headers={},this.retry=n.retry||this.DEFAULT_RETRY,this._scheduler=n.scheduler||Faye.Scheduler,this._state=0,this.transports={},this.wsExtensions=[],this.proxy=n.proxy||{},"string"==typeof this._proxy&&(this._proxy={origin:this._proxy});var r=n.websocketExtensions;if(r)for(var i=0,o=(r=[].concat(r)).length;i<o;i++)this.addWebsocketExtension(r[i]);for(var s in this.tls=n.tls||{},this.tls.ca=this.tls.ca||n.ca,this._alternates)this._alternates[s]=Faye.URI.parse(this._alternates[s]);this.maxRequestSize=this.MAX_REQUEST_SIZE},endpointFor:function(t){return this._alternates[t]||this.endpoint},addWebsocketExtension:function(t){this.wsExtensions.push(t)},disable:function(t){this._disabled.push(t)},setHeader:function(t,e){this.headers[t]=e},close:function(){var t=this._transport;delete this._transport,t&&t.close()},getConnectionTypes:function(){return Faye.Transport.getConnectionTypes()},selectTransport:function(t){Faye.Transport.get(this,t,this._disabled,function(t){this.debug("Selected ? transport for ?",t.connectionType,Faye.URI.stringify(t.endpoint)),t!==this._transport&&(this._transport&&this._transport.close(),this._transport=t,this.connectionType=t.connectionType)},this)},sendMessage:function(t,e,n){n=n||{};var r,i=t.id,o=n.attempts,s=n.deadline&&(new Date).getTime()+1e3*n.deadline,a=this._envelopes[i];a||(r=new this._scheduler(t,{timeout:e,interval:this.retry,attempts:o,deadline:s}),a=this._envelopes[i]={message:t,scheduler:r}),this._sendEnvelope(a)},_sendEnvelope:function(t){if(this._transport&&!t.request&&!t.timer){var e=t.message,n=t.scheduler,r=this;if(!n.isDeliverable())return n.abort(),void delete this._envelopes[e.id];t.timer=Faye.ENV.setTimeout(function(){r.handleError(e)},1e3*n.getTimeout()),n.send(),t.request=this._transport.sendMessage(e)}},handleResponse:function(t){var e=this._envelopes[t.id];void 0!==t.successful&&e&&(e.scheduler.succeed(),delete this._envelopes[t.id],Faye.ENV.clearTimeout(e.timer)),this.trigger("message",t),this._state!==this.UP&&(this._state=this.UP,this._client.trigger("transport:up"))},handleError:function(t,e){var n=this._envelopes[t.id],r=n&&n.request,i=this;if(r){r.then(function(t){t&&t.abort&&t.abort()});var o=n.scheduler;o.fail(),Faye.ENV.clearTimeout(n.timer),n.request=n.timer=null,e?this._sendEnvelope(n):n.timer=Faye.ENV.setTimeout(function(){n.timer=null,i._sendEnvelope(n)},1e3*o.getInterval()),this._state!==this.DOWN&&(this._state=this.DOWN,this._client.trigger("transport:down"))}}}),Faye.extend(Faye.Dispatcher.prototype,Faye.Publisher),Faye.extend(Faye.Dispatcher.prototype,Faye.Logging),Faye.Scheduler=function(t,e){this.message=t,this.options=e,this.attempts=0},Faye.extend(Faye.Scheduler.prototype,{getTimeout:function(){return this.options.timeout},getInterval:function(){return this.options.interval},isDeliverable:function(){var t=this.options.attempts,e=this.attempts,n=this.options.deadline,r=(new Date).getTime();return!(void 0!==t&&t<=e)&&!(void 0!==n&&n<r)},send:function(){this.attempts+=1},succeed:function(){},fail:function(){},abort:function(){}}),Faye.Transport=Faye.extend(Faye.Class({DEFAULT_PORTS:{"http:":80,"https:":443,"ws:":80,"wss:":443},SECURE_PROTOCOLS:["https:","wss:"],MAX_DELAY:0,batching:!0,initialize:function(t,e){this._dispatcher=t,this.endpoint=e,this._outbox=[],this._proxy=Faye.extend({},this._dispatcher.proxy),!this._proxy.origin&&Faye.NodeAdapter&&(this._proxy.origin=0<=Faye.indexOf(this.SECURE_PROTOCOLS,this.endpoint.protocol)?process.env.HTTPS_PROXY||process.env.https_proxy:process.env.HTTP_PROXY||process.env.http_proxy)},close:function(){},encode:function(t){return""},sendMessage:function(t){return this.debug("Client ? sending message to ?: ?",this._dispatcher.clientId,Faye.URI.stringify(this.endpoint),t),this.batching?(this._outbox.push(t),this._promise=this._promise||new Faye.Promise,this._flushLargeBatch(),t.channel===Faye.Channel.HANDSHAKE?this.addTimeout("publish",.01,this._flush,this):(t.channel===Faye.Channel.CONNECT&&(this._connectMessage=t),this.addTimeout("publish",this.MAX_DELAY,this._flush,this)),this._promise):Faye.Promise.fulfilled(this.request([t]))},_flush:function(){this.removeTimeout("publish"),1<this._outbox.length&&this._connectMessage&&(this._connectMessage.advice={timeout:0}),Faye.Promise.fulfill(this._promise,this.request(this._outbox)),delete this._promise,this._connectMessage=null,this._outbox=[]},_flushLargeBatch:function(){if(!(this.encode(this._outbox).length<this._dispatcher.maxRequestSize)){var t=this._outbox.pop();this._flush(),t&&this._outbox.push(t)}},_receive:function(t){if(t){t=[].concat(t),this.debug("Client ? received from ? via ?: ?",this._dispatcher.clientId,Faye.URI.stringify(this.endpoint),this.connectionType,t);for(var e=0,n=t.length;e<n;e++)this._dispatcher.handleResponse(t[e])}},_handleError:function(t,e){t=[].concat(t),this.debug("Client ? failed to send to ? via ?: ?",this._dispatcher.clientId,Faye.URI.stringify(this.endpoint),this.connectionType,t);for(var n=0,r=t.length;n<r;n++)this._dispatcher.handleError(t[n])},_getCookies:function(){var t=this._dispatcher.cookies,e=Faye.URI.stringify(this.endpoint);return t?Faye.map(t.getCookiesSync(e),function(t){return t.cookieString()}).join("; "):""},_storeCookies:function(t){var e,n=this._dispatcher.cookies,r=Faye.URI.stringify(this.endpoint);if(t&&n)for(var i=0,o=(t=[].concat(t)).length;i<o;i++)e=Faye.Cookies.Cookie.parse(t[i]),n.setCookieSync(e,r)}}),{get:function(o,s,a,u,c){var t=o.endpoint;Faye.asyncEach(this._transports,function(t,n){var e=t[0],r=t[1],i=o.endpointFor(e);return 0<=Faye.indexOf(a,e)?n():Faye.indexOf(s,e)<0?(r.isUsable(o,i,function(){}),n()):void r.isUsable(o,i,function(t){if(!t)return n();var e=r.hasOwnProperty("create")?r.create(o,i):new r(o,i);u.call(c,e)})},function(){throw new Error("Could not find a usable connection type for "+Faye.URI.stringify(t))})},register:function(t,e){this._transports.push([t,e]),e.prototype.connectionType=t},getConnectionTypes:function(){return Faye.map(this._transports,function(t){return t[0]})},_transports:[]}),Faye.extend(Faye.Transport.prototype,Faye.Logging),Faye.extend(Faye.Transport.prototype,Faye.Timeouts),Faye.Event={_registry:[],on:function(t,e,n,r){var i=function(){n.call(r)};t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i),this._registry.push({_element:t,_type:e,_callback:n,_context:r,_handler:i})},detach:function(t,e,n,r){for(var i,o=this._registry.length;o--;)i=this._registry[o],t&&t!==i._element||e&&e!==i._type||n&&n!==i._callback||r&&r!==i._context||(i._element.removeEventListener?i._element.removeEventListener(i._type,i._handler,!1):i._element.detachEvent("on"+i._type,i._handler),this._registry.splice(o,1),i=null)}},void 0!==Faye.ENV.onunload&&Faye.Event.on(Faye.ENV,"unload",Faye.Event.detach,Faye.Event),"object"!=typeof JSON&&(JSON={}),function(){function f(t){return t<10?"0"+t:t}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,i,o,s,a=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;n<o;n+=1)s[n]=str(n,u)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],u))&&s.push(quote(r)+(gap?": ":":")+i);else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(i=str(r,u))&&s.push(quote(r)+(gap?": ":":")+i);return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}Faye.stringify=function(t,e,n){var r;if(indent=gap="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if((rep=e)&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})},"function"!=typeof JSON.stringify&&(JSON.stringify=Faye.stringify),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(t,e){var n,r,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(t,e,i)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),Faye.Transport.WebSocket=Faye.extend(Faye.Class(Faye.Transport,{UNCONNECTED:1,CONNECTING:2,CONNECTED:3,batching:!1,isUsable:function(t,e){this.callback(function(){t.call(e,!0)}),this.errback(function(){t.call(e,!1)}),this.connect()},request:function(e){this._pending=this._pending||new Faye.Set;for(var t=0,n=e.length;t<n;t++)this._pending.add(e[t]);var r=new Faye.Promise;return this.callback(function(t){t&&1===t.readyState&&(t.send(Faye.toJSON(e)),Faye.Promise.fulfill(r,t))},this),this.connect(),{abort:function(){r.then(function(t){t.close()})}}},connect:function(){if(!Faye.Transport.WebSocket._unloaded&&(this._state=this._state||this.UNCONNECTED,this._state===this.UNCONNECTED)){this._state=this.CONNECTING;var n=this._createSocket();if(!n)return this.setDeferredStatus("failed");var i=this,r=!(n.onopen=function(){n.headers&&i._storeCookies(n.headers["set-cookie"]),i._socket=n,i._state=i.CONNECTED,i._everConnected=!0,i._ping(),i.setDeferredStatus("succeeded",n)});n.onclose=n.onerror=function(){if(!r){r=!0;var t=i._state===i.CONNECTED;n.onopen=n.onclose=n.onerror=n.onmessage=null,delete i._socket,i._state=i.UNCONNECTED,i.removeTimeout("ping"),i.setDeferredStatus("unknown");var e=i._pending?i._pending.toArray():[];delete i._pending,t?i._handleError(e,!0):i._everConnected?i._handleError(e):i.setDeferredStatus("failed")}},n.onmessage=function(t){var e=JSON.parse(t.data);if(e){for(var n=0,r=(e=[].concat(e)).length;n<r;n++)void 0!==e[n].successful&&i._pending.remove(e[n]);i._receive(e)}}}},close:function(){this._socket&&this._socket.close()},_createSocket:function(){var t=Faye.Transport.WebSocket.getSocketUrl(this.endpoint),e=this._dispatcher.headers,n=this._dispatcher.wsExtensions,r=this._getCookies(),i=this._dispatcher.tls,o={extensions:n,headers:e,proxy:this._proxy,tls:i};return""!==r&&(o.headers.Cookie=r),Faye.WebSocket?new Faye.WebSocket.Client(t,[],o):Faye.ENV.MozWebSocket?new MozWebSocket(t):Faye.ENV.WebSocket?new WebSocket(t):void 0},_ping:function(){this._socket&&(this._socket.send("[]"),this.addTimeout("ping",this._dispatcher.timeout/2,this._ping,this))}}),{PROTOCOLS:{"http:":"ws:","https:":"wss:"},create:function(t,e){var n=t.transports.websocket=t.transports.websocket||{};return n[e.href]=n[e.href]||new this(t,e),n[e.href]},getSocketUrl:function(t){return(t=Faye.copyObject(t)).protocol=this.PROTOCOLS[t.protocol],Faye.URI.stringify(t)},isUsable:function(t,e,n,r){this.create(t,e).isUsable(n,r)}}),Faye.extend(Faye.Transport.WebSocket.prototype,Faye.Deferrable),Faye.Transport.register("websocket",Faye.Transport.WebSocket),Faye.Event&&void 0!==Faye.ENV.onbeforeunload&&Faye.Event.on(Faye.ENV,"beforeunload",function(){Faye.Transport.WebSocket._unloaded=!0}),Faye.Transport.EventSource=Faye.extend(Faye.Class(Faye.Transport,{initialize:function(t,e){if(Faye.Transport.prototype.initialize.call(this,t,e),!Faye.ENV.EventSource)return this.setDeferredStatus("failed");this._xhr=new Faye.Transport.XHR(t,e),(e=Faye.copyObject(e)).pathname+="/"+t.clientId;var n=new EventSource(Faye.URI.stringify(e)),r=this;n.onopen=function(){r._everConnected=!0,r.setDeferredStatus("succeeded")},n.onerror=function(){r._everConnected?r._handleError([]):(r.setDeferredStatus("failed"),n.close())},n.onmessage=function(t){r._receive(JSON.parse(t.data))},this._socket=n},close:function(){this._socket&&(this._socket.onopen=this._socket.onerror=this._socket.onmessage=null,this._socket.close(),delete this._socket)},isUsable:function(t,e){this.callback(function(){t.call(e,!0)}),this.errback(function(){t.call(e,!1)})},encode:function(t){return this._xhr.encode(t)},request:function(t){return this._xhr.request(t)}}),{isUsable:function(e,n,r,i){if(!e.clientId)return r.call(i,!1);Faye.Transport.XHR.isUsable(e,n,function(t){if(!t)return r.call(i,!1);this.create(e,n).isUsable(r,i)},this)},create:function(t,e){var n=t.transports.eventsource=t.transports.eventsource||{},r=t.clientId,i=Faye.copyObject(e);return i.pathname+="/"+(r||""),n[i=Faye.URI.stringify(i)]=n[i]||new this(t,e),n[i]}}),Faye.extend(Faye.Transport.EventSource.prototype,Faye.Deferrable),Faye.Transport.register("eventsource",Faye.Transport.EventSource),Faye.Transport.XHR=Faye.extend(Faye.Class(Faye.Transport,{encode:function(t){return Faye.toJSON(t)},request:function(i){var t=this.endpoint.href,o=Faye.ENV.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,s=this;o.open("POST",t,!0),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Pragma","no-cache"),o.setRequestHeader("X-Requested-With","XMLHttpRequest");var e=this._dispatcher.headers;for(var n in e)e.hasOwnProperty(n)&&o.setRequestHeader(n,e[n]);var a=function(){o.abort()};return void 0!==Faye.ENV.onbeforeunload&&Faye.Event.on(Faye.ENV,"beforeunload",a),o.onreadystatechange=function(){if(o&&4===o.readyState){var t=null,e=o.status,n=o.responseText,r=200<=e&&e<300||304===e||1223===e;if(void 0!==Faye.ENV.onbeforeunload&&Faye.Event.detach(Faye.ENV,"beforeunload",a),o.onreadystatechange=function(){},o=null,!r)return s._handleError(i);try{t=JSON.parse(n)}catch(t){}t?s._receive(t):s._handleError(i)}},o.send(this.encode(i)),o}}),{isUsable:function(t,e,n,r){n.call(r,Faye.URI.isSameOrigin(e))}}),Faye.Transport.register("long-polling",Faye.Transport.XHR),Faye.Transport.CORS=Faye.extend(Faye.Class(Faye.Transport,{encode:function(t){return"message="+encodeURIComponent(Faye.toJSON(t))},request:function(e){var t,n=Faye.ENV.XDomainRequest?XDomainRequest:XMLHttpRequest,r=new n,i=++Faye.Transport.CORS._id,o=this._dispatcher.headers,s=this;if(r.open("POST",Faye.URI.stringify(this.endpoint),!0),r.setRequestHeader)for(t in r.setRequestHeader("Pragma","no-cache"),o)o.hasOwnProperty(t)&&r.setRequestHeader(t,o[t]);var a=function(){if(!r)return!1;Faye.Transport.CORS._pending.remove(i),r.onload=r.onerror=r.ontimeout=r.onprogress=null,r=null};return r.onload=function(){var t=null;try{t=JSON.parse(r.responseText)}catch(t){}a(),t?s._receive(t):s._handleError(e)},r.onerror=r.ontimeout=function(){a(),s._handleError(e)},r.onprogress=function(){},n===Faye.ENV.XDomainRequest&&Faye.Transport.CORS._pending.add({id:i,xhr:r}),r.send(this.encode(e)),r}}),{_id:0,_pending:new Faye.Set,isUsable:function(t,e,n,r){if(Faye.URI.isSameOrigin(e))return n.call(r,!1);if(Faye.ENV.XDomainRequest)return n.call(r,e.protocol===Faye.ENV.location.protocol);if(Faye.ENV.XMLHttpRequest){var i=new Faye.ENV.XMLHttpRequest;return n.call(r,void 0!==i.withCredentials)}return n.call(r,!1)}}),Faye.Transport.register("cross-origin-long-polling",Faye.Transport.CORS),Faye.Transport.JSONP=Faye.extend(Faye.Class(Faye.Transport,{encode:function(t){var e=Faye.copyObject(this.endpoint);return e.query.message=Faye.toJSON(t),e.query.jsonp="__jsonp"+Faye.Transport.JSONP._cbCount+"__",Faye.URI.stringify(e)},request:function(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("script"),r=Faye.Transport.JSONP.getCallbackName(),i=Faye.copyObject(this.endpoint),o=this;i.query.message=Faye.toJSON(t),i.query.jsonp=r;var s=function(){if(!Faye.ENV[r])return!1;Faye.ENV[r]=void 0;try{delete Faye.ENV[r]}catch(t){}n.parentNode.removeChild(n)};return Faye.ENV[r]=function(t){s(),o._receive(t)},n.type="text/javascript",n.src=Faye.URI.stringify(i),e.appendChild(n),n.onerror=function(){s(),o._handleError(t)},{abort:s}}}),{_cbCount:0,getCallbackName:function(){return this._cbCount+=1,"__jsonp"+this._cbCount+"__"},isUsable:function(t,e,n,r){n.call(r,!0)}}),Faye.Transport.register("callback-polling",Faye.Transport.JSONP)}()}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:44}],53:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],54:[function(t,e,n){"use strict";var l=t("asap");function f(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function h(t,e,n){var r=!1;try{t(function(t){r||(r=!0,e(t))},function(t){r||(r=!0,n(t))})}catch(t){if(r)return;r=!0,n(t)}}e.exports=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");var r=null,i=null,o=[],s=this;function a(n){null!==r?l(function(){var t=r?n.onFulfilled:n.onRejected;if(null!==t){var e;try{e=t(i)}catch(t){return void n.reject(t)}n.resolve(e)}else(r?n.resolve:n.reject)(i)}):o.push(n)}function u(t){r=!1,i=t,c()}function c(){for(var t=0,e=o.length;t<e;t++)a(o[t]);o=null}this.then=function(n,r){return new s.constructor(function(t,e){a(new f(n,r,t,e))})},h(t,function t(e){try{if(e===s)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void h(n.bind(e),t,u)}r=!0,i=e,c()}catch(t){u(t)}},u)}},{asap:56}],55:[function(t,e,n){"use strict";var i=t("./core.js"),o=t("asap");function r(r){this.then=function(n){return"function"!=typeof n?this:new i(function(t,e){o(function(){try{t(n(r))}catch(t){e(t)}})})}}e.exports=i,r.prototype=i.prototype;var s=new r(!0),a=new r(!1),u=new r(null),c=new r(void 0),l=new r(0),f=new r("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return u;if(void 0===t)return c;if(!0===t)return s;if(!1===t)return a;if(0===t)return l;if(""===t)return f;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new i(e.bind(t))}catch(n){return new i(function(t,e){e(n)})}return new r(t)},i.all=function(t){var a=Array.prototype.slice.call(t);return new i(function(r,i){if(0===a.length)return r([]);var o=a.length;function s(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){s(e,t)},i)}a[e]=t,0==--o&&r(a)}catch(t){i(t)}}for(var t=0;t<a.length;t++)s(t,a[t])})},i.reject=function(n){return new i(function(t,e){e(n)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},{"./core.js":54,asap:56}],56:[function(t,u,e){(function(e){var n={task:void 0,next:null},r=n,i=!1,o=void 0,s=!1;function a(){for(;n.next;){var t=(n=n.next).task;n.task=void 0;var e=n.domain;e&&(n.domain=void 0,e.enter());try{t()}catch(t){if(s)throw e&&e.exit(),setTimeout(a,0),e&&e.enter(),t;setTimeout(function(){throw t},0)}e&&e.exit()}i=!1}if(void 0!==e&&e.nextTick)s=!0,o=function(){e.nextTick(a)};else if("function"==typeof setImmediate)o="undefined"!=typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!=typeof MessageChannel){var t=new MessageChannel;t.port1.onmessage=a,o=function(){t.port2.postMessage(0)}}else o=function(){setTimeout(a,0)};u.exports=function(t){r=r.next={task:t,domain:s&&e.domain,next:null},i||(i=!0,o())}}).call(this,t("_process"))},{_process:44}],57:[function(t,e,n){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":58}],58:[function(t,e,n){var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=f;var i=t("process-nextick-args"),o=t("core-util-is");o.inherits=t("inherits");var s=t("./_stream_readable"),a=t("./_stream_writable");o.inherits(f,s);for(var u=r(a.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=a.prototype[l])}function f(t){if(!(this instanceof f))return new f(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i(p,this)}function p(t){t.end()}},{"./_stream_readable":60,"./_stream_writable":62,"core-util-is":63,inherits:53,"process-nextick-args":65}],59:[function(t,e,n){e.exports=o;var r=t("./_stream_transform"),i=t("core-util-is");function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=t("inherits"),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":61,"core-util-is":63,inherits:53}],60:[function(T,S,t){(function(g){"use strict";S.exports=n;var y=T("process-nextick-args"),v=T("isarray"),h=T("buffer").Buffer;n.ReadableState=e;var i,m=T("events").EventEmitter;m.listenerCount||(m.listenerCount=function(t,e){return t.listeners(e).length}),function(){try{i=T("stream")}catch(t){}finally{i||(i=T("events").EventEmitter)}}();h=T("buffer").Buffer;var t=T("core-util-is");t.inherits=T("inherits");var o,b=T("util");function e(t,e){var n=T("./_stream_duplex");t=t||{},this.objectMode=!!t.objectMode,e instanceof n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(o||(o=T("string_decoder/").StringDecoder),this.decoder=new o(t.encoding),this.encoding=t.encoding)}function n(t){T("./_stream_duplex");if(!(this instanceof n))return new n(t);this._readableState=new e(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),i.call(this)}function r(t,e,n,r,i){var o,s,a,u=function(t,e){var n=null;h.isBuffer(e)||"string"==typeof e||null==e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(e,n);if(u)t.emit("error",u);else if(null===n)e.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,l(t)}(t,e);else if(e.objectMode||n&&0<n.length)if(e.ended&&!i){var c=new Error("stream.push() after EOF");t.emit("error",c)}else if(e.endEmitted&&i){c=new Error("stream.unshift() after end event");t.emit("error",c)}else!e.decoder||i||r||(n=e.decoder.write(n)),i||(e.reading=!1),e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&l(t)),o=t,(s=e).readingMore||(s.readingMore=!0,y(f,o,s));else i||(e.reading=!1);return!(a=e).ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}b=b&&b.debuglog?b.debuglog("stream"):function(){},t.inherits(n,i),n.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=new h(t,e),e=""),r(this,n,t,e,!1)},n.prototype.unshift=function(t){return r(this,this._readableState,t,"",!0)},n.prototype.isPaused=function(){return!1===this._readableState.flowing},n.prototype.setEncoding=function(t){return o||(o=T("string_decoder/").StringDecoder),this._readableState.decoder=new o(t),this._readableState.encoding=t,this};var s=8388608;function a(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=function(t){if(s<=t)t=s;else{t--;for(var e=1;e<32;e<<=1)t|=t>>e;t++}return t}(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function l(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(b("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?y(u,t):u(t))}function u(t){b("emit readable"),t.emit("readable"),_(t)}function f(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(b("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function c(t){b("readable nexttick read 0"),t.read(0)}function p(t,e){e.reading||(b("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),_(t),e.flowing&&!e.reading&&t.read(0)}function _(t){var e=t._readableState;if(b("flow",e.flowing),e.flowing)do{var n=t.read()}while(null!==n&&e.flowing)}function d(t,e){var n,r=e.buffer,i=e.length,o=!!e.decoder,s=!!e.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!t||i<=t)n=o?r.join(""):h.concat(r,i),r.length=0;else{if(t<r[0].length)n=(l=r[0]).slice(0,t),r[0]=l.slice(t);else if(t===r[0].length)n=r.shift();else{n=o?"":new h(t);for(var a=0,u=0,c=r.length;u<c&&a<t;u++){var l=r[0],f=Math.min(t-a,l.length);o?n+=l.slice(0,f):l.copy(n,a,0,f),f<l.length?r[0]=l.slice(f):r.shift(),a+=f}}}return n}function w(t){var e=t._readableState;if(0<e.length)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,y(E,e,t))}function E(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}n.prototype.read=function(t){b("read",t);var e=this._readableState,n=t;if(("number"!=typeof t||0<t)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return b("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?w(this):l(this),null;if(0===(t=a(t,e))&&e.ended)return 0===e.length&&w(this),null;var r,i=e.needReadable;return b("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&b("length less than watermark",i=!0),(e.ended||e.reading)&&b("reading or ended",i=!1),i&&(b("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),i&&!e.reading&&(t=a(n,e)),null===(r=0<t?d(t,e):null)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&w(this),null!==r&&this.emit("data",r),r},n.prototype._read=function(t){this.emit("error",new Error("not implemented"))},n.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,b("pipe count=%d opts=%j",r.pipesCount,t);var i=(!t||!1!==t.end)&&e!==g.stdout&&e!==g.stderr?s:c;function o(t){b("onunpipe"),t===n&&c()}function s(){b("onend"),e.end()}r.endEmitted?y(i):n.once("end",i),e.on("unpipe",o);var a,u=(a=n,function(){var t=a._readableState;b("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&m.listenerCount(a,"data")&&(t.flowing=!0,_(a))});function c(){b("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",c),n.removeListener("data",l),!r.awaitDrain||e._writableState&&!e._writableState.needDrain||u()}function l(t){b("ondata"),!1===e.write(t)&&(b("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,n.pause())}function f(t){b("onerror",t),d(),e.removeListener("error",f),0===m.listenerCount(e,"error")&&e.emit("error",t)}function h(){e.removeListener("finish",p),d()}function p(){b("onfinish"),e.removeListener("close",h),d()}function d(){b("unpipe"),n.unpipe(e)}return e.on("drain",u),n.on("data",l),e._events&&e._events.error?v(e._events.error)?e._events.error.unshift(f):e._events.error=[f,e._events.error]:e.on("error",f),e.once("close",h),e.once("finish",p),e.emit("pipe",n),r.flowing||(b("pipe resume"),n.resume()),e},n.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(t)return-1===(i=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}(e.pipes,t))||(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this;var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this},n.prototype.addListener=n.prototype.on=function(t,e){var n=i.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&l(this):y(c,this))}return n},n.prototype.resume=function(){var t,e,n=this._readableState;return n.flowing||(b("resume"),n.flowing=!0,t=this,(e=n).resumeScheduled||(e.resumeScheduled=!0,y(p,t,e))),this},n.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this},n.prototype.wrap=function(e){var n=this._readableState,r=!1,i=this;for(var t in e.on("end",function(){if(b("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&i.push(t)}i.push(null)}),e.on("data",function(t){(b("wrapped data"),n.decoder&&(t=n.decoder.write(t)),n.objectMode&&null==t)||(n.objectMode||t&&t.length)&&(i.push(t)||(r=!0,e.pause()))}),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));return function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}(["error","close","destroy","pause","resume"],function(t){e.on(t,i.emit.bind(i,t))}),i._read=function(t){b("wrapped _read",t),r&&(r=!1,e.resume())},i},n._fromList=d}).call(this,T("_process"))},{"./_stream_duplex":58,_process:44,buffer:38,"core-util-is":63,events:42,inherits:53,isarray:64,"process-nextick-args":65,"string_decoder/":66,util:37}],61:[function(t,e,n){e.exports=s;var r=t("./_stream_duplex"),i=t("core-util-is");function o(n){this.afterTransform=function(t,e){return function(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,(r.writecb=null)!=n&&t.push(n);i&&i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(n,t,e)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState=new o(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){a(e,t)}):a(e)})}function a(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}i.inherits=t("inherits"),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./_stream_duplex":58,"core-util-is":63,inherits:53}],62:[function(s,t,e){t.exports=o;var u=s("process-nextick-args"),f=s("buffer").Buffer;o.WritableState=i;var n,r=s("core-util-is");r.inherits=s("inherits"),function(){try{n=s("stream")}catch(t){}finally{n||(n=s("events").EventEmitter)}}();f=s("buffer").Buffer;function c(){}function h(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function i(t,e){var n=s("./_stream_duplex");t=t||{},this.objectMode=!!t.objectMode,e instanceof n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1;var o=(this.finished=!1)===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(s=n,s.writing=!1,s.writecb=null,s.length-=s.writelen,s.writelen=0,e)!function(t,e,n,r,i){--e.pendingcb,n?u(i,r):i(r);t._writableState.errorEmitted=!0,t.emit("error",r)}(t,n,r,e,i);else{var o=d(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||l(t,n),r?u(a,t,n,o,i):a(t,n,o,i)}var s}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var e=s("./_stream_duplex");if(!(this instanceof o||this instanceof e))return new o(t);this._writableState=new i(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),n.call(this)}function p(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function a(t,e,n,r){var i,o;n||(i=t,0===(o=e).length&&o.needDrain&&(o.needDrain=!1,i.emit("drain"))),e.pendingcb--,r(),y(t,e)}function l(t,n){n.bufferProcessing=!0;var e=n.bufferedRequest;if(t._writev&&e&&e.next){for(var r=[],i=[];e;)i.push(e.callback),r.push(e),e=e.next;n.pendingcb++,n.lastBufferedRequest=null,p(t,n,!0,n.length,r,"",function(t){for(var e=0;e<i.length;e++)n.pendingcb--,i[e](t)})}else{for(;e;){var o=e.chunk,s=e.encoding,a=e.callback,u=n.objectMode?1:o.length;if(p(t,n,!1,u,o,s,a),e=e.next,n.writing)break}null===e&&(n.lastBufferedRequest=null)}n.bufferedRequest=e,n.bufferProcessing=!1}function d(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function g(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function y(t,e){var n=d(e);return n&&(0===e.pendingcb?(g(t,e),e.finished=!0,t.emit("finish")):g(t,e)),n}r.inherits(o,n),i.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(i.prototype,"buffer",{get:s("util-deprecate")(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer() instead.")})}catch(t){}}(),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(t,e,n){var r,i,o,s=this._writableState,a=!1;return"function"==typeof e&&(n=e,e=null),f.isBuffer(t)?e="buffer":e||(e=s.defaultEncoding),"function"!=typeof n&&(n=c),s.ended?(r=this,i=n,o=new Error("write after end"),r.emit("error",o),u(i,o)):function(t,e,n,r){var i=!0;if(!f.isBuffer(n)&&"string"!=typeof n&&null!=n&&!e.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");t.emit("error",o),u(r,o),i=!1}return i}(this,s,t,n)&&(s.pendingcb++,a=function(t,e,n,r,i){o=e,s=n,a=r,o.objectMode||!1===o.decodeStrings||"string"!=typeof s||(s=new f(s,a)),n=s,f.isBuffer(n)&&(r="buffer");var o,s,a;var u=e.objectMode?1:n.length;e.length+=u;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest=new h(n,r,i),l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest}else p(t,e,!1,u,n,r,i);return c}(this,s,t,e,n)),a},o.prototype.cork=function(){this._writableState.corked++},o.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||l(this,t))},o.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t},o.prototype._write=function(t,e,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,e=t=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,y(t,e),n&&(e.finished?u(n):t.once("finish",n));e.ended=!0}(this,r,n)}},{"./_stream_duplex":58,buffer:38,"core-util-is":63,events:42,inherits:53,"process-nextick-args":65,"util-deprecate":67}],63:[function(t,e,i){(function(e){function n(t){return"object"==typeof t&&null!==t}function r(t){return Object.prototype.toString.call(t)}i.isArray=function(t){return Array.isArray(t)},i.isBoolean=function(t){return"boolean"==typeof t},i.isNull=function(t){return null===t},i.isNullOrUndefined=function(t){return null==t},i.isNumber=function(t){return"number"==typeof t},i.isString=function(t){return"string"==typeof t},i.isSymbol=function(t){return"symbol"==typeof t},i.isUndefined=function(t){return void 0===t},i.isRegExp=function(t){return n(t)&&"[object RegExp]"===r(t)},i.isObject=n,i.isDate=function(t){return n(t)&&"[object Date]"===r(t)},i.isError=function(t){return n(t)&&("[object Error]"===r(t)||t instanceof Error)},i.isFunction=function(t){return"function"==typeof t},i.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},i.isBuffer=function(t){return e.isBuffer(t)}}).call(this,t("buffer").Buffer)},{buffer:38}],64:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],65:[function(t,e,n){(function(r){"use strict";e.exports=function(t){var e=new Array(arguments.length-1),n=0;for(;n<arguments.length;)e[n++]=arguments[n];r.nextTick(function(){t.apply(null,e)})}}).call(this,t("_process"))},{_process:44}],66:[function(t,e,n){arguments[4][49][0].apply(n,arguments)},{buffer:38,dup:49}],67:[function(t,e,n){(function(n){function r(t){if(!n.localStorage)return!1;var e=n.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}e.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],68:[function(t,e,n){e.exports=t("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":59}],69:[function(t,e,n){var r=function(){try{return t("stream")}catch(t){}}();(n=e.exports=t("./lib/_stream_readable.js")).Stream=r||n,(n.Readable=n).Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":58,"./lib/_stream_passthrough.js":59,"./lib/_stream_readable.js":60,"./lib/_stream_transform.js":61,"./lib/_stream_writable.js":62}],70:[function(t,e,n){e.exports=t("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":61}],71:[function(t,e,n){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":62}],72:[function(a,u,t){(function(t){u.exports=o;var e=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},n=a("core-util-is");n.inherits=a("inherits");var r=a("./_stream_readable"),i=a("./_stream_writable");function o(t){if(!(this instanceof o))return new o(t);r.call(this,t),i.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",s)}function s(){this.allowHalfOpen||this._writableState.ended||t.nextTick(this.end.bind(this))}n.inherits(o,r),function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}(e(i.prototype),function(t){o.prototype[t]||(o.prototype[t]=i.prototype[t])})}).call(this,a("_process"))},{"./_stream_readable":73,"./_stream_writable":75,_process:44,"core-util-is":76,inherits:53}],73:[function(d,t,e){(function(g){t.exports=n;var y=d("isarray"),h=d("buffer").Buffer;n.ReadableState=e;var v=d("events").EventEmitter;v.listenerCount||(v.listenerCount=function(t,e){return t.listeners(e).length});var o,s=d("stream"),l=d("core-util-is");l.inherits=d("inherits");var m=d("util");function e(t,e){var n=d("./_stream_duplex"),r=(t=t||{}).highWaterMark,i=t.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,e instanceof n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(o||(o=d("string_decoder/").StringDecoder),this.decoder=new o(t.encoding),this.encoding=t.encoding)}function n(t){d("./_stream_duplex");if(!(this instanceof n))return new n(t);this._readableState=new e(t,this),this.readable=!0,s.call(this)}function r(t,e,n,r,i){var o,s,a,u=function(t,e){var n=null;l.isBuffer(e)||l.isString(e)||l.isNullOrUndefined(e)||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(e,n);if(u)t.emit("error",u);else if(l.isNullOrUndefined(n))e.reading=!1,e.ended||function(t,e){if(e.decoder&&!e.ended){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,f(t)}(t,e);else if(e.objectMode||n&&0<n.length)if(e.ended&&!i){var c=new Error("stream.push() after EOF");t.emit("error",c)}else if(e.endEmitted&&i){c=new Error("stream.unshift() after end event");t.emit("error",c)}else!e.decoder||i||r||(n=e.decoder.write(n)),i||(e.reading=!1),e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&f(t)),o=t,(s=e).readingMore||(s.readingMore=!0,g.nextTick(function(){!function(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(m("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}(o,s)}));else i||(e.reading=!1);return!(a=e).ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}m=m&&m.debuglog?m.debuglog("stream"):function(){},l.inherits(n,s),n.prototype.push=function(t,e){var n=this._readableState;return l.isString(t)&&!n.objectMode&&(e=e||n.defaultEncoding)!==n.encoding&&(t=new h(t,e),e=""),r(this,n,t,e,!1)},n.prototype.unshift=function(t){return r(this,this._readableState,t,"",!0)},n.prototype.setEncoding=function(t){return o||(o=d("string_decoder/").StringDecoder),this._readableState.decoder=new o(t),this._readableState.encoding=t,this};var i=8388608;function a(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||l.isNull(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=function(t){if(i<=t)t=i;else{t--;for(var e=1;e<32;e<<=1)t|=t>>e;t++}return t}(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function f(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(m("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?g.nextTick(function(){u(t)}):u(t))}function u(t){m("emit readable"),t.emit("readable"),b(t)}function b(t){var e=t._readableState;if(m("flow",e.flowing),e.flowing)do{var n=t.read()}while(null!==n&&e.flowing)}function c(t,e){var n,r=e.buffer,i=e.length,o=!!e.decoder,s=!!e.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!t||i<=t)n=o?r.join(""):h.concat(r,i),r.length=0;else{if(t<r[0].length)n=(l=r[0]).slice(0,t),r[0]=l.slice(t);else if(t===r[0].length)n=r.shift();else{n=o?"":new h(t);for(var a=0,u=0,c=r.length;u<c&&a<t;u++){var l=r[0],f=Math.min(t-a,l.length);o?n+=l.slice(0,f):l.copy(n,a,0,f),f<l.length?r[0]=l.slice(f):r.shift(),a+=f}}}return n}function p(t){var e=t._readableState;if(0<e.length)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,g.nextTick(function(){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}))}n.prototype.read=function(t){m("read",t);var e=this._readableState,n=t;if((!l.isNumber(t)||0<t)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return m("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?p(this):f(this),null;if(0===(t=a(t,e))&&e.ended)return 0===e.length&&p(this),null;var r,i=e.needReadable;return m("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&m("length less than watermark",i=!0),(e.ended||e.reading)&&m("reading or ended",i=!1),i&&(m("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),i&&!e.reading&&(t=a(n,e)),r=0<t?c(t,e):null,l.isNull(r)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&p(this),l.isNull(r)||this.emit("data",r),r},n.prototype._read=function(t){this.emit("error",new Error("not implemented"))},n.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,m("pipe count=%d opts=%j",r.pipesCount,t);var i=(!t||!1!==t.end)&&e!==g.stdout&&e!==g.stderr?s:c;function o(t){m("onunpipe"),t===n&&c()}function s(){m("onend"),e.end()}r.endEmitted?g.nextTick(i):n.once("end",i),e.on("unpipe",o);var a,u=(a=n,function(){var t=a._readableState;m("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&v.listenerCount(a,"data")&&(t.flowing=!0,b(a))});function c(){m("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",c),n.removeListener("data",l),!r.awaitDrain||e._writableState&&!e._writableState.needDrain||u()}function l(t){m("ondata"),!1===e.write(t)&&(m("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,n.pause())}function f(t){m("onerror",t),d(),e.removeListener("error",f),0===v.listenerCount(e,"error")&&e.emit("error",t)}function h(){e.removeListener("finish",p),d()}function p(){m("onfinish"),e.removeListener("close",h),d()}function d(){m("unpipe"),n.unpipe(e)}return e.on("drain",u),n.on("data",l),e._events&&e._events.error?y(e._events.error)?e._events.error.unshift(f):e._events.error=[f,e._events.error]:e.on("error",f),e.once("close",h),e.once("finish",p),e.emit("pipe",n),r.flowing||(m("pipe resume"),n.resume()),e},n.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(t)return-1===(i=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}(e.pipes,t))||(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this;var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this},n.prototype.addListener=n.prototype.on=function(t,e){var n=s.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&this.readable){var r=this._readableState;if(!r.readableListening)if(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading)r.length&&f(this);else{var i=this;g.nextTick(function(){m("readable nexttick read 0"),i.read(0)})}}return n},n.prototype.resume=function(){var n,r,t=this._readableState;return t.flowing||(m("resume"),t.flowing=!0,t.reading||(m("resume read 0"),this.read(0)),n=this,(r=t).resumeScheduled||(r.resumeScheduled=!0,g.nextTick(function(){var t,e;t=n,(e=r).resumeScheduled=!1,t.emit("resume"),b(t),e.flowing&&!e.reading&&t.read(0)}))),this},n.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},n.prototype.wrap=function(e){var n=this._readableState,r=!1,i=this;for(var t in e.on("end",function(){if(m("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&i.push(t)}i.push(null)}),e.on("data",function(t){(m("wrapped data"),n.decoder&&(t=n.decoder.write(t)),t&&(n.objectMode||t.length))&&(i.push(t)||(r=!0,e.pause()))}),e)l.isFunction(e[t])&&l.isUndefined(this[t])&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));return function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}(["error","close","destroy","pause","resume"],function(t){e.on(t,i.emit.bind(i,t))}),i._read=function(t){m("wrapped _read",t),r&&(r=!1,e.resume())},i},n._fromList=c}).call(this,d("_process"))},{"./_stream_duplex":72,_process:44,buffer:38,"core-util-is":76,events:42,inherits:53,isarray:77,stream:48,"string_decoder/":78,util:37}],74:[function(t,e,n){e.exports=o;var r=t("./_stream_duplex"),s=t("core-util-is");function i(t,n){this.afterTransform=function(t,e){return function(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,s.isNullOrUndefined(n)||t.push(n);i&&i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(n,t,e)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function o(t){if(!(this instanceof o))return new o(t);r.call(this,t),this._transformState=new i(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){s.isFunction(this._flush)?this._flush(function(t){a(e,t)}):a(e)})}function a(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}s.inherits=t("inherits"),s.inherits(o,r),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;s.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},{"./_stream_duplex":72,"core-util-is":76,inherits:53}],75:[function(g,t,e){(function(u){t.exports=i;var l=g("buffer").Buffer;i.WritableState=r;var f=g("core-util-is");f.inherits=g("inherits");var n=g("stream");function h(t,e,n){this.chunk=t,this.encoding=e,this.callback=n}function r(t,e){var n=g("./_stream_duplex"),r=(t=t||{}).highWaterMark,i=t.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.objectMode=!!t.objectMode,e instanceof n&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1;var o=(this.finished=!1)===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(s=n,s.writing=!1,s.writecb=null,s.length-=s.writelen,s.writelen=0,e)!function(t,e,n,r,i){n?u.nextTick(function(){e.pendingcb--,i(r)}):(e.pendingcb--,i(r));t._writableState.errorEmitted=!0,t.emit("error",r)}(t,n,r,e,i);else{var o=d(t,n);o||n.corked||n.bufferProcessing||!n.buffer.length||c(t,n),r?u.nextTick(function(){a(t,n,o,i)}):a(t,n,o,i)}var s}(e,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function i(t){var e=g("./_stream_duplex");if(!(this instanceof i||this instanceof e))return new i(t);this._writableState=new r(t,this),this.writable=!0,n.call(this)}function p(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function a(t,e,n,r){var i,o;n||(i=t,0===(o=e).length&&o.needDrain&&(o.needDrain=!1,i.emit("drain"))),e.pendingcb--,r(),s(t,e)}function c(t,n){if(n.bufferProcessing=!0,t._writev&&1<n.buffer.length){for(var r=[],e=0;e<n.buffer.length;e++)r.push(n.buffer[e].callback);n.pendingcb++,p(t,n,!0,n.length,n.buffer,"",function(t){for(var e=0;e<r.length;e++)n.pendingcb--,r[e](t)}),n.buffer=[]}else{for(e=0;e<n.buffer.length;e++){var i=n.buffer[e],o=i.chunk,s=i.encoding,a=i.callback,u=n.objectMode?1:o.length;if(p(t,n,!1,u,o,s,a),n.writing){e++;break}}e<n.buffer.length?n.buffer=n.buffer.slice(e):n.buffer.length=0}n.bufferProcessing=!1}function d(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function o(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function s(t,e){var n=d(0,e);return n&&(0===e.pendingcb?(o(t,e),e.finished=!0,t.emit("finish")):o(t,e)),n}f.inherits(i,n),i.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},i.prototype.write=function(t,e,n){var r,i,o,s=this._writableState,a=!1;return f.isFunction(e)&&(n=e,e=null),f.isBuffer(t)?e="buffer":e||(e=s.defaultEncoding),f.isFunction(n)||(n=function(){}),s.ended?(r=this,i=n,o=new Error("write after end"),r.emit("error",o),u.nextTick(function(){i(o)})):function(t,e,n,r){var i=!0;if(!(f.isBuffer(n)||f.isString(n)||f.isNullOrUndefined(n)||e.objectMode)){var o=new TypeError("Invalid non-string/buffer chunk");t.emit("error",o),u.nextTick(function(){r(o)}),i=!1}return i}(this,s,t,n)&&(s.pendingcb++,a=function(t,e,n,r,i){o=e,s=n,a=r,!o.objectMode&&!1!==o.decodeStrings&&f.isString(s)&&(s=new l(s,a)),n=s,f.isBuffer(n)&&(r="buffer");var o,s,a;var u=e.objectMode?1:n.length;e.length+=u;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);e.writing||e.corked?e.buffer.push(new h(n,r,i)):p(t,e,!1,u,n,r,i);return c}(this,s,t,e,n)),a},i.prototype.cork=function(){this._writableState.corked++},i.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.buffer.length||c(this,t))},i.prototype._write=function(t,e,n){n(new Error("not implemented"))},i.prototype._writev=null,i.prototype.end=function(t,e,n){var r=this._writableState;f.isFunction(t)?(n=t,e=t=null):f.isFunction(e)&&(n=e,e=null),f.isNullOrUndefined(t)||this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,s(t,e),n&&(e.finished?u.nextTick(n):t.once("finish",n));e.ended=!0}(this,r,n)}}).call(this,g("_process"))},{"./_stream_duplex":72,_process:44,buffer:38,"core-util-is":76,inherits:53,stream:48}],76:[function(t,e,n){arguments[4][63][0].apply(n,arguments)},{buffer:38,dup:63}],77:[function(t,e,n){arguments[4][64][0].apply(n,arguments)},{dup:64}],78:[function(t,e,n){arguments[4][49][0].apply(n,arguments)},{buffer:38,dup:49}],79:[function(t,e,n){arguments[4][70][0].apply(n,arguments)},{"./lib/_stream_transform.js":74,dup:70}],80:[function(t,e,n){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}},{}],81:[function(r,u,t){(function(n){var e=r("readable-stream/transform"),i=r("util").inherits,o=r("xtend");function s(t){e.call(this,t),this._destroyed=!1}function a(t,e,n){n(null,t)}function t(r){return function(t,e,n){return"function"==typeof t&&(n=e,e=t,t={}),"function"!=typeof e&&(e=a),"function"!=typeof n&&(n=null),r(t,e,n)}}i(s,e),s.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;n.nextTick(function(){t&&e.emit("error",t),e.emit("close")})}},u.exports=t(function(t,e,n){var r=new s(t);return r._transform=e,n&&(r._flush=n),r}),u.exports.ctor=t(function(e,t,n){function r(t){if(!(this instanceof r))return new r(t);this.options=o(e,t),s.call(this,this.options)}return i(r,s),r.prototype._transform=t,n&&(r.prototype._flush=n),r}),u.exports.obj=t(function(t,e,n){var r=new s(o({objectMode:!0,highWaterMark:16},t));return r._transform=e,n&&(r._flush=n),r})}).call(this,r("_process"))},{_process:44,"readable-stream/transform":79,util:51,xtend:80}],82:[function(t,B,V){(function(){var t=this,e=t._,r=Array.prototype,s=Object.prototype,n=Function.prototype,i=r.push,u=r.slice,f=s.toString,o=s.hasOwnProperty,a=Array.isArray,c=Object.keys,l=n.bind,h=Object.create,p=function(){},d=function(t){return t instanceof d?t:this instanceof d?void(this._wrapped=t):new d(t)};void 0!==V?(void 0!==B&&B.exports&&(V=B.exports=d),V._=d):t._=d,d.VERSION="1.8.3";var g=function(i,o,t){if(void 0===o)return i;switch(null==t?3:t){case 1:return function(t){return i.call(o,t)};case 2:return function(t,e){return i.call(o,t,e)};case 3:return function(t,e,n){return i.call(o,t,e,n)};case 4:return function(t,e,n,r){return i.call(o,t,e,n,r)}}return function(){return i.apply(o,arguments)}},y=function(t,e,n){return null==t?d.identity:d.isFunction(t)?g(t,e,n):d.isObject(t)?d.matcher(t):d.property(t)};d.iteratee=function(t,e){return y(t,e,1/0)};var v=function(u,c){return function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var r=arguments[n],i=u(r),o=i.length,s=0;s<o;s++){var a=i[s];c&&void 0!==t[a]||(t[a]=r[a])}return t}},m=function(t){if(!d.isObject(t))return{};if(h)return h(t);p.prototype=t;var e=new p;return p.prototype=null,e},b=function(e){return function(t){return null==t?void 0:t[e]}},_=Math.pow(2,53)-1,w=b("length"),E=function(t){var e=w(t);return"number"==typeof e&&0<=e&&e<=_};function T(a){return function(t,e,n,r){e=g(e,r,4);var i=!E(t)&&d.keys(t),o=(i||t).length,s=0<a?0:o-1;return arguments.length<3&&(n=t[i?i[s]:s],s+=a),function(t,e,n,r,i,o){for(;0<=i&&i<o;i+=a){var s=r?r[i]:i;n=e(n,t[s],s,t)}return n}(t,e,n,i,s,o)}}d.each=d.forEach=function(t,e,n){var r,i;if(e=g(e,n),E(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=d.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},d.map=d.collect=function(t,e,n){e=y(e,n);for(var r=!E(t)&&d.keys(t),i=(r||t).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=e(t[a],a,t)}return o},d.reduce=d.foldl=d.inject=T(1),d.reduceRight=d.foldr=T(-1),d.find=d.detect=function(t,e,n){var r;if(void 0!==(r=E(t)?d.findIndex(t,e,n):d.findKey(t,e,n))&&-1!==r)return t[r]},d.filter=d.select=function(t,r,e){var i=[];return r=y(r,e),d.each(t,function(t,e,n){r(t,e,n)&&i.push(t)}),i},d.reject=function(t,e,n){return d.filter(t,d.negate(y(e)),n)},d.every=d.all=function(t,e,n){e=y(e,n);for(var r=!E(t)&&d.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(!e(t[s],s,t))return!1}return!0},d.some=d.any=function(t,e,n){e=y(e,n);for(var r=!E(t)&&d.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(e(t[s],s,t))return!0}return!1},d.contains=d.includes=d.include=function(t,e,n,r){return E(t)||(t=d.values(t)),("number"!=typeof n||r)&&(n=0),0<=d.indexOf(t,e,n)},d.invoke=function(t,n){var r=u.call(arguments,2),i=d.isFunction(n);return d.map(t,function(t){var e=i?n:t[n];return null==e?e:e.apply(t,r)})},d.pluck=function(t,e){return d.map(t,d.property(e))},d.where=function(t,e){return d.filter(t,d.matcher(e))},d.findWhere=function(t,e){return d.find(t,d.matcher(e))},d.max=function(t,r,e){var n,i,o=-1/0,s=-1/0;if(null==r&&null!=t)for(var a=0,u=(t=E(t)?t:d.values(t)).length;a<u;a++)n=t[a],o<n&&(o=n);else r=y(r,e),d.each(t,function(t,e,n){i=r(t,e,n),(s<i||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},d.min=function(t,r,e){var n,i,o=1/0,s=1/0;if(null==r&&null!=t)for(var a=0,u=(t=E(t)?t:d.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else r=y(r,e),d.each(t,function(t,e,n){((i=r(t,e,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},d.shuffle=function(t){for(var e,n=E(t)?t:d.values(t),r=n.length,i=Array(r),o=0;o<r;o++)(e=d.random(0,o))!==o&&(i[o]=i[e]),i[e]=n[o];return i},d.sample=function(t,e,n){return null==e||n?(E(t)||(t=d.values(t)),t[d.random(t.length-1)]):d.shuffle(t).slice(0,Math.max(0,e))},d.sortBy=function(t,r,e){return r=y(r,e),d.pluck(d.map(t,function(t,e,n){return{value:t,index:e,criteria:r(t,e,n)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(r<n||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var S=function(s){return function(r,i,t){var o={};return i=y(i,t),d.each(r,function(t,e){var n=i(t,e,r);s(o,t,n)}),o}};d.groupBy=S(function(t,e,n){d.has(t,n)?t[n].push(e):t[n]=[e]}),d.indexBy=S(function(t,e,n){t[n]=e}),d.countBy=S(function(t,e,n){d.has(t,n)?t[n]++:t[n]=1}),d.toArray=function(t){return t?d.isArray(t)?u.call(t):E(t)?d.map(t,d.identity):d.values(t):[]},d.size=function(t){return null==t?0:E(t)?t.length:d.keys(t).length},d.partition=function(t,r,e){r=y(r,e);var i=[],o=[];return d.each(t,function(t,e,n){(r(t,e,n)?i:o).push(t)}),[i,o]},d.first=d.head=d.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:d.initial(t,t.length-e)},d.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},d.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:d.rest(t,Math.max(0,t.length-e))},d.rest=d.tail=d.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},d.compact=function(t){return d.filter(t,d.identity)};var x=function(t,e,n,r){for(var i=[],o=0,s=r||0,a=w(t);s<a;s++){var u=t[s];if(E(u)&&(d.isArray(u)||d.isArguments(u))){e||(u=x(u,e,n));var c=0,l=u.length;for(i.length+=l;c<l;)i[o++]=u[c++]}else n||(i[o++]=u)}return i};function C(o){return function(t,e,n){e=y(e,n);for(var r=w(t),i=0<o?0:r-1;0<=i&&i<r;i+=o)if(e(t[i],i,t))return i;return-1}}function k(o,s,a){return function(t,e,n){var r=0,i=w(t);if("number"==typeof n)0<o?r=0<=n?n:Math.max(n+i,r):i=0<=n?Math.min(n+1,i):n+i+1;else if(a&&n&&i)return t[n=a(t,e)]===e?n:-1;if(e!=e)return 0<=(n=s(u.call(t,r,i),d.isNaN))?n+r:-1;for(n=0<o?r:i-1;0<=n&&n<i;n+=o)if(t[n]===e)return n;return-1}}d.flatten=function(t,e){return x(t,e,!1)},d.without=function(t){return d.difference(t,u.call(arguments,1))},d.uniq=d.unique=function(t,e,n,r){d.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=y(n,r));for(var i=[],o=[],s=0,a=w(t);s<a;s++){var u=t[s],c=n?n(u,s,t):u;e?(s&&o===c||i.push(u),o=c):n?d.contains(o,c)||(o.push(c),i.push(u)):d.contains(i,u)||i.push(u)}return i},d.union=function(){return d.uniq(x(arguments,!0,!0))},d.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=w(t);r<i;r++){var o=t[r];if(!d.contains(e,o)){for(var s=1;s<n&&d.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},d.difference=function(t){var e=x(arguments,!0,!0,1);return d.filter(t,function(t){return!d.contains(e,t)})},d.zip=function(){return d.unzip(arguments)},d.unzip=function(t){for(var e=t&&d.max(t,w).length||0,n=Array(e),r=0;r<e;r++)n[r]=d.pluck(t,r);return n},d.object=function(t,e){for(var n={},r=0,i=w(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},d.findIndex=C(1),d.findLastIndex=C(-1),d.sortedIndex=function(t,e,n,r){for(var i=(n=y(n,r,1))(e),o=0,s=w(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<i?o=a+1:s=a}return o},d.indexOf=k(1,d.findIndex,d.sortedIndex),d.lastIndexOf=k(-1,d.findLastIndex),d.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i};var A=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=m(t.prototype),s=t.apply(o,i);return d.isObject(s)?s:o};d.bind=function(t,e){if(l&&t.bind===l)return l.apply(t,u.call(arguments,1));if(!d.isFunction(t))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),r=function(){return A(t,r,e,this,n.concat(u.call(arguments)))};return r},d.partial=function(i){var o=u.call(arguments,1),s=function(){for(var t=0,e=o.length,n=Array(e),r=0;r<e;r++)n[r]=o[r]===d?arguments[t++]:o[r];for(;t<arguments.length;)n.push(arguments[t++]);return A(i,s,this,this,n)};return s},d.bindAll=function(t){var e,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)t[n=arguments[e]]=d.bind(t[n],t);return t},d.memoize=function(r,i){var o=function(t){var e=o.cache,n=""+(i?i.apply(this,arguments):t);return d.has(e,n)||(e[n]=r.apply(this,arguments)),e[n]};return o.cache={},o},d.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},d.defer=d.partial(d.delay,d,1),d.throttle=function(n,r,i){var o,s,a,u=null,c=0;i||(i={});var l=function(){c=!1===i.leading?0:d.now(),u=null,a=n.apply(o,s),u||(o=s=null)};return function(){var t=d.now();c||!1!==i.leading||(c=t);var e=r-(t-c);return o=this,s=arguments,e<=0||r<e?(u&&(clearTimeout(u),u=null),c=t,a=n.apply(o,s),u||(o=s=null)):u||!1===i.trailing||(u=setTimeout(l,e)),a}},d.debounce=function(e,n,r){var i,o,s,a,u,c=function(){var t=d.now()-a;t<n&&0<=t?i=setTimeout(c,n-t):(i=null,r||(u=e.apply(s,o),i||(s=o=null)))};return function(){s=this,o=arguments,a=d.now();var t=r&&!i;return i||(i=setTimeout(c,n)),t&&(u=e.apply(s,o),s=o=null),u}},d.wrap=function(t,e){return d.partial(e,t)},d.negate=function(t){return function(){return!t.apply(this,arguments)}},d.compose=function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},d.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},d.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},d.once=d.partial(d.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var n=I.length,r=t.constructor,i=d.isFunction(r)&&r.prototype||s,o="constructor";for(d.has(t,o)&&!d.contains(e,o)&&e.push(o);n--;)(o=I[n])in t&&t[o]!==i[o]&&!d.contains(e,o)&&e.push(o)}d.keys=function(t){if(!d.isObject(t))return[];if(c)return c(t);var e=[];for(var n in t)d.has(t,n)&&e.push(n);return O&&N(t,e),e},d.allKeys=function(t){if(!d.isObject(t))return[];var e=[];for(var n in t)e.push(n);return O&&N(t,e),e},d.values=function(t){for(var e=d.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},d.mapObject=function(t,e,n){e=y(e,n);for(var r,i=d.keys(t),o=i.length,s={},a=0;a<o;a++)s[r=i[a]]=e(t[r],r,t);return s},d.pairs=function(t){for(var e=d.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},d.invert=function(t){for(var e={},n=d.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},d.functions=d.methods=function(t){var e=[];for(var n in t)d.isFunction(t[n])&&e.push(n);return e.sort()},d.extend=v(d.allKeys),d.extendOwn=d.assign=v(d.keys),d.findKey=function(t,e,n){e=y(e,n);for(var r,i=d.keys(t),o=0,s=i.length;o<s;o++)if(e(t[r=i[o]],r,t))return r},d.pick=function(t,e,n){var r,i,o={},s=t;if(null==s)return o;d.isFunction(e)?(i=d.allKeys(s),r=g(e,n)):(i=x(arguments,!1,!1,1),r=function(t,e,n){return e in n},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],l=s[c];r(l,c,s)&&(o[c]=l)}return o},d.omit=function(t,e,n){if(d.isFunction(e))e=d.negate(e);else{var r=d.map(x(arguments,!1,!1,1),String);e=function(t,e){return!d.contains(r,e)}}return d.pick(t,e,n)},d.defaults=v(d.allKeys,!0),d.create=function(t,e){var n=m(t);return e&&d.extendOwn(n,e),n},d.clone=function(t){return d.isObject(t)?d.isArray(t)?t.slice():d.extend({},t):t},d.tap=function(t,e){return e(t),t},d.isMatch=function(t,e){var n=d.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var s=n[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var j=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof d&&(t=t._wrapped),e instanceof d&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(d.isFunction(s)&&s instanceof s&&d.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!j(t[u],e[u],n,r))return!1}else{var c,l=d.keys(t);if(u=l.length,d.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!d.has(e,c)||!j(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0};d.isEqual=function(t,e){return j(t,e)},d.isEmpty=function(t){return null==t||(E(t)&&(d.isArray(t)||d.isString(t)||d.isArguments(t))?0===t.length:0===d.keys(t).length)},d.isElement=function(t){return!(!t||1!==t.nodeType)},d.isArray=a||function(t){return"[object Array]"===f.call(t)},d.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},d.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){d["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),d.isArguments(arguments)||(d.isArguments=function(t){return d.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(d.isFunction=function(t){return"function"==typeof t||!1}),d.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},d.isNaN=function(t){return d.isNumber(t)&&t!==+t},d.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},d.isNull=function(t){return null===t},d.isUndefined=function(t){return void 0===t},d.has=function(t,e){return null!=t&&o.call(t,e)},d.noConflict=function(){return t._=e,this},d.identity=function(t){return t},d.constant=function(t){return function(){return t}},d.noop=function(){},d.property=b,d.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},d.matcher=d.matches=function(e){return e=d.extendOwn({},e),function(t){return d.isMatch(t,e)}},d.times=function(t,e,n){var r=Array(Math.max(0,t));e=g(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},d.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},d.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=d.invert(D),F=function(e){var n=function(t){return e[t]},t="(?:"+d.keys(e).join("|")+")",r=RegExp(t),i=RegExp(t,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,n):t}};d.escape=F(D),d.unescape=F(R),d.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),d.isFunction(r)?r.call(t):r};var L=0;d.uniqueId=function(t){var e=++L+"";return t?t+e:e},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\u2028|\u2029/g,$=function(t){return"\\"+M[t]};d.template=function(o,t,e){!t&&e&&(t=e),t=d.defaults({},t,d.templateSettings);var n=RegExp([(t.escape||U).source,(t.interpolate||U).source,(t.evaluate||U).source].join("|")+"|$","g"),s=0,a="__p+='";o.replace(n,function(t,e,n,r,i){return a+=o.slice(s,i).replace(P,$),s=i+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var r=new Function(t.variable||"obj","_",a)}catch(t){throw t.source=a,t}var i=function(t){return r.call(this,t,d)},u=t.variable||"obj";return i.source="function("+u+"){\n"+a+"}",i},d.chain=function(t){var e=d(t);return e._chain=!0,e};var q=function(t,e){return t._chain?d(e).chain():e};d.mixin=function(n){d.each(d.functions(n),function(t){var e=d[t]=n[t];d.prototype[t]=function(){var t=[this._wrapped];return i.apply(t,arguments),q(this,e.apply(d,t))}})},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=r[e];d.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],q(this,t)}}),d.each(["concat","join","slice"],function(t){var e=r[t];d.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},d.prototype.valueOf=d.prototype.toJSON=d.prototype.value,d.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return d})}).call(this)},{}],83:[function(t,e,n){(function(){"use strict";t("../lib/xml2js"),n.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},{"../lib/xml2js":85}],84:[function(t,e,n){(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),n.normalize=function(t){return t.toLowerCase()},n.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},n.stripPrefix=function(t){return t.replace(e,"")},n.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},n.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},{}],85:[function(a,t,v){(function(){"use strict";var r,i,e,t,d,g,o,h,u,p,n=function(t,e){for(var n in e)y.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},y={}.hasOwnProperty,s=function(t,e){return function(){return t.apply(e,arguments)}};u=a("sax"),t=a("events"),i=a("xmlbuilder"),r=a("./bom"),o=a("./processors"),d=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},g=function(t,e){var n,r;for(n=0,r=t.length;n<r;n++)e=(0,t[n])(e);return e},h=function(t){return 0<=t.indexOf("&")||0<=t.indexOf(">")||0<=t.indexOf("<")},p=function(t){return"<![CDATA["+e(t)+"]]>"},e=function(t){return t.replace("]]>","]]]]><![CDATA[>")},v.processors=o,v.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,async:!1,strict:!0,attrNameProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,async:!1,strict:!0,attrNameProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}},v.ValidationError=function(t){function e(t){this.message=t}return n(e,t),e}(Error),v.Builder=function(){function t(t){var e,n,r;for(e in this.options={},n=v.defaults[.2])y.call(n,e)&&(r=n[e],this.options[e]=r);for(e in t)y.call(t,e)&&(r=t[e],this.options[e]=r)}return t.prototype.buildObject=function(t){var u,c,l,e,n,f;return u=this.options.attrkey,c=this.options.charkey,1===Object.keys(t).length&&this.options.rootName===v.defaults[.2].rootName?t=t[n=Object.keys(t)[0]]:n=this.options.rootName,f=this,l=function(t,e){var n,r,i,o,s,a;if("object"!=typeof e)f.options.cdata&&h(e)?t.raw(p(e)):t.txt(e);else for(s in e)if(y.call(e,s))if(r=e[s],s===u){if("object"==typeof r)for(n in r)a=r[n],t=t.att(n,a)}else if(s===c)t=f.options.cdata&&h(r)?t.raw(p(r)):t.txt(r);else if(Array.isArray(r))for(o in r)y.call(r,o)&&(t="string"==typeof(i=r[o])?f.options.cdata&&h(i)?t.ele(s).raw(p(i)).up():t.ele(s,i).up():l(t.ele(s),i).up());else t="object"==typeof r?l(t.ele(s),r).up():"string"==typeof r&&f.options.cdata&&h(r)?t.ele(s).raw(p(r)).up():t.ele(s,r.toString()).up();return t},e=i.create(n,this.options.xmldec,this.options.doctype,{headless:this.options.headless}),l(e,t).end(this.options.renderOpts)},t}(),v.Parser=function(t){function e(t){var e,n,r;if(this.parseString=s(this.parseString,this),this.reset=s(this.reset,this),this.assignOrPush=s(this.assignOrPush,this),this.processAsync=s(this.processAsync,this),!(this instanceof v.Parser))return new v.Parser(t);for(e in this.options={},n=v.defaults[.2])y.call(n,e)&&(r=n[e],this.options[e]=r);for(e in t)y.call(t,e)&&(r=t[e],this.options[e]=r);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(o.normalize)),this.reset()}return n(e,t),e.prototype.processAsync=function(){var t;return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),setImmediate(this.processAsync))},e.prototype.assignOrPush=function(t,e,n){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(n)):this.options.explicitArray?t[e]=[n]:t[e]=n},e.prototype.reset=function(){var s,f,n,h,e,a,p,r;return this.removeAllListeners(),this.saxParser=u.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(e=this,function(t){if(e.saxParser.resume(),!e.saxParser.errThrown)return e.saxParser.errThrown=!0,e.emit("error",t)}),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,h=[],s=this.options.attrkey,f=this.options.charkey,this.saxParser.onopentag=(a=this,function(t){var e,n,r,i,o;if((r={})[f]="",!a.options.ignoreAttrs)for(e in o=t.attributes)y.call(o,e)&&(s in r||a.options.mergeAttrs||(r[s]={}),n=t.attributes[e],i=a.options.attrNameProcessors?g(a.options.attrNameProcessors,e):e,a.options.mergeAttrs?a.assignOrPush(r,i,n):r[s][i]=n);return r["#name"]=a.options.tagNameProcessors?g(a.options.tagNameProcessors,t.name):t.name,a.options.xmlns&&(r[a.options.xmlnskey]={uri:t.uri,local:t.local}),h.push(r)}),this.saxParser.onclosetag=(p=this,function(){var t,e,n,r,i,o,s,a,u,c,l;if(o=(s=h.pop())["#name"],p.options.explicitChildren&&p.options.preserveChildrenOrder||delete s["#name"],!0===s.cdata&&(t=s.cdata,delete s.cdata),c=h[h.length-1],s[f].match(/^\s*$/)&&!t?(e=s[f],delete s[f]):(p.options.trim&&(s[f]=s[f].trim()),p.options.normalize&&(s[f]=s[f].replace(/\s{2,}/g," ").trim()),s[f]=p.options.valueProcessors?g(p.options.valueProcessors,s[f]):s[f],1===Object.keys(s).length&&f in s&&!p.EXPLICIT_CHARKEY&&(s=s[f])),d(s)&&(s=""!==p.options.emptyTag?p.options.emptyTag:e),null!=p.options.validator){l="/"+function(){var t,e,n;for(n=[],t=0,e=h.length;t<e;t++)i=h[t],n.push(i["#name"]);return n}().concat(o).join("/");try{s=p.options.validator(l,c&&c[o],s)}catch(t){n=t,p.emit("error",n)}}if(p.options.explicitChildren&&!p.options.mergeAttrs&&"object"==typeof s)if(p.options.preserveChildrenOrder){if(c){for(r in c[p.options.childkey]=c[p.options.childkey]||[],a={},s)y.call(s,r)&&(a[r]=s[r]);c[p.options.childkey].push(a),delete s["#name"],1===Object.keys(s).length&&f in s&&!p.EXPLICIT_CHARKEY&&(s=s[f])}}else i={},p.options.attrkey in s&&(i[p.options.attrkey]=s[p.options.attrkey],delete s[p.options.attrkey]),!p.options.charsAsChildren&&p.options.charkey in s&&(i[p.options.charkey]=s[p.options.charkey],delete s[p.options.charkey]),0<Object.getOwnPropertyNames(s).length&&(i[p.options.childkey]=s),s=i;return 0<h.length?p.assignOrPush(c,o,s):(p.options.explicitRoot&&(u=s,(s={})[o]=u),p.resultObject=s,p.saxParser.ended=!0,p.emit("end",p.resultObject))}),n=function(t){var e,n;if(n=h[h.length-1])return n[f]+=t,r.options.explicitChildren&&r.options.preserveChildrenOrder&&r.options.charsAsChildren&&""!==t.replace(/\\n/g,"").trim()&&(n[r.options.childkey]=n[r.options.childkey]||[],(e={"#name":"__text__"})[f]=t,n[r.options.childkey].push(e)),n},(r=this).saxParser.ontext=n,this.saxParser.oncdata=function(t){var e;if(e=n(t))return e.cdata=!0}},e.prototype.parseString=function(t,e){var n;if(null!=e&&"function"==typeof e&&(this.on("end",function(t){return this.reset(),e(null,t)}),this.on("error",function(t){return this.reset(),e(t)})),""===(t=t.toString()).trim())return this.emit("end",null),!0;try{return t=r.stripBOM(t),this.options.async&&(this.remaining=t,setImmediate(this.processAsync),this.saxParser),this.saxParser.write(t).close()}catch(t){if(n=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},e}(t.EventEmitter),v.parseString=function(t,e,n){var r,i;return null!=n?("function"==typeof n&&(r=n),"object"==typeof e&&(i=e)):("function"==typeof e&&(r=e),i={}),new v.Parser(i).parseString(t,r)}}).call(this)},{"./bom":83,"./processors":84,events:42,sax:86,xmlbuilder:103}],86:[function($,t,e){(function(P){!function(u){u.parser=function(t,e){return new r(t,e)},u.SAXParser=r,u.SAXStream=s,u.createStream=function(t,e){return new s(t,e)},u.MAX_BUFFER_LENGTH=65536;var c=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function r(t,e){if(!(this instanceof r))return new r(t,e);var n=this;!function(t){for(var e=0,n=c.length;e<n;e++)t[c[e]]=""}(n),n.q=n.c="",n.bufferCheckPosition=u.MAX_BUFFER_LENGTH,n.opt=e||{},n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags,n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase",n.tags=[],n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.strict=!!t,n.noscript=!(!t&&!n.opt.noscript),n.state=x.BEGIN,n.strictEntities=n.opt.strictEntities,n.ENTITIES=n.strictEntities?Object.create(u.XML_ENTITIES):Object.create(u.ENTITIES),n.attribList=[],n.opt.xmlns&&(n.ns=Object.create(v)),n.trackPosition=!1!==n.opt.position,n.trackPosition&&(n.position=n.line=n.column=0),C(n,"onready")}u.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){this.__proto__=t}return e.prototype=t,new e}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),r.prototype={end:function(){N(this)},write:function(t){var e=this;if(this.error)throw this.error;if(e.closed)return I(e,"Cannot write after close. Assign an onready handler.");if(null===t)return N(e);var n=0,r="";for(;e.c=r=t.charAt(n++);)switch(e.trackPosition&&(e.position++,"\n"===r?(e.line++,e.column=0):e.column++),e.state){case x.BEGIN:if(e.state=x.BEGIN_WHITESPACE,"\ufeff"===r)continue;case x.BEGIN_WHITESPACE:"<"===r?(e.state=x.OPEN_WAKA,e.startTagPosition=e.position):w(l,r)&&(j(e,"Non-whitespace before first tag."),e.textNode=r,e.state=x.TEXT);continue;case x.TEXT:if(e.sawRoot&&!e.closedRoot){for(var i=n-1;r&&"<"!==r&&"&"!==r;)(r=t.charAt(n++))&&e.trackPosition&&(e.position++,"\n"===r?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(i,n-1)}"<"!==r||e.sawRoot&&e.closedRoot&&!e.strict?(!w(l,r)||e.sawRoot&&!e.closedRoot||j(e,"Text data outside of root node."),"&"===r?e.state=x.TEXT_ENTITY:e.textNode+=r):(e.state=x.OPEN_WAKA,e.startTagPosition=e.position);continue;case x.SCRIPT:"<"===r?e.state=x.SCRIPT_ENDING:e.script+=r;continue;case x.SCRIPT_ENDING:e.state="/"===r?x.CLOSE_TAG:(e.script+="<"+r,x.SCRIPT);continue;case x.OPEN_WAKA:if("!"===r)e.state=x.SGML_DECL,e.sgmlDecl="";else if(_(l,r));else if(_(m,r))e.state=x.OPEN_TAG,e.tagName=r;else if("/"===r)e.state=x.CLOSE_TAG,e.tagName="";else if("?"===r)e.state=x.PROC_INST,e.procInstName=e.procInstBody="";else{if(j(e,"Unencoded <"),e.startTagPosition+1<e.position){var o=e.position-e.startTagPosition;r=new Array(o).join(" ")+r}e.textNode+="<"+r,e.state=x.TEXT}continue;case x.SGML_DECL:(e.sgmlDecl+r).toUpperCase()===d?(k(e,"onopencdata"),e.state=x.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+r==="--"?(e.state=x.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+r).toUpperCase()===g?(e.state=x.DOCTYPE,(e.doctype||e.sawRoot)&&j(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===r?(k(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=x.TEXT):(_(f,r)&&(e.state=x.SGML_DECL_QUOTED),e.sgmlDecl+=r);continue;case x.SGML_DECL_QUOTED:r===e.q&&(e.state=x.SGML_DECL,e.q=""),e.sgmlDecl+=r;continue;case x.DOCTYPE:">"===r?(e.state=x.TEXT,k(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=r,"["===r?e.state=x.DOCTYPE_DTD:_(f,r)&&(e.state=x.DOCTYPE_QUOTED,e.q=r));continue;case x.DOCTYPE_QUOTED:e.doctype+=r,r===e.q&&(e.q="",e.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:e.doctype+=r,"]"===r?e.state=x.DOCTYPE:_(f,r)&&(e.state=x.DOCTYPE_DTD_QUOTED,e.q=r);continue;case x.DOCTYPE_DTD_QUOTED:e.doctype+=r,r===e.q&&(e.state=x.DOCTYPE_DTD,e.q="");continue;case x.COMMENT:"-"===r?e.state=x.COMMENT_ENDING:e.comment+=r;continue;case x.COMMENT_ENDING:"-"===r?(e.state=x.COMMENT_ENDED,e.comment=O(e.opt,e.comment),e.comment&&k(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+r,e.state=x.COMMENT);continue;case x.COMMENT_ENDED:e.state=">"!==r?(j(e,"Malformed comment"),e.comment+="--"+r,x.COMMENT):x.TEXT;continue;case x.CDATA:"]"===r?e.state=x.CDATA_ENDING:e.cdata+=r;continue;case x.CDATA_ENDING:e.state="]"===r?x.CDATA_ENDING_2:(e.cdata+="]"+r,x.CDATA);continue;case x.CDATA_ENDING_2:">"===r?(e.cdata&&k(e,"oncdata",e.cdata),k(e,"onclosecdata"),e.cdata="",e.state=x.TEXT):"]"===r?e.cdata+="]":(e.cdata+="]]"+r,e.state=x.CDATA);continue;case x.PROC_INST:"?"===r?e.state=x.PROC_INST_ENDING:_(l,r)?e.state=x.PROC_INST_BODY:e.procInstName+=r;continue;case x.PROC_INST_BODY:if(!e.procInstBody&&_(l,r))continue;"?"===r?e.state=x.PROC_INST_ENDING:e.procInstBody+=r;continue;case x.PROC_INST_ENDING:e.state=">"===r?(k(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",x.TEXT):(e.procInstBody+="?"+r,x.PROC_INST_BODY);continue;case x.OPEN_TAG:_(b,r)?e.tagName+=r:(D(e),">"===r?L(e):e.state="/"===r?x.OPEN_TAG_SLASH:(w(l,r)&&j(e,"Invalid character in tag name"),x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===r?(L(e,!0),U(e)):(j(e,"Forward-slash in opening tag not followed by >"),e.state=x.ATTRIB);continue;case x.ATTRIB:if(_(l,r))continue;">"===r?L(e):"/"===r?e.state=x.OPEN_TAG_SLASH:_(m,r)?(e.attribName=r,e.attribValue="",e.state=x.ATTRIB_NAME):j(e,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===r?e.state=x.ATTRIB_VALUE:">"===r?(j(e,"Attribute without value"),e.attribValue=e.attribName,F(e),L(e)):_(l,r)?e.state=x.ATTRIB_NAME_SAW_WHITE:_(b,r)?e.attribName+=r:j(e,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===r)e.state=x.ATTRIB_VALUE;else{if(_(l,r))continue;j(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",k(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===r?L(e):_(m,r)?(e.attribName=r,e.state=x.ATTRIB_NAME):(j(e,"Invalid attribute name"),e.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(_(l,r))continue;_(f,r)?(e.q=r,e.state=x.ATTRIB_VALUE_QUOTED):(j(e,"Unquoted attribute value"),e.state=x.ATTRIB_VALUE_UNQUOTED,e.attribValue=r);continue;case x.ATTRIB_VALUE_QUOTED:if(r!==e.q){"&"===r?e.state=x.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=r;continue}F(e),e.q="",e.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:_(l,r)?e.state=x.ATTRIB:">"===r?L(e):"/"===r?e.state=x.OPEN_TAG_SLASH:_(m,r)?(j(e,"No whitespace between attributes"),e.attribName=r,e.attribValue="",e.state=x.ATTRIB_NAME):j(e,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(w(p,r)){"&"===r?e.state=x.ATTRIB_VALUE_ENTITY_U:e.attribValue+=r;continue}F(e),">"===r?L(e):e.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(e.tagName)">"===r?U(e):_(b,r)?e.tagName+=r:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=x.SCRIPT):(w(l,r)&&j(e,"Invalid tagname in closing tag"),e.state=x.CLOSE_TAG_SAW_WHITE);else{if(_(l,r))continue;w(m,r)?e.script?(e.script+="</"+r,e.state=x.SCRIPT):j(e,"Invalid tagname in closing tag."):e.tagName=r}continue;case x.CLOSE_TAG_SAW_WHITE:if(_(l,r))continue;">"===r?U(e):j(e,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:switch(e.state){case x.TEXT_ENTITY:var s=x.TEXT,a="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:var s=x.ATTRIB_VALUE_QUOTED,a="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:var s=x.ATTRIB_VALUE_UNQUOTED,a="attribValue"}";"===r?(e[a]+=M(e),e.entity="",e.state=s):_(h,r)?e.entity+=r:(j(e,"Invalid character entity"),e[a]+="&"+e.entity+r,e.entity="",e.state=s);continue;default:throw new Error(e,"Unknown state: "+e.state)}e.position>=e.bufferCheckPosition&&function(t){for(var e=Math.max(u.MAX_BUFFER_LENGTH,10),n=0,r=0,i=c.length;r<i;r++){var o=t[c[r]].length;if(e<o)switch(c[r]){case"textNode":A(t);break;case"cdata":k(t,"oncdata",t.cdata),t.cdata="";break;case"script":k(t,"onscript",t.script),t.script="";break;default:I(t,"Max buffer length exceeded: "+c[r])}n=Math.max(n,o)}t.bufferCheckPosition=u.MAX_BUFFER_LENGTH-n+t.position}(e);return e},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;A(t=this),""!==t.cdata&&(k(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(k(t,"onscript",t.script),t.script="")}};try{var i=$("stream").Stream}catch(t){i=function(){}}var o=u.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});function s(t,e){if(!(this instanceof s))return new s(t,e);i.apply(this),this._parser=new r(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,o.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t;n.on(e,t)},enumerable:!0,configurable:!1})})}(s.prototype=Object.create(i.prototype,{constructor:{value:s}})).write=function(t){if("function"==typeof P&&"function"==typeof P.isBuffer&&P.isBuffer(t)){if(!this._decoder){var e=$("string_decoder").StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},s.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===o.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),i.prototype.on.call(n,e,t)};var l="\r\n\t ",t="0124356789",e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",f="'\"",h=t+e+"#",p=l+">",d="[CDATA[",g="DOCTYPE",a="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",v={xml:a,xmlns:y};l=n(l),t=n(t),e=n(e);var m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function n(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}function _(t,e){return n=t,"[object RegExp]"===Object.prototype.toString.call(n)?!!e.match(t):t[e];var n}function w(t,e){return!_(t,e)}f=n(f),h=n(h),p=n(p);var E,T,S,x=0;for(var x in u.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},u.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},u.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(u.ENTITIES).forEach(function(t){var e=u.ENTITIES[t],n="number"==typeof e?String.fromCharCode(e):e;u.ENTITIES[t]=n}),u.STATE)u.STATE[u.STATE[x]]=x;function C(t,e,n){t[e]&&t[e](n)}function k(t,e,n){t.textNode&&A(t),C(t,e,n)}function A(t){t.textNode=O(t.opt,t.textNode),t.textNode&&C(t,"ontext",t.textNode),t.textNode=""}function O(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function I(t,e){return A(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,C(t,"onerror",e),t}function N(t){return t.sawRoot&&!t.closedRoot&&j(t,"Unclosed root tag"),t.state!==x.BEGIN&&t.state!==x.BEGIN_WHITESPACE&&t.state!==x.TEXT&&I(t,"Unexpected end"),A(t),t.c="",t.closed=!0,C(t,"onend"),r.call(t,t.strict,t.opt),t}function j(t,e){if("object"!=typeof t||!(t instanceof r))throw new Error("bad call to strictFail");t.strict&&I(t,e)}function D(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0}function R(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),r=n[0],i=n[1];return e&&"xmlns"===t&&(r="xmlns",i=""),{prefix:r,local:i}}function F(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))return t.attribName=t.attribValue="";if(t.opt.xmlns){var e=R(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==a)j(t,"xml: prefix must be bound to "+a+"\nActual: "+t.attribValue);else if("xmlns"===r&&t.attribValue!==y)j(t,"xmlns: prefix must be bound to "+y+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,k(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}function L(e,t){if(e.opt.xmlns){var n=e.tag,r=R(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(j(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var i=e.tags[e.tags.length-1]||e;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach(function(t){k(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var o=0,s=e.attribList.length;o<s;o++){var a=e.attribList[o],u=a[0],c=a[1],l=R(u,!0),f=l.prefix,h=l.local,p=""==f?"":n.ns[f]||"",d={name:u,value:c,prefix:f,local:h,uri:p};f&&"xmlns"!=f&&!p&&(j(e,"Unbound namespace prefix: "+JSON.stringify(f)),d.uri=f),e.tag.attributes[u]=d,k(e,"onattribute",d)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),k(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=x.TEXT:e.state=x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function U(n){if(!n.tagName)return j(n,"Weird empty close tag."),n.textNode+="</>",void(n.state=x.TEXT);if(n.script){if("script"!==n.tagName)return n.script+="</"+n.tagName+">",n.tagName="",void(n.state=x.SCRIPT);k(n,"onscript",n.script),n.script=""}var t=n.tags.length,e=n.tagName;n.strict||(e=e[n.looseCase]());for(var r=e;t--;){if(n.tags[t].name===r)break;j(n,"Unexpected close tag")}if(t<0)return j(n,"Unmatched closing tag: "+n.tagName),n.textNode+="</"+n.tagName+">",void(n.state=x.TEXT);n.tagName=e;for(var i=n.tags.length;i-- >t;){var o=n.tag=n.tags.pop();n.tagName=n.tag.name,k(n,"onclosetag",n.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var u=n.tags[n.tags.length-1]||n;n.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(t){var e=o.ns[t];k(n,"onclosenamespace",{prefix:t,uri:e})})}0===t&&(n.closedRoot=!0),n.tagName=n.attribValue=n.attribName="",n.attribList.length=0,n.state=x.TEXT}function M(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:("#"===(n=r).charAt(0)&&(i="x"===n.charAt(1)?(n=n.slice(2),(e=parseInt(n,16)).toString(16)):(n=n.slice(1),(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),i.toLowerCase()!==n?(j(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}x=u.STATE,String.fromCodePoint||(E=String.fromCharCode,T=Math.floor,S=function(){var t,e,n=[],r=-1,i=arguments.length;if(!i)return"";for(var o="";++r<i;){var s=Number(arguments[r]);if(!isFinite(s)||s<0||1114111<s||T(s)!=s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(t=55296+((s-=65536)>>10),e=s%1024+56320,n.push(t,e)),(r+1==i||16384<n.length)&&(o+=E.apply(null,n),n.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:S,configurable:!0,writable:!0}):String.fromCodePoint=S)}(void 0===e?sax={}:e)}).call(this,$("buffer").Buffer)},{buffer:38,stream:48,string_decoder:49}],87:[function(t,n,e){(function(){var e;e=t("lodash/object/create"),n.exports=function(){function t(t,e,n){if(this.stringify=t.stringify,null==e)throw new Error("Missing attribute name of element "+t.name);if(null==n)throw new Error("Missing attribute value for attribute "+e+" of element "+t.name);this.name=this.stringify.attName(e),this.value=this.stringify.attValue(n)}return t.prototype.clone=function(){return e(t.prototype,this)},t.prototype.toString=function(t,e){return" "+this.name+'="'+this.value+'"'},t}()}).call(this)},{"lodash/object/create":157}],88:[function(t,e,n){(function(){var r,i;i=t("./XMLStringifier"),t("./XMLDeclaration"),t("./XMLDocType"),r=t("./XMLElement"),e.exports=function(){function t(t,e){var n;if(null==t)throw new Error("Root element needs a name");null==e&&(e={}),this.options=e,this.stringify=new i(e),(n=new r(this,"doc").element(t)).isRoot=!0,(n.documentObject=this).rootObject=n,e.headless||(n.declaration(e),null==e.pubID&&null==e.sysID||n.doctype(e))}return t.prototype.root=function(){return this.rootObject},t.prototype.end=function(t){return this.toString(t)},t.prototype.toString=function(t){var e,n,r,i,o,s;return n=(null!=t?t.pretty:void 0)||!1,null!=(i=null!=t?t.indent:void 0)?i:"  ",null!=(o=null!=t?t.offset:void 0)?o:0,e=null!=(s=null!=t?t.newline:void 0)?s:"\n",r="",null!=this.xmldec&&(r+=this.xmldec.toString(t)),null!=this.doctype&&(r+=this.doctype.toString(t)),r+=this.rootObject.toString(t),n&&r.slice(-e.length)===e&&(r=r.slice(0,-e.length)),r},t}()}).call(this)},{"./XMLDeclaration":95,"./XMLDocType":96,"./XMLElement":97,"./XMLStringifier":101}],89:[function(t,n,e){(function(){var e,r,i={}.hasOwnProperty;r=t("lodash/object/create"),e=t("./XMLNode"),n.exports=function(t){function n(t,e){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(e)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype.clone=function(){return r(n.prototype,this)},n.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(c=null!=t?t.newline:void 0)?c:"\n",e||(e=0),l=new Array(e+i+1).join(n),s="",o&&(s+=l),s+="<![CDATA["+this.text+"]]>",o&&(s+=r),s},n}()}).call(this)},{"./XMLNode":98,"lodash/object/create":157}],90:[function(t,n,e){(function(){var e,r,i={}.hasOwnProperty;r=t("lodash/object/create"),e=t("./XMLNode"),n.exports=function(t){function n(t,e){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing comment text");this.text=this.stringify.comment(e)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype.clone=function(){return r(n.prototype,this)},n.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(c=null!=t?t.newline:void 0)?c:"\n",e||(e=0),l=new Array(e+i+1).join(n),s="",o&&(s+=l),s+="\x3c!-- "+this.text+" --\x3e",o&&(s+=r),s},n}()}).call(this)},{"./XMLNode":98,"lodash/object/create":157}],91:[function(t,n,e){(function(){var e;e=t("lodash/object/create"),n.exports=function(){function t(t,e,n,r,i,o){if(this.stringify=t.stringify,null==e)throw new Error("Missing DTD element name");if(null==n)throw new Error("Missing DTD attribute name");if(!r)throw new Error("Missing DTD attribute type");if(!i)throw new Error("Missing DTD attribute default");if(0!==i.indexOf("#")&&(i="#"+i),!i.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(o&&!i.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(e),this.attributeName=this.stringify.attName(n),this.attributeType=this.stringify.dtdAttType(r),this.defaultValue=this.stringify.dtdAttDefault(o),this.defaultValueType=i}return t.prototype.clone=function(){return e(t.prototype,this)},t.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(c=null!=t?t.newline:void 0)?c:"\n",e||(e=0),l=new Array(e+i+1).join(n),s="",o&&(s+=l),s+="<!ATTLIST "+this.elementName+" "+this.attributeName+" "+this.attributeType,"#DEFAULT"!==this.defaultValueType&&(s+=" "+this.defaultValueType),this.defaultValue&&(s+=' "'+this.defaultValue+'"'),s+=">",o&&(s+=r),s},t}()}).call(this)},{"lodash/object/create":157}],92:[function(t,n,e){(function(){var e,r;e=t("lodash/object/create"),r=t("lodash/lang/isArray"),n.exports=function(){function t(t,e,n){if(this.stringify=t.stringify,null==e)throw new Error("Missing DTD element name");n||(n="(#PCDATA)"),r(n)&&(n="("+n.join(",")+")"),this.name=this.stringify.eleName(e),this.value=this.stringify.dtdElementValue(n)}return t.prototype.clone=function(){return e(t.prototype,this)},t.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(c=null!=t?t.newline:void 0)?c:"\n",e||(e=0),l=new Array(e+i+1).join(n),s="",o&&(s+=l),s+="<!ELEMENT "+this.name+" "+this.value+">",o&&(s+=r),s},t}()}).call(this)},{"lodash/lang/isArray":149,"lodash/object/create":157}],93:[function(t,n,e){(function(){var e,i;e=t("lodash/object/create"),i=t("lodash/lang/isObject"),n.exports=function(){function t(t,e,n,r){if(this.stringify=t.stringify,null==n)throw new Error("Missing entity name");if(null==r)throw new Error("Missing entity value");if(this.pe=!!e,this.name=this.stringify.eleName(n),i(r)){if(!r.pubID&&!r.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(r.pubID&&!r.sysID)throw new Error("System identifier is required for a public external entity");if(null!=r.pubID&&(this.pubID=this.stringify.dtdPubID(r.pubID)),null!=r.sysID&&(this.sysID=this.stringify.dtdSysID(r.sysID)),null!=r.nData&&(this.nData=this.stringify.dtdNData(r.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(r)}return t.prototype.clone=function(){return e(t.prototype,this)},t.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(c=null!=t?t.newline:void 0)?c:"\n",e||(e=0),l=new Array(e+i+1).join(n),s="",o&&(s+=l),s+="<!ENTITY",this.pe&&(s+=" %"),s+=" "+this.name,this.value?s+=' "'+this.value+'"':(this.pubID&&this.sysID?s+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.sysID&&(s+=' SYSTEM "'+this.sysID+'"'),this.nData&&(s+=" NDATA "+this.nData)),s+=">",o&&(s+=r),s},t}()}).call(this)},{"lodash/lang/isObject":153,"lodash/object/create":157}],94:[function(t,n,e){(function(){var e;e=t("lodash/object/create"),n.exports=function(){function t(t,e,n){if(this.stringify=t.stringify,null==e)throw new Error("Missing notation name");if(!n.pubID&&!n.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(e),null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID))}return t.prototype.clone=function(){return e(t.prototype,this)},t.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(c=null!=t?t.newline:void 0)?c:"\n",e||(e=0),l=new Array(e+i+1).join(n),s="",o&&(s+=l),s+="<!NOTATION "+this.name,this.pubID&&this.sysID?s+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.pubID?s+=' PUBLIC "'+this.pubID+'"':this.sysID&&(s+=' SYSTEM "'+this.sysID+'"'),s+=">",o&&(s+=r),s},t}()}).call(this)},{"lodash/object/create":157}],95:[function(t,r,e){(function(){var e,n,s,i={}.hasOwnProperty;n=t("lodash/object/create"),s=t("lodash/lang/isObject"),e=t("./XMLNode"),r.exports=function(t){function o(t,e,n,r){var i;o.__super__.constructor.call(this,t),s(e)&&(e=(i=e).version,n=i.encoding,r=i.standalone),e||(e="1.0"),null!=e&&(this.version=this.stringify.xmlVersion(e)),null!=n&&(this.encoding=this.stringify.xmlEncoding(n)),null!=r&&(this.standalone=this.stringify.xmlStandalone(r))}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(o,e),o.prototype.clone=function(){return n(o.prototype,this)},o.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(c=null!=t?t.newline:void 0)?c:"\n",e||(e=0),l=new Array(e+i+1).join(n),s="",o&&(s+=l),s+="<?xml",null!=this.version&&(s+=' version="'+this.version+'"'),null!=this.encoding&&(s+=' encoding="'+this.encoding+'"'),null!=this.standalone&&(s+=' standalone="'+this.standalone+'"'),s+="?>",o&&(s+=r),s},o}()}).call(this)},{"./XMLNode":98,"lodash/lang/isObject":153,"lodash/object/create":157}],96:[function(t,l,e){(function(){var n,r,s,i,o,a,u,e,c;e=t("lodash/object/create"),c=t("lodash/lang/isObject"),n=t("./XMLCData"),r=t("./XMLComment"),s=t("./XMLDTDAttList"),o=t("./XMLDTDEntity"),i=t("./XMLDTDElement"),a=t("./XMLDTDNotation"),u=t("./XMLProcessingInstruction"),l.exports=function(){function t(t,e,n){var r,i;this.documentObject=t,this.stringify=this.documentObject.stringify,this.children=[],c(e)&&(e=(r=e).pubID,n=r.sysID),null==n&&(n=(i=[e,n])[0],e=i[1]),null!=e&&(this.pubID=this.stringify.dtdPubID(e)),null!=n&&(this.sysID=this.stringify.dtdSysID(n))}return t.prototype.clone=function(){return e(t.prototype,this)},t.prototype.element=function(t,e){var n;return n=new i(this,t,e),this.children.push(n),this},t.prototype.attList=function(t,e,n,r,i){var o;return o=new s(this,t,e,n,r,i),this.children.push(o),this},t.prototype.entity=function(t,e){var n;return n=new o(this,!1,t,e),this.children.push(n),this},t.prototype.pEntity=function(t,e){var n;return n=new o(this,!0,t,e),this.children.push(n),this},t.prototype.notation=function(t,e){var n;return n=new a(this,t,e),this.children.push(n),this},t.prototype.cdata=function(t){var e;return e=new n(this,t),this.children.push(e),this},t.prototype.comment=function(t){var e;return e=new r(this,t),this.children.push(e),this},t.prototype.instruction=function(t,e){var n;return n=new u(this,t,e),this.children.push(n),this},t.prototype.root=function(){return this.documentObject.root()},t.prototype.document=function(){return this.documentObject},t.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l,f,h,p;if(a=(null!=t?t.pretty:void 0)||!1,r=null!=(c=null!=t?t.indent:void 0)?c:"  ",s=null!=(l=null!=t?t.offset:void 0)?l:0,o=null!=(f=null!=t?t.newline:void 0)?f:"\n",e||(e=0),p=new Array(e+s+1).join(r),u="",a&&(u+=p),u+="<!DOCTYPE "+this.root().name,this.pubID&&this.sysID?u+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.sysID&&(u+=' SYSTEM "'+this.sysID+'"'),0<this.children.length){for(u+=" [",a&&(u+=o),n=0,i=(h=this.children).length;n<i;n++)u+=h[n].toString(t,e+1);u+="]"}return u+=">",a&&(u+=o),u},t.prototype.ele=function(t,e){return this.element(t,e)},t.prototype.att=function(t,e,n,r,i){return this.attList(t,e,n,r,i)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.up=function(){return this.root()},t.prototype.doc=function(){return this.document()},t}()}).call(this)},{"./XMLCData":89,"./XMLComment":90,"./XMLDTDAttList":91,"./XMLDTDElement":92,"./XMLDTDEntity":93,"./XMLDTDNotation":94,"./XMLProcessingInstruction":99,"lodash/lang/isObject":153,"lodash/object/create":157}],97:[function(t,n,e){(function(){var i,e,a,c,b,l,f,h,_={}.hasOwnProperty;c=t("lodash/object/create"),h=t("lodash/lang/isObject"),l=t("lodash/lang/isArray"),f=t("lodash/lang/isFunction"),b=t("lodash/collection/every"),e=t("./XMLNode"),i=t("./XMLAttribute"),a=t("./XMLProcessingInstruction"),n.exports=function(t){function u(t,e,n){if(u.__super__.constructor.call(this,t),null==e)throw new Error("Missing element name");this.name=this.stringify.eleName(e),this.children=[],this.instructions=[],this.attributes={},null!=n&&this.attribute(n)}return function(t,e){for(var n in e)_.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(u,e),u.prototype.clone=function(){var t,e,n,r,i,o,s,a;for(e in(n=c(u.prototype,this)).isRoot&&(n.documentObject=null),n.attributes={},s=this.attributes)_.call(s,e)&&(t=s[e],n.attributes[e]=t.clone());for(n.instructions=[],r=0,i=(a=this.instructions).length;r<i;r++)o=a[r],n.instructions.push(o.clone());return n.children=[],this.children.forEach(function(t){var e;return((e=t.clone()).parent=n).children.push(e)}),n},u.prototype.attribute=function(t,e){var n,r;if(null!=t&&(t=t.valueOf()),h(t))for(n in t)_.call(t,n)&&(r=t[n],this.attribute(n,r));else f(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.attributes[t]=new i(this,t,e));return this},u.prototype.removeAttribute=function(t){var e,n,r;if(null==t)throw new Error("Missing attribute name");if(t=t.valueOf(),l(t))for(n=0,r=t.length;n<r;n++)e=t[n],delete this.attributes[e];else delete this.attributes[t];return this},u.prototype.instruction=function(t,e){var n,r,i,o,s;if(null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),l(t))for(n=0,s=t.length;n<s;n++)r=t[n],this.instruction(r);else if(h(t))for(r in t)_.call(t,r)&&(i=t[r],this.instruction(r,i));else f(e)&&(e=e.apply()),o=new a(this,t,e),this.instructions.push(o);return this},u.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l,f,h,p,d,g,y,v,m;for(l=(null!=t?t.pretty:void 0)||!1,r=null!=(h=null!=t?t.indent:void 0)?h:"  ",c=null!=(p=null!=t?t.offset:void 0)?p:0,u=null!=(d=null!=t?t.newline:void 0)?d:"\n",e||(e=0),m=new Array(e+c+1).join(r),f="",n=0,o=(g=this.instructions).length;n<o;n++)f+=g[n].toString(t,e+1);for(a in l&&(f+=m),f+="<"+this.name,y=this.attributes)_.call(y,a)&&(f+=y[a].toString(t));if(0===this.children.length||b(this.children,function(t){return""===t.value}))f+="/>",l&&(f+=u);else if(l&&1===this.children.length&&null!=this.children[0].value)f+=">",f+=this.children[0].value,f+="</"+this.name+">",f+=u;else{for(f+=">",l&&(f+=u),i=0,s=(v=this.children).length;i<s;i++)f+=v[i].toString(t,e+1);l&&(f+=m),f+="</"+this.name+">",l&&(f+=u)}return f},u.prototype.att=function(t,e){return this.attribute(t,e)},u.prototype.ins=function(t,e){return this.instruction(t,e)},u.prototype.a=function(t,e){return this.attribute(t,e)},u.prototype.i=function(t,e){return this.instruction(t,e)},u}()}).call(this)},{"./XMLAttribute":87,"./XMLNode":98,"./XMLProcessingInstruction":99,"lodash/collection/every":105,"lodash/lang/isArray":149,"lodash/lang/isFunction":151,"lodash/lang/isObject":153,"lodash/object/create":157}],98:[function(e,t,n){(function(){var n,r,o,i,s,a,u,l,f,h,p,d={}.hasOwnProperty;p=e("lodash/lang/isObject"),l=e("lodash/lang/isArray"),h=e("lodash/lang/isFunction"),f=e("lodash/lang/isEmpty"),u=a=i=o=r=n=s=null,t.exports=function(){function t(t){this.parent=t,this.options=this.parent.options,this.stringify=this.parent.stringify,null===s&&(s=e("./XMLElement"),n=e("./XMLCData"),r=e("./XMLComment"),o=e("./XMLDeclaration"),i=e("./XMLDocType"),a=e("./XMLRaw"),u=e("./XMLText"))}return t.prototype.clone=function(){throw new Error("Cannot clone generic XMLNode")},t.prototype.element=function(t,e,n){var r,i,o,s,a,u,c;if((s=null)==e&&(e={}),e=e.valueOf(),p(e)||(n=(u=[e,n])[0],e=u[1]),null!=t&&(t=t.valueOf()),l(t))for(i=0,a=t.length;i<a;i++)r=t[i],s=this.element(r);else if(h(t))s=this.element(t.apply());else if(p(t))for(o in t)d.call(t,o)&&(c=t[o],h(c)&&(c=c.apply()),p(c)&&f(c)&&(c=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===o.indexOf(this.stringify.convertAttKey)?s=this.attribute(o.substr(this.stringify.convertAttKey.length),c):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===o.indexOf(this.stringify.convertPIKey)?s=this.instruction(o.substr(this.stringify.convertPIKey.length),c):p(c)?!this.options.ignoreDecorators&&this.stringify.convertListKey&&0===o.indexOf(this.stringify.convertListKey)&&l(c)?s=this.element(c):(s=this.element(o)).element(c):s=this.element(o,c));else s=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(n):this.node(t,e,n);if(null==s)throw new Error("Could not create any elements with: "+t);return s},t.prototype.insertBefore=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},t.prototype.insertAfter=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},t.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},t.prototype.node=function(t,e,n){var r,i;return null!=t&&(t=t.valueOf()),null==e&&(e={}),e=e.valueOf(),p(e)||(n=(i=[e,n])[0],e=i[1]),r=new s(this,t,e),null!=n&&r.text(n),this.children.push(r),r},t.prototype.text=function(t){var e;return e=new u(this,t),this.children.push(e),this},t.prototype.cdata=function(t){var e;return e=new n(this,t),this.children.push(e),this},t.prototype.comment=function(t){var e;return e=new r(this,t),this.children.push(e),this},t.prototype.raw=function(t){var e;return e=new a(this,t),this.children.push(e),this},t.prototype.declaration=function(t,e,n){var r,i;return r=this.document(),i=new o(r,t,e,n),r.xmldec=i,r.root()},t.prototype.doctype=function(t,e){var n,r;return n=this.document(),r=new i(n,t,e),n.doctype=r},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;if(this.isRoot)return this;for(t=this.parent;!t.isRoot;)t=t.parent;return t},t.prototype.document=function(){return this.root().documentObject},t.prototype.end=function(t){return this.document().toString(t)},t.prototype.prev=function(){var t;if(this.isRoot)throw new Error("Root node has no siblings");if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[t-1]},t.prototype.next=function(){var t;if(this.isRoot)throw new Error("Root node has no siblings");if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},t.prototype.importXMLBuilder=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},t.prototype.ele=function(t,e,n){return this.element(t,e,n)},t.prototype.nod=function(t,e,n){return this.node(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},t.prototype.dtd=function(t,e){return this.doctype(t,e)},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.n=function(t,e,n){return this.node(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.u=function(){return this.up()},t}()}).call(this)},{"./XMLCData":89,"./XMLComment":90,"./XMLDeclaration":95,"./XMLDocType":96,"./XMLElement":97,"./XMLRaw":100,"./XMLText":102,"lodash/lang/isArray":149,"lodash/lang/isEmpty":150,"lodash/lang/isFunction":151,"lodash/lang/isObject":153}],99:[function(t,n,e){(function(){var e;e=t("lodash/object/create"),n.exports=function(){function t(t,e,n){if(this.stringify=t.stringify,null==e)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(e),n&&(this.value=this.stringify.insValue(n))}return t.prototype.clone=function(){return e(t.prototype,this)},t.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(c=null!=t?t.newline:void 0)?c:"\n",e||(e=0),l=new Array(e+i+1).join(n),s="",o&&(s+=l),s+="<?",s+=this.target,this.value&&(s+=" "+this.value),s+="?>",o&&(s+=r),s},t}()}).call(this)},{"lodash/object/create":157}],100:[function(t,n,e){(function(){var e,r,i={}.hasOwnProperty;r=t("lodash/object/create"),e=t("./XMLNode"),n.exports=function(t){function n(t,e){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing raw text");this.value=this.stringify.raw(e)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype.clone=function(){return r(n.prototype,this)},n.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(c=null!=t?t.newline:void 0)?c:"\n",e||(e=0),l=new Array(e+i+1).join(n),s="",o&&(s+=l),s+=this.value,o&&(s+=r),s},n}()}).call(this)},{"./XMLNode":98,"lodash/object/create":157}],101:[function(t,e,n){(function(){var s={}.hasOwnProperty;e.exports=function(){function t(t){var e,n,r,i,o;for(r in this.assertLegalChar=(e=this.assertLegalChar,n=this,function(){return e.apply(n,arguments)}),this.allowSurrogateChars=null!=t?t.allowSurrogateChars:void 0,i=(null!=t?t.stringify:void 0)||{})s.call(i,r)&&(o=i[r],this[r]=o)}return t.prototype.eleName=function(t){return t=""+t||"",this.assertLegalChar(t)},t.prototype.eleText=function(t){return t=""+t||"",this.assertLegalChar(this.elEscape(t))},t.prototype.cdata=function(t){if((t=""+t||"").match(/]]>/))throw new Error("Invalid CDATA text: "+t);return this.assertLegalChar(t)},t.prototype.comment=function(t){if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return""+t||""},t.prototype.attName=function(t){return""+t||""},t.prototype.attValue=function(t){return t=""+t||"",this.attEscape(t)},t.prototype.insTarget=function(t){return""+t||""},t.prototype.insValue=function(t){if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return t},t.prototype.xmlVersion=function(t){if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){if(!(t=""+t||"").match(/[A-Za-z](?:[A-Za-z0-9._-]|-)*/))throw new Error("Invalid encoding: "+t);return t},t.prototype.xmlStandalone=function(t){return t?"yes":"no"},t.prototype.dtdPubID=function(t){return""+t||""},t.prototype.dtdSysID=function(t){return""+t||""},t.prototype.dtdElementValue=function(t){return""+t||""},t.prototype.dtdAttType=function(t){return""+t||""},t.prototype.dtdAttDefault=function(t){return null!=t?""+t||"":t},t.prototype.dtdEntityValue=function(t){return""+t||""},t.prototype.dtdNData=function(t){return""+t||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.convertListKey="#list",t.prototype.assertLegalChar=function(t){var e,n;if(e=this.allowSurrogateChars?/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/:/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,n=t.match(e))throw new Error("Invalid character ("+n+") in string: "+t+" at index "+n.index);return t},t.prototype.elEscape=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(this)},{}],102:[function(t,n,e){(function(){var e,r,i={}.hasOwnProperty;r=t("lodash/object/create"),e=t("./XMLNode"),n.exports=function(t){function n(t,e){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing element text");this.value=this.stringify.eleText(e)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype.clone=function(){return r(n.prototype,this)},n.prototype.toString=function(t,e){var n,r,i,o,s,a,u,c,l;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(c=null!=t?t.newline:void 0)?c:"\n",e||(e=0),l=new Array(e+i+1).join(n),s="",o&&(s+=l),s+=this.value,o&&(s+=r),s},n}()}).call(this)},{"./XMLNode":98,"lodash/object/create":157}],103:[function(t,e,n){(function(){var i,o;o=t("lodash/object/assign"),i=t("./XMLBuilder"),e.exports.create=function(t,e,n,r){return r=o({},e,n,r),new i(t,r).root()}}).call(this)},{"./XMLBuilder":88,"lodash/object/assign":156}],104:[function(t,e,n){e.exports=function(t){var e=t?t.length:0;return e?t[e-1]:void 0}},{}],105:[function(t,e,n){var i=t("../internal/arrayEvery"),o=t("../internal/baseCallback"),s=t("../internal/baseEvery"),a=t("../lang/isArray"),u=t("../internal/isIterateeCall");e.exports=function(t,e,n){var r=a(t)?i:s;return n&&u(t,e,n)&&(e=void 0),"function"==typeof e&&void 0===n||(e=o(e,n,3)),r(t,e)}},{"../internal/arrayEvery":107,"../internal/baseCallback":111,"../internal/baseEvery":115,"../internal/isIterateeCall":140,"../lang/isArray":149}],106:[function(t,e,n){var a=Math.max;e.exports=function(o,s){if("function"!=typeof o)throw new TypeError("Expected a function");return s=a(void 0===s?o.length-1:+s||0,0),function(){for(var t=arguments,e=-1,n=a(t.length-s,0),r=Array(n);++e<n;)r[e]=t[s+e];switch(s){case 0:return o.call(this,r);case 1:return o.call(this,t[0],r);case 2:return o.call(this,t[0],t[1],r)}var i=Array(s+1);for(e=-1;++e<s;)i[e]=t[e];return i[s]=r,o.apply(this,i)}}},{}],107:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}},{}],108:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},{}],109:[function(t,e,n){var c=t("../object/keys");e.exports=function(t,e,n){for(var r=-1,i=c(e),o=i.length;++r<o;){var s=i[r],a=t[s],u=n(a,e[s],s,t,e);(u==u?u===a:a!=a)&&(void 0!==a||s in t)||(t[s]=u)}return t}},{"../object/keys":158}],110:[function(t,e,n){var r=t("./baseCopy"),i=t("../object/keys");e.exports=function(t,e){return null==e?t:r(e,i(e),t)}},{"../object/keys":158,"./baseCopy":112}],111:[function(t,e,n){var i=t("./baseMatches"),o=t("./baseMatchesProperty"),s=t("./bindCallback"),a=t("../utility/identity"),u=t("../utility/property");e.exports=function(t,e,n){var r=typeof t;return"function"==r?void 0===e?t:s(t,e,n):null==t?a:"object"==r?i(t):void 0===e?u(t):o(t,e)}},{"../utility/identity":161,"../utility/property":162,"./baseMatches":122,"./baseMatchesProperty":123,"./bindCallback":128}],112:[function(t,e,n){e.exports=function(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}},{}],113:[function(t,e,n){var r=t("../lang/isObject"),i=function(){function n(){}return function(t){if(r(t)){n.prototype=t;var e=new n;n.prototype=void 0}return e||{}}}();e.exports=i},{"../lang/isObject":153}],114:[function(t,e,n){var r=t("./baseForOwn"),i=t("./createBaseEach")(r);e.exports=i},{"./baseForOwn":117,"./createBaseEach":130}],115:[function(t,e,n){var o=t("./baseEach");e.exports=function(t,r){var i=!0;return o(t,function(t,e,n){return i=!!r(t,e,n)}),i}},{"./baseEach":114}],116:[function(t,e,n){var r=t("./createBaseFor")();e.exports=r},{"./createBaseFor":131}],117:[function(t,e,n){var r=t("./baseFor"),i=t("../object/keys");e.exports=function(t,e){return r(t,e,i)}},{"../object/keys":158,"./baseFor":116}],118:[function(t,e,n){var o=t("./toObject");e.exports=function(t,e,n){if(null!=t){void 0!==n&&n in o(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&r<i;)t=t[e[r++]];return r&&r==i?t:void 0}}},{"./toObject":146}],119:[function(t,e,n){var a=t("./baseIsEqualDeep"),u=t("../lang/isObject"),c=t("./isObjectLike");e.exports=function t(e,n,r,i,o,s){return e===n||(null==e||null==n||!u(e)&&!c(n)?e!=e&&n!=n:a(e,n,t,r,i,o,s))}},{"../lang/isObject":153,"./baseIsEqualDeep":120,"./isObjectLike":143}],120:[function(t,e,n){var m=t("./equalArrays"),b=t("./equalByTag"),_=t("./equalObjects"),w=t("../lang/isArray"),E=t("../lang/isTypedArray"),T="[object Arguments]",S="[object Array]",x="[object Object]",r=Object.prototype,C=r.hasOwnProperty,k=r.toString;e.exports=function(t,e,n,r,i,o,s){var a=w(t),u=w(e),c=S,l=S;a||((c=k.call(t))==T?c=x:c!=x&&(a=E(t))),u||((l=k.call(e))==T?l=x:l!=x&&(u=E(e)));var f=c==x,h=l==x,p=c==l;if(p&&!a&&!f)return b(t,e,c);if(!i){var d=f&&C.call(t,"__wrapped__"),g=h&&C.call(e,"__wrapped__");if(d||g)return n(d?t.value():t,g?e.value():e,r,i,o,s)}if(!p)return!1;o||(o=[]),s||(s=[]);for(var y=o.length;y--;)if(o[y]==t)return s[y]==e;o.push(t),s.push(e);var v=(a?m:_)(t,e,n,r,i,o,s);return o.pop(),s.pop(),v}},{"../lang/isArray":149,"../lang/isTypedArray":155,"./equalArrays":132,"./equalByTag":133,"./equalObjects":134}],121:[function(t,e,n){var f=t("./baseIsEqual"),h=t("./toObject");e.exports=function(t,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=h(t);r--;){var s=e[r];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<i;){var a=(s=e[r])[0],u=t[a],c=s[1];if(o&&s[2]){if(void 0===u&&!(a in t))return!1}else{var l=n?n(u,c,a):void 0;if(!(void 0===l?f(c,u,n,!0):l))return!1}}return!0}},{"./baseIsEqual":119,"./toObject":146}],122:[function(t,e,n){var i=t("./baseIsMatch"),o=t("./getMatchData"),s=t("./toObject");e.exports=function(t){var e=o(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&t[n]===r&&(void 0!==r||n in s(t))}}return function(t){return i(t,e)}}},{"./baseIsMatch":121,"./getMatchData":136,"./toObject":146}],123:[function(t,e,n){var a=t("./baseGet"),u=t("./baseIsEqual"),c=t("./baseSlice"),l=t("../lang/isArray"),f=t("./isKey"),h=t("./isStrictComparable"),p=t("../array/last"),d=t("./toObject"),g=t("./toPath");e.exports=function(n,r){var i=l(n),o=f(n)&&h(r),s=n+"";return n=g(n),function(t){if(null==t)return!1;var e=s;if(t=d(t),(i||!o)&&!(e in t)){if(null==(t=1==n.length?t:a(t,c(n,0,-1))))return!1;e=p(n),t=d(t)}return t[e]===r?void 0!==r||e in t:u(r,t[e],void 0,!0)}}},{"../array/last":104,"../lang/isArray":149,"./baseGet":118,"./baseIsEqual":119,"./baseSlice":126,"./isKey":141,"./isStrictComparable":144,"./toObject":146,"./toPath":147}],124:[function(t,e,n){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},{}],125:[function(t,e,n){var r=t("./baseGet"),i=t("./toPath");e.exports=function(e){var n=e+"";return e=i(e),function(t){return r(t,e,n)}}},{"./baseGet":118,"./toPath":147}],126:[function(t,e,n){e.exports=function(t,e,n){var r=-1,i=t.length;(e=null==e?0:+e||0)<0&&(e=i<-e?0:i+e),(n=void 0===n||i<n?i:+n||0)<0&&(n+=i),i=n<e?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},{}],127:[function(t,e,n){e.exports=function(t){return null==t?"":t+""}},{}],128:[function(t,e,n){var r=t("../utility/identity");e.exports=function(o,s,t){if("function"!=typeof o)return r;if(void 0===s)return o;switch(t){case 1:return function(t){return o.call(s,t)};case 3:return function(t,e,n){return o.call(s,t,e,n)};case 4:return function(t,e,n,r){return o.call(s,t,e,n,r)};case 5:return function(t,e,n,r,i){return o.call(s,t,e,n,r,i)}}return function(){return o.apply(s,arguments)}}},{"../utility/identity":161}],129:[function(t,e,n){var c=t("./bindCallback"),l=t("./isIterateeCall"),r=t("../function/restParam");e.exports=function(u){return r(function(t,e){var n=-1,r=null==t?0:e.length,i=2<r?e[r-2]:void 0,o=2<r?e[2]:void 0,s=1<r?e[r-1]:void 0;for("function"==typeof i?(i=c(i,s,5),r-=2):r-=(i="function"==typeof s?s:void 0)?1:0,o&&l(e[0],e[1],o)&&(i=r<3?void 0:i,r=1);++n<r;){var a=e[n];a&&u(t,a,i)}return t})}},{"../function/restParam":106,"./bindCallback":128,"./isIterateeCall":140}],130:[function(t,e,n){var a=t("./getLength"),u=t("./isLength"),c=t("./toObject");e.exports=function(o,s){return function(t,e){var n=t?a(t):0;if(!u(n))return o(t,e);for(var r=s?n:-1,i=c(t);(s?r--:++r<n)&&!1!==e(i[r],r,i););return t}}},{"./getLength":135,"./isLength":142,"./toObject":146}],131:[function(t,e,n){var c=t("./toObject");e.exports=function(u){return function(t,e,n){for(var r=c(t),i=n(t),o=i.length,s=u?o:-1;u?s--:++s<o;){var a=i[s];if(!1===e(r[a],a,r))break}return t}}},{"./toObject":146}],132:[function(t,e,n){var p=t("./arraySome");e.exports=function(t,e,n,r,i,o,s){var a=-1,u=t.length,c=e.length;if(u!=c&&!(i&&u<c))return!1;for(;++a<u;){var l=t[a],f=e[a],h=r?r(i?f:l,i?l:f,a):void 0;if(void 0!==h){if(h)continue;return!1}if(i){if(!p(e,function(t){return l===t||n(l,t,r,i,o,s)}))return!1}else if(l!==f&&!n(l,f,r,i,o,s))return!1}return!0}},{"./arraySome":108}],133:[function(t,e,n){e.exports=function(t,e,n){switch(n){case"[object Boolean]":case"[object Date]":return+t==+e;case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object Number]":return t!=+t?e!=+e:t==+e;case"[object RegExp]":case"[object String]":return t==e+""}return!1}},{}],134:[function(t,e,n){var v=t("../object/keys"),m=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,r,i,o,s){var a=v(t),u=a.length;if(u!=v(e).length&&!i)return!1;for(var c=u;c--;){var l=a[c];if(!(i?l in e:m.call(e,l)))return!1}for(var f=i;++c<u;){var h=t[l=a[c]],p=e[l],d=r?r(i?p:h,i?h:p,l):void 0;if(!(void 0===d?n(h,p,r,i,o,s):d))return!1;f||(f="constructor"==l)}if(!f){var g=t.constructor,y=e.constructor;if(g!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0}},{"../object/keys":158}],135:[function(t,e,n){var r=t("./baseProperty")("length");e.exports=r},{"./baseProperty":124}],136:[function(t,e,n){var r=t("./isStrictComparable"),i=t("../object/pairs");e.exports=function(t){for(var e=i(t),n=e.length;n--;)e[n][2]=r(e[n][1]);return e}},{"../object/pairs":160,"./isStrictComparable":144}],137:[function(t,e,n){var r=t("../lang/isNative");e.exports=function(t,e){var n=null==t?void 0:t[e];return r(n)?n:void 0}},{"../lang/isNative":152}],138:[function(t,e,n){var r=t("./getLength"),i=t("./isLength");e.exports=function(t){return null!=t&&i(r(t))}},{"./getLength":135,"./isLength":142}],139:[function(t,e,n){var r=/^\d+$/;e.exports=function(t,e){return e=null==e?9007199254740991:e,-1<(t="number"==typeof t||r.test(t)?+t:-1)&&t%1==0&&t<e}},{}],140:[function(t,e,n){var o=t("./isArrayLike"),s=t("./isIndex"),a=t("../lang/isObject");e.exports=function(t,e,n){if(!a(n))return!1;var r=typeof e;if("number"==r?o(n)&&s(e,n.length):"string"==r&&e in n){var i=n[e];return t==t?t===i:i!=i}return!1}},{"../lang/isObject":153,"./isArrayLike":138,"./isIndex":139}],141:[function(t,e,n){var r=t("../lang/isArray"),i=t("./toObject"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(t,e){var n=typeof t;return!!("string"==n&&s.test(t)||"number"==n)||!r(t)&&(!o.test(t)||null!=e&&t in i(e))}},{"../lang/isArray":149,"./toObject":146}],142:[function(t,e,n){e.exports=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}},{}],143:[function(t,e,n){e.exports=function(t){return!!t&&"object"==typeof t}},{}],144:[function(t,e,n){var r=t("../lang/isObject");e.exports=function(t){return t==t&&!r(t)}},{"../lang/isObject":153}],145:[function(t,e,n){var u=t("../lang/isArguments"),c=t("../lang/isArray"),l=t("./isIndex"),f=t("./isLength"),h=t("../object/keysIn"),p=Object.prototype.hasOwnProperty;e.exports=function(t){for(var e=h(t),n=e.length,r=n&&t.length,i=!!r&&f(r)&&(c(t)||u(t)),o=-1,s=[];++o<n;){var a=e[o];(i&&l(a,r)||p.call(t,a))&&s.push(a)}return s}},{"../lang/isArguments":148,"../lang/isArray":149,"../object/keysIn":159,"./isIndex":139,"./isLength":142}],146:[function(t,e,n){var r=t("../lang/isObject");e.exports=function(t){return r(t)?t:Object(t)}},{"../lang/isObject":153}],147:[function(t,e,n){var r=t("./baseToString"),o=t("../lang/isArray"),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;e.exports=function(t){if(o(t))return t;var i=[];return r(t).replace(s,function(t,e,n,r){i.push(n?r.replace(a,"$1"):e||t)}),i}},{"../lang/isArray":149,"./baseToString":127}],148:[function(t,e,n){var r=t("../internal/isArrayLike"),i=t("../internal/isObjectLike"),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable;e.exports=function(t){return i(t)&&r(t)&&s.call(t,"callee")&&!a.call(t,"callee")}},{"../internal/isArrayLike":138,"../internal/isObjectLike":143}],149:[function(t,e,n){var r=t("../internal/getNative"),i=t("../internal/isLength"),o=t("../internal/isObjectLike"),s=Object.prototype.toString,a=r(Array,"isArray")||function(t){return o(t)&&i(t.length)&&"[object Array]"==s.call(t)};e.exports=a},{"../internal/getNative":137,"../internal/isLength":142,"../internal/isObjectLike":143}],150:[function(t,e,n){var r=t("./isArguments"),i=t("./isArray"),o=t("../internal/isArrayLike"),s=t("./isFunction"),a=t("../internal/isObjectLike"),u=t("./isString"),c=t("../object/keys");e.exports=function(t){return null==t||(o(t)&&(i(t)||u(t)||r(t)||a(t)&&s(t.splice))?!t.length:!c(t).length)}},{"../internal/isArrayLike":138,"../internal/isObjectLike":143,"../object/keys":158,"./isArguments":148,"./isArray":149,"./isFunction":151,"./isString":154}],151:[function(t,e,n){var r=t("./isObject"),i=Object.prototype.toString;e.exports=function(t){return r(t)&&"[object Function]"==i.call(t)}},{"./isObject":153}],152:[function(t,e,n){var r=t("./isFunction"),i=t("../internal/isObjectLike"),o=/^\[object .+?Constructor\]$/,s=Object.prototype,a=Function.prototype.toString,u=s.hasOwnProperty,c=RegExp("^"+a.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return null!=t&&(r(t)?c.test(a.call(t)):i(t)&&o.test(t))}},{"../internal/isObjectLike":143,"./isFunction":151}],153:[function(t,e,n){e.exports=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}},{}],154:[function(t,e,n){var r=t("../internal/isObjectLike"),i=Object.prototype.toString;e.exports=function(t){return"string"==typeof t||r(t)&&"[object String]"==i.call(t)}},{"../internal/isObjectLike":143}],155:[function(t,e,n){var r=t("../internal/isLength"),i=t("../internal/isObjectLike"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var s=Object.prototype.toString;e.exports=function(t){return i(t)&&r(t.length)&&!!o[s.call(t)]}},{"../internal/isLength":142,"../internal/isObjectLike":143}],156:[function(t,e,n){var r=t("../internal/assignWith"),i=t("../internal/baseAssign"),o=t("../internal/createAssigner")(function(t,e,n){return n?r(t,e,n):i(t,e)});e.exports=o},{"../internal/assignWith":109,"../internal/baseAssign":110,"../internal/createAssigner":129}],157:[function(t,e,n){var i=t("../internal/baseAssign"),o=t("../internal/baseCreate"),s=t("../internal/isIterateeCall");e.exports=function(t,e,n){var r=o(t);return n&&s(t,e,n)&&(e=void 0),e?i(r,e):r}},{"../internal/baseAssign":110,"../internal/baseCreate":113,"../internal/isIterateeCall":140}],158:[function(t,e,n){var r=t("../internal/getNative"),i=t("../internal/isArrayLike"),o=t("../lang/isObject"),s=t("../internal/shimKeys"),a=r(Object,"keys"),u=a?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&i(t)?s(t):o(t)?a(t):[]}:s;e.exports=u},{"../internal/getNative":137,"../internal/isArrayLike":138,"../internal/shimKeys":145,"../lang/isObject":153}],159:[function(t,e,n){var u=t("../lang/isArguments"),c=t("../lang/isArray"),l=t("../internal/isIndex"),f=t("../internal/isLength"),h=t("../lang/isObject"),p=Object.prototype.hasOwnProperty;e.exports=function(t){if(null==t)return[];h(t)||(t=Object(t));var e=t.length;e=e&&f(e)&&(c(t)||u(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=Array(e),s=0<e;++r<e;)o[r]=r+"";for(var a in t)s&&l(a,e)||"constructor"==a&&(i||!p.call(t,a))||o.push(a);return o}},{"../internal/isIndex":139,"../internal/isLength":142,"../lang/isArguments":148,"../lang/isArray":149,"../lang/isObject":153}],160:[function(t,e,n){var s=t("./keys"),a=t("../internal/toObject");e.exports=function(t){t=a(t);for(var e=-1,n=s(t),r=n.length,i=Array(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}},{"../internal/toObject":146,"./keys":158}],161:[function(t,e,n){e.exports=function(t){return t}},{}],162:[function(t,e,n){var r=t("../internal/baseProperty"),i=t("../internal/basePropertyDeep"),o=t("../internal/isKey");e.exports=function(t){return o(t)?r(t):i(t)}},{"../internal/baseProperty":124,"../internal/basePropertyDeep":125,"../internal/isKey":141}]},{},[11])(11)}),define("modules/login/LoginDialog",["jsforce"],function(t){var e,n=$("#loginDialog"),r=$("#loginCancel",n),i=$("#loginConnect",n),o=$("#loginOrgType",n),s=o[0].options[0].value;function a(){n.modal("hide")}return i.on("click",function(){t.browser.login({loginUrl:s},function(t){t&&(alert(t.message),a(),e.reject(t))})}),r.on("click",function(){a()}),o.on("change",function(t){var e=t.target;s=e.options[e.selectedIndex].value}),{init:function(){return t.browser.init({clientId:"3MVG9Rd3qC6oMalUsp2rPGB248pmNZXR7fBNcNpBpm27UadFGFLF1iU5iDK0MizIm54mYU.slyNZOyBeTKvw9",redirectUri:"https://bootforce.herokuapp.com/callback.html",proxyUrl:"https://node-salesforce-proxy.herokuapp.com/proxy/"}),t.browser.on("connect",function(t){n.modal("hide"),e.resolve(t)}),(e=$.Deferred()).promise()}}}),define("org/contacts",["knockout"],function(t){function e(t){this.name=t.Name,this.title=t.Title,this.department=t.Department,this.mobile=t.MobilePhone,this.email=t.Email,this.leadSource=t.LeadSource}function n(){}return n.prototype={contacts:t.observableArray([]),totalContacts:t.observable(""),updateContacts:function(t){this.totalContacts(t.length),(t=t.slice(0,10)).forEach(function(t){this.contacts.push(new e(t))},this)},getContacts:function(){this.connector.query("SELECT Name, Title, Department, MobilePhone, Email, LeadSource FROM Contact",function(t,e){t&&console.error(t),console.log(e),this.updateContacts(e.records)}.bind(this))}},n}),define("org/accounts",["knockout"],function(t){function e(t){this.id=t.Id,this.name=t.Name,this.accNumber=t.AccountNumber,this.city=t.BillingAddress.city,this.priority=t.CustomerPriority__c,this.employees=t.NumberOfEmployees,this.ownership=t.Ownership}function n(){}return n.prototype={accounts:t.observableArray([]),totalAccounts:t.observable(""),updateAccounts:function(t){this.totalAccounts(t.length),(t=t.slice(0,10)).forEach(function(t){this.accounts.push(new e(t))},this)},getAccounts:function(){this.connector.query("SELECT Id, Name, NumberOfEmployees, AccountNumber,BillingAddress, CustomerPriority__c, Ownership FROM Account",function(t,e){t&&console.error(t),console.log(e),this.updateAccounts(e.records)}.bind(this))}},n}),define("org/todos",["knockout"],function(t){function e(t){this.contact=t.contact,this.assignee=t.assignee,this.notes=t.notes,this.when=t.when}function n(){}return n.prototype={todos:t.observableArray([]),totalTodos:t.observable(""),updateTodos:function(t){this.totalTodos(t.length),t.forEach(function(t){this.todos.push(new e(t))},this)},getTodos:function(){var t=$.getJSON("scripts/todos.json");t.success(function(t){this.updateTodos(t)}.bind(this)),t.error(function(t){console.log(t),console.log("json load error")}),t.complete(function(){console.log("data load done")})}},n}),define("org/OrgModelImp",["knockout","org/contacts","org/accounts","org/todos"],function(e,n,r,i){return function(){function t(){n.call(this),r.call(this),i.call(this)}return t.prototype=Object.create(n.prototype),$.extend(t.prototype,r.prototype),$.extend(t.prototype,i.prototype),t.prototype.username=e.observable(""),t.prototype.userPhoto=e.observable("/assets/images/avatar2.jpg"),t.prototype.reset=function(){this.username(null),this.sessionid=void 0,this.fullname(null),this.shows.removeAll()},t.prototype.isLoggedIn=e.observable(!1),t.prototype.setConnector=function(t){this.isLoggedIn(!0),this.connector=t},t.prototype.logout=function(){return this.isLoggedIn(!1),this.connector.logout()},t.prototype.getUserProfile=function(){var r=$.Deferred();return this.connector.identity().then(function(t,e){if(e&&r.reject(e),this.username(t.display_name),t.photos&&t.photos.thumbnail){var n=t.photos.thumbnail+"?oauth_token="+this.connector.accessToken;this.userPhoto(n)}r.resolve()}.bind(this)),r.promise()},t}()}),define("org/OrgModel",["org/OrgModelImp"],function(t){return new t}),define("org/main",["jsforce","knockout","org/OrgModel"],function(t,e,n){window.OrgModel=n;var r=!1,i=$("#login"),o=$("#loggedIn");return{init:function(){r||(e.applyBindings(n,$("#app")[0]),r=!0)},model:n,getLocalData:function(){n.getTodos()},setConnector:function(t){n.setConnector(t)},getUserProfile:function(){$.when(n.getUserProfile()).done(function(){i.addClass("slds-hide"),o.removeClass("slds-hide")}).fail(function(t){alert(t.message)})},logout:function(){t.browser.logout(),o.addClass("slds-hide"),i.removeClass("slds-hide")},reset:function(){n.reset()}}}),define("modules/login/LogoutDialog",["jsforce","org/main"],function(t,e){window.force=t;var n=$("#logoutDialog"),r=$("#logoutCancel",n);$("#logout",n).on("click",function(){n.modal("hide"),e.logout()}),r.on("click",function(){n.modal("hide")})}),define("modules/login/main",["modules/login/LoginDialog","modules/login/LogoutDialog"],function(t){return{init:function(){var e=$.Deferred();return t.init().done(function(t){e.resolve(t)}).fail(function(t){console.error("Error logging in."),e.reject(t)}),e.promise()}}}),require([],function(){$.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return $(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||$(n).trigger($.support.transition.end)},t),this},$(function(){$.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(t){if($(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}),define("modules/components/utils/transition",function(){}),require([],function(){var e='[data-dismiss="alert"]',o=function(t){$(t).on("click",e,this.close)};o.VERSION="3.3.5",o.TRANSITION_DURATION=150,o.prototype.close=function(t){var e=$(this),n=e.attr("data-target");n||(n=e.attr("href"));var r=$(n);function i(){r.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),r.length||(r=e.closest(".slds-notify_alert")),r.trigger(t=$.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),$.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var t=$.fn.alert;$.fn.alert=function(n){return this.each(function(){var t=$(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new o(this)),"string"==typeof n&&e[n].call(t)})},$.fn.alert.Constructor=o,$.fn.alert.noConflict=function(){return $.fn.alert=t,this},$(document).on("click.bs.alert.data-api",e,o.prototype.close)}),define("modules/components/alert",function(){}),function(){"use strict";require([],function(){var u=function(t){this.element=$(t)};function e(n){return this.each(function(){var t=$(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new u(this)),"string"==typeof n&&e[n]()})}u.VERSION="3.3.5",u.TRANSITION_DURATION=150,u.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("slds-active")){var r=e.find(".slds-active:last a"),i=$.Event("hide.bs.tab",{relatedTarget:t[0]}),o=$.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(i),t.trigger(o),!o.isDefaultPrevented()&&!i.isDefaultPrevented()){var s=$(n);this.activate(t.closest("li"),e),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},u.prototype.activate=function(t,e,n){var r="active",i="";n&&(r="show",i="hide");var o=e.find("> .slds-"+r),s=n&&$.support.transition&&(o.length&&o.hasClass("fade")||!!e.find("> .fade").length);function a(){o.removeClass("slds-"+r).addClass("slds-"+i).find("> .dropdown-menu > .slds-"+r).removeClass("slds-"+r).end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.removeClass("slds-"+i).addClass("slds-"+r).find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("slds-"+r).end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}o.length&&s?o.one("bsTransitionEnd",a).emulateTransitionEnd(u.TRANSITION_DURATION):a(),o.removeClass("in")};var t=$.fn.tab;$.fn.tab=e,$.fn.tab.Constructor=u,$.fn.tab.noConflict=function(){return $.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call($(this),"show")};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)})}(),define("modules/components/tab",function(){}),require([],function(){var i=function(t,e){this.$element=$(t),this.options=$.extend({},i.DEFAULTS,e),this.isLoading=!1};function n(r){return this.each(function(){var t=$(this),e=t.data("bs.button"),n="object"==typeof r&&r;e||t.data("bs.button",e=new i(this,n)),"toggle"===r?e.toggle():e.changeState()})}i.VERSION="3.3.5",i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');e.length?("checkbox"===e.data("grouptype")?(console.log("checkbox"),this.$element.hasClass("slds-is-selected")&&(t=!1),this.$element.toggleClass("slds-is-selected")):(this.$element.hasClass("slds-is-selected")&&(t=!1),e.find(".slds-is-selected").removeClass("slds-is-selected"),this.$element.addClass("slds-is-selected")),t&&this.$element.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("slds-is-selected")),this.$element.toggleClass("slds-is-selected"))},i.prototype.changeState=function(){this.$element.attr("aria-pressed",!this.$element.hasClass("slds-is-selected")),this.$element.toggleClass("slds-is-selected slds-not-selected")};var t=$.fn.button;$.fn.button=n,$.fn.button.Constructor=i,$.fn.button.noConflict=function(){return $.fn.button=t,this},$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=$(t.target);e.hasClass("slds-button")||(e=e.closest(".slds-button")),e.data().buttontype?n.call(e,"changestate"):n.call(e,"toggle"),$(t.target).is('input[type="radio"]')||$(t.target).is('input[type="checkbox"]')||t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){$(t.target).closest(".slds-button").toggleClass("focus",/^focus(in)?$/.test(t.type))})}),define("modules/components/button",function(){}),require([],function(){var o=function(t,e){this.options=e,this.$body=$(document.body),this.$element=$(t),this.$element.attr("tabindex",-1),this.$element.attr("style","display: none"),this.$dialog=this.$element.find(".slds-modal__container"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1};function s(r,i){return this.each(function(){var t=$(this),e=t.data("bs.modal"),n=$.extend({},o.DEFAULTS,t.data(),"object"==typeof r&&r);e||t.data("bs.modal",e=new o(this,n)),"string"==typeof r?e[r](i):n.show&&e.show(i)})}o.VERSION="3.3.5",o.TRANSITION_DURATION=300,o.BACKDROP_TRANSITION_DURATION=150,o.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},o.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},o.prototype.show=function(n){var r=this,t=$.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){$(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=$.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),t&&r.$element[0].offsetWidth,r.$element.addClass("slds-fade-in-open"),r.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:n});t?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(o.TRANSITION_DURATION):r.$element.trigger("focus").trigger(e)}))},o.prototype.hide=function(t){t&&t.preventDefault(),t=$.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),$(document).off("focusin.bs.modal"),this.$element.removeClass("slds-fade-in-open").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(o.TRANSITION_DURATION):this.hideModal())},o.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},o.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(t){27===t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},o.prototype.resize=function(){this.isShown?$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this)):$(window).off("resize.bs.modal")},o.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},o.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},o.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=$.support.transition&&n;if(this.$backdrop=$(document.createElement("div")).addClass("slds-backdrop").appendTo(this.$body),setTimeout(function(t){t.$backdrop.addClass("slds-backdrop_open")},0,this),this.$element.on("click.dismiss.bs.modal",$.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===this.options.backdrop?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("slds-backdrop_open"),this.$backdrop.one("bsTransitionEnd",function(){e.removeBackdrop(),t&&t()}).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION)):t&&t()},o.prototype.handleUpdate=function(){this.adjustDialog()},o.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},o.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},o.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},o.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},o.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},o.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=$.fn.modal;$.fn.modal=s,$.fn.modal.Constructor=o,$.fn.modal.noConflict=function(){return $.fn.modal=t,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=$(this),n=e.attr("href"),r=$(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),i=r.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(n)&&n},r.data(),e.data());e.is("a")&&t.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),s.call(r,i,this)})}),define("modules/components/modal",function(){}),function(){"use strict";require([],function(){var g=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};g.VERSION="3.3.5",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"right",selector:!1,template:'<div class="slds-tooltip" role="tooltip"><div class="slds-tooltip__content"><div class="slds-tooltip__body">This is some body content</div></div></div>',trigger:"hover focus",title:"",delay:500,html:!1,container:!1,viewport:{selector:"body",padding:0}},g.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=$(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&$($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),i=r.length;i--;){var o=r[i];if("click"===o)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!==o){var s="hover"===o?"mouseenter":"focusin",a="hover"===o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.SLDSPOSCLASSES={top:"slds-nubbin_bottom",right:"slds-nubbin_left",bottom:"slds-nubbin_top",left:"slds-nubbin_right"},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(t){return(t=$.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},g.prototype.getDelegateOptions=function(){var n={},r=this.getDefaults();return this._options&&$.each(this._options,function(t,e){r[t]!==e&&(n[t]=e)}),n},g.prototype.enter=function(t){var e=t instanceof this.constructor?t:$(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),$(t.currentTarget).data("bs."+this.type,e)),t instanceof $.Event&&(e.inState["focusin"===t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"===e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"===e.hoverState&&e.show()},e.options.delay.show)}},g.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},g.prototype.leave=function(t){var e=t instanceof this.constructor?t:$(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),$(t.currentTarget).data("bs."+this.type,e)),t instanceof $.Event&&(e.inState["focusout"===t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"===e.hoverState&&e.hide()},e.options.delay.hide)}},g.prototype.show=function(){var t=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,r=this.tip(),i=this.getUID(this.type);this.setContent(),r.attr("id",i),this.$element.attr("aria-describedby",i),this.options.animation&&r.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,a=s.test(o);a&&(o=o.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(this.getSLDSNubbinClass(o)).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),c=r[0].offsetWidth,l=r[0].offsetHeight;if(a){var f=o,h=this.getPosition(this.$viewport);o="bottom"===o&&u.bottom+l>h.bottom?"top":"top"===o&&u.top-l<h.top?"bottom":"right"===o&&u.right+c>h.width?"left":"left"===o&&u.left-c<h.left?"right":o,r.removeClass(f).addClass(o)}var p=this.getCalculatedOffset(o,u,c,l);this.applyPlacement(p,o);var d=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"===t&&n.leave(n)};$.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",d).emulateTransitionEnd(g.TRANSITION_DURATION):d()}},g.prototype.applyPlacement=function(t,e){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top+=o,t.left+=s,$.offset.setOffset(n[0],$.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var a=n[0].offsetWidth,u=n[0].offsetHeight;"top"===e&&u!==i&&(t.top=t.top+i-u);var c=this.getViewportAdjustedDelta(e,t,a,u);c.left?t.left+=c.left:t.top+=c.top;var l=/top|bottom/.test(e),f=l?2*c.left-r+a:2*c.top-i+u,h=l?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(f,n[0][h],l)},g.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},g.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".slds-tooltip__body")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},g.prototype.hide=function(t){var e=this,n=$(this.$tip),r=$.Event("hide.bs."+this.type);function i(){"in"!==e.hoverState&&n.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),t&&t()}if(this.$element.trigger(r),!r.isDefaultPrevented())return n.removeClass("in"),$.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",i).emulateTransitionEnd(g.TRANSITION_DURATION):i(),this.hoverState=null,this},g.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"===e.tagName,r=e.getBoundingClientRect();null===r.width&&(r=$.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var i=n?{top:0,left:0}:t.offset(),o={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},r,o,s,i)},g.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"===t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"===t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"===t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},g.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,u=e.top+o-s.scroll+r;a<s.top?i.top=s.top-a:u>s.top+s.height&&(i.top=s.top+s.height-u)}else{var c=e.left-o,l=e.left+o+n;c<s.left?i.left=s.left-c:l>s.right&&(i.left=s.left+s.width-l)}return i},g.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},g.prototype.getSLDSNubbinClass=function(t){return this.SLDSPOSCLASSES[t]},g.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},g.prototype.tip=function(){if(!this.$tip&&(this.$tip=$(this.options.template),1!==this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(t){var e=this;t&&((e=$(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),$(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},g.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var t=$.fn.tooltip;$.fn.tooltip=function(r){return this.each(function(){var t=$(this),e=t.data("bs.tooltip"),n="object"==typeof r&&r;!e&&/destroy|hide/.test(r)||(e||t.data("bs.tooltip",e=new g(this,n)),"string"==typeof r&&e[r]())})},$.fn.tooltip.Constructor=g,$('[data-toggle="tooltip"]').tooltip(),$.fn.tooltip.noConflict=function(){return $.fn.tooltip=t,this}})}(),define("modules/components/tooltip",function(){}),require([],function(){var s='[data-toggle="dropdown"]',r=function(t){$(t).on("click.bs.dropdown",this.toggle)};function a(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&$(e);return n&&n.length?n:t.parent()}function o(r){r&&3===r.which||($(".dropdown-backdrop").remove(),$(s).each(function(){var t=$(this),e=a(t),n={relatedTarget:this};e.hasClass("open")&&(r&&"click"===r.type&&/input|textarea/i.test(r.target.tagName)&&$.contains(e[0],r.target)||(e.trigger(r=$.Event("hide.bs.dropdown",n)),r.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",n))))}))}r.VERSION="3.3.5",r.prototype.toggle=function(t){var e=$(this);if(!e.is(".disabled, :disabled")){var n=a(e),r=n.hasClass("open");if(o(),!r){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&$(document.createElement("div")).addClass("dropdown-backdrop").insertAfter($(this)).on("click",o);var i={relatedTarget:this};if(n.trigger(t=$.Event("show.bs.dropdown",i)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",i)}return!1}},r.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=$(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=a(e),r=n.hasClass("open");if(!r&&27!==t.which||r&&27===t.which)return 27===t.which&&n.find(s).trigger("focus"),e.trigger("click");var i=n.find(".dropdown-menu li:not(.disabled):visible a");if(i.length){var o=i.index(t.target);38===t.which&&0<o&&o--,40===t.which&&o<i.length-1&&o++,~o||(o=0),i.eq(o).trigger("focus")}}}};var t=$.fn.dropdown;$.fn.dropdown=function(n){return this.each(function(){var t=$(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new r(this)),"string"==typeof n&&e[n].call(t)})},$.fn.dropdown.Constructor=r,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=t,this},$(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,r.prototype.toggle).on("keydown.bs.dropdown.data-api",s,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}),define("modules/components/dropdown",function(){}),require([],function(){var i=function(t,e){this.init("popover",t,e)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.5",i.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="slds-popover slds-nubbin_left" role="dialog"><div class="slds-popover__header"></div><div class="slds-popover__body"></div></div>'}),((i.prototype=$.extend({},$.fn.tooltip.Constructor.prototype)).constructor=i).prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".slds-popover__header")[this.options.html?"html":"text"](e),t.find(".slds-popover__body").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".slds-popover__header").html()||t.find(".slds-popover__header").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=$.fn.popover;$.fn.popover=function(r){return this.each(function(){var t=$(this),e=t.data("bs.popover"),n="object"==typeof r&&r;!e&&/destroy|hide/.test(r)||(e||t.data("bs.popover",e=new i(this,n)),"string"==typeof r&&e[r]())})},$.fn.popover.Constructor=i,$('[data-toggle="popover"]').popover(),$.fn.popover.noConflict=function(){return $.fn.popover=t,this}}),define("modules/components/popover",function(){}),define("modules/components/responsiveMenu",[],function(){var e=!1,t=$("#bfBurger"),n=$("#bfMenu"),r=$("#bfMenuShade");return t.on("click",function(){var t=window.bootforce.prefix;e?(e=!1,n.removeClass(t+"show"),r.removeClass("fadeUp"),setTimeout(function(){r.removeClass(t+"show")},250)):(e=!0,n.addClass(t+"show"),r.addClass(t+"show"),setTimeout(function(){r.addClass("fadeUp")},0))}),{}}),requirejs.config({baseUrl:"scripts"}),require(["modules/components/utils/transition","modules/components/alert","modules/components/tab","modules/components/button","modules/components/modal","modules/components/tooltip","modules/components/dropdown","modules/components/popover","modules/components/responsiveMenu"],function(){}),define("modules/components/main",function(){}),define("modules/data/accounts",["org/OrgModel"],function(t){var e=!1,n=$("#getAccounts"),r=$("#accountsLoading");function i(){r.removeClass("slds-hide"),$.when(t.getAccounts()).done(function(){r.addClass("slds-hide")}).fail(function(t){alert(t.message)})}e||(e=!0,n.on("click",i))}),define("modules/data/contacts",["org/OrgModel"],function(t){var e=!1,n=$("#getContacts"),r=$("#accountsLoading");function i(){r.removeClass("slds-hide"),$.when(t.getContacts()).done(function(){r.addClass("slds-hide")}).fail(function(t){alert(t.message)})}e||(e=!0,n.on("click",i))}),function(){"use strict";requirejs.config({baseUrl:"scripts",paths:{knockout:"../lib/knockout/dist/knockout",jsforce:"../lib/jsforce/build/jsforce"},shim:{}}),require(["knockout","modules/login/main","org/main","modules/components/main","modules/data/accounts","modules/data/contacts"],function(t,e,n){window.bootforce={},window.bootforce.prefix="slds-",n.init(),n.getLocalData(),e.init().done(function(t){n.setConnector(t),n.getUserProfile()}).fail(function(t){console.error("Error logging in."),console.log(t)})})}(),define("main",function(){}),require(["main"]);
//# sourceMappingURL=main.min.js.map